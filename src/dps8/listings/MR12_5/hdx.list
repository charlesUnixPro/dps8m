	COMPILATION LISTING OF SEGMENT hdx
	Compiled by: Multics PL/I Compiler, Release 28d, of October 4, 1983
	Compiled at: Honeywell Multics Op. - System M
	Compiled on: 08/16/84  1201.0 mst Thu
	    Options: optimize list

        1 /* ***********************************************************
        2*   *                                                         *
        3*   * Copyright, (C) Honeywell Information Systems Inc., 1982 *
        4*   *                                                         *
        5*   * Copyright (c) 1972 by Massachusetts Institute of        *
        6*   * Technology and Honeywell Information Systems, Inc.      *
        7*   *                                                         *
        8*   *********************************************************** */
        9 
       10 
       11 hdx: proc;
       12 
       13 /* Logical Volume Registration Guts.
       14*
       15*   This program knows where the volume registration data for logical volumes is kept.
       16*
       17*   It contain entries called by the volume registration commands
       18*   and service entries called by many other programs.
       19*
       20*   The whole program runs in ring 1.
       21*
       22*   Written by T. H. VanVleck
       23*   Modified July 1981 by J. Bongiovanni to validate lvx.
       24*   Modified 83-12-06 BIM to use RCP privilege to circumvent AIM.
       25*   Modified 83-12-07 BIM to update disk table from vol registration.
       26**/
       27 
       28 dcl  dn char (168), en char (32);			/* Volume registration  seg */
       29 dcl  nvrp ptr;
       30 dcl  tp ptr;
       31 dcl (addr, clock, fixed, index, length, null, reverse, size, substr, unspec, verify) builtin;
       32 dcl  uname char (32);
       33 dcl  pvname char (32);				/* Physical volume name */
       34 dcl  lvname char (32);				/* Logical volume name */
       35 dcl  mode fixed bin (5);
       36 dcl  type fixed bin (2);
       37 dcl  bc fixed bin (24);
       38 dcl (i, j, k) fixed bin;
       39 dcl  owner char (32);				/* Person.Project of vol owner */
       40 dcl (proj, oproj) char (9);				/* temps for access check */
       41 dcl (pers, opers) char (22);				/* .. */
       42 dcl  old_level fixed bin init (cu_$level_get ());
       43 dcl  ec fixed bin (35);
       44 dcl (found, ready, make_lve) bit (1);
       45 dcl  first bit (1) static init ("1"b);
       46 dcl  PRIV (0:1) char (8) static options (constant) init ("private", "public");
       47 dcl  LEGAL char (76) int static options (constant) init	/* Valid characters. */
       48     (" '_`~^+-.{}:!0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");
       49 dcl  PV bit (1) static init ("0"b);
       50 dcl  LV bit (1) static init ("1"b);
       51 dcl  INIT bit (1) static init ("0"b);
       52 dcl  DONT_INIT bit (1) static init ("1"b);
       53 
       54 dcl  ROOT char (168) static init (">");
       55 dcl (LV_DIR, REAL_LV_DIR) char (168) static init (">lv");
       56 
       57 dcl  error_table_$argerr fixed bin (35) ext;
       58 dcl  error_table_$unregistered_volume fixed bin (35) ext;
       59 dcl  error_table_$bad_volid fixed bin (35) ext;
       60 dcl  error_table_$incorrect_device_type fixed bin (35) ext;
       61 dcl  error_table_$segnamedup fixed bin (35) ext;
       62 dcl  error_table_$namedup fixed bin (35) ext;
       63 
       64 dcl  cu_$level_get entry () returns (fixed bin);
       65 dcl  cu_$level_set entry (fixed bin);
       66 dcl  com_err_ entry options (variable);
       67 dcl  convert_authorization_$from_string entry (char (*), bit (72), fixed bin (35));
       68 dcl  convert_date_to_binary_ entry (char (*), fixed bin (71), fixed bin (35));
       69 dcl  expand_path_ entry (ptr, fixed bin, ptr, ptr, fixed bin (35));
       70 dcl  get_authorization_ entry () returns (bit (72) aligned) reducible;
       71 dcl  get_privileges_ entry() returns(bit (36) aligned);
       72 dcl  get_group_id_ entry () returns (char (32));
       73 dcl  hcs_$add_acl_entries entry (char (*), char (*), ptr, fixed bin, fixed bin (35));
       74 dcl  hcs_$append_link entry (char (*), char (*), char (*), fixed bin (35));
       75 dcl  hcs_$chname_file entry (char (*), char (*), char (*), char (*), fixed bin (35));
       76 dcl  hcs_$chname_seg entry (ptr, char (*), char (*), fixed bin (35));
       77 dcl  hcs_$create_branch_ entry (char (*), char (*), ptr, fixed bin (35));
       78 dcl  hcs_$delentry_file entry (char (*), char (*), fixed bin (35));
       79 dcl  hcs_$delentry_seg entry (ptr, fixed bin (35));
       80 dcl  hcs_$get_user_effmode entry (char (*), char (*), char (*), fixed bin (3),
       81      fixed bin (5), fixed bin (35));			/* SWS */
       82 dcl  hcs_$initiate entry (char (*), char (*), char (*), fixed bin, fixed bin, ptr, fixed bin (35));
       83 dcl  hcs_$make_seg entry (char (*), char (*), char (*), fixed bin (5), ptr, fixed bin (35));
       84 dcl  hcs_$set_bc_seg entry (ptr, fixed bin (24), fixed bin (35));
       85 dcl  hcs_$set_damaged_sw entry (char (*), char (*), bit (1), fixed bin (35));
       86 dcl  hcs_$set_damaged_sw_seg entry (ptr, bit (1), fixed bin (35));
       87 dcl  hphcs_$set_rpv entry (char (*), char (*), fixed bin (35));
       88 dcl  hcs_$status_minf entry (char (*), char (*), fixed bin (1), fixed bin (2),
       89      fixed bin (24), fixed bin (35));
       90 dcl  hcs_$terminate_noname entry (ptr, fixed bin (35));
       91 dcl  hdx$make_link entry (char (*) aligned, fixed bin (35));
       92 dcl  mdc_repair_$recreate_mdcs entry (char (*), bit (36), fixed bin (35));
       93 dcl  mdc_init_ entry;
       94 dcl  read_allowed_ entry (bit(72) aligned, bit(72) aligned) returns(bit(1) aligned);
       95 dcl  write_allowed_ entry (bit(72) aligned, bit(72) aligned) returns(bit(1) aligned);
       96 dcl  unique_chars_ entry (bit (*) aligned) returns (char (15));
       97 
       98 dcl 1 aa aligned,
       99     2 name char (32) init ("*.*.*"),
      100     2 mode bit (36) init ("100"b),
      101     2 mbz bit (36) init ((36)"0"b),
      102     2 code fixed bin (35);
      103 
      104 dcl 1 CBI aligned like create_branch_info;
      105 
      106 /* ===================================================== */
      107 
      108 init:	entry (a_dtp);				/* Called from mdx */
      109 
      110 dcl  sdtp ptr static init (null), a_dtp ptr;
      111 
      112 	sdtp = a_dtp;				/* Save this */
      113 	call hcs_$set_damaged_sw_seg (sdtp, "0"b, (0));	/* We will salvage */
      114 	call mdc_init_;
      115 	return;
      116 
      117 /* ===================================================== */
      118 
      119 /* Primitive entry points to read and write volume registration segments.
      120*   These entries are called through initializer_gate_ from hvr_ */
      121 
      122 read_hv:	entry (a_lvname, a_ptr, a_ec);
      123 
      124 dcl  a_lvname char (*),
      125      a_ptr ptr,
      126      a_ec fixed bin (35);
      127 
      128 	lvname = a_lvname;
      129 	call locate_ (lvname, LV, INIT);		/* Parse name */
      130 
      131 	a_ptr -> volume_registration = volume_registration; /* Copy whole seg to user ring */
      132 	ec = 0;
      133 exit:	call hcs_$terminate_noname (vrp, (0));		/* Common exit point */
      134 exit1:	a_ec = ec;
      135 	call cu_$level_set (old_level);
      136 	return;
      137 
      138 /* ------------------------------------------------------- */
      139 
      140 read_pv:	entry (a_pvname, a_ptr, a_ec);		/* Same thing given pvname */
      141 
      142 dcl  a_pvname char (*);
      143 
      144 	pvname = a_pvname;
      145 	call locate_ (pvname, PV, INIT);		/* Parse name */
      146 
      147 	a_ptr -> volume_registration = volume_registration;
      148 	ec = 0;
      149 	go to exit;
      150 
      151 /* ------------------------------------------------------- */
      152 
      153 write_hv:	entry (a_lvname, a_ptr, a_ec);		/* Write whole new copy of reg file */
      154 
      155 	lvname = a_lvname;
      156 	vrp = a_ptr;
      157 	if verify (lvname, LEGAL) ^= 0		/* Check what he wants */
      158 	| volume_registration.version ^= 1 | volume_registration.npv < 0 then do;
      159 	     a_ec = error_table_$argerr;		/* Don't write garbage */
      160 	     return;
      161 	end;
      162 
      163 	call locate_ (lvname, LV, DONT_INIT);		/* Just parse th name */
      164 	call hcs_$make_seg (dn, en, "", 1010b, nvrp, ec); /* Create new lv seg */
      165 	if nvrp = null then go to exit1;
      166 	nvrp -> volume_registration = volume_registration; /* Copy whole user seg */
      167 	vrp = nvrp;				/* Now refer to our copy */
      168 	call hcs_$set_bc_seg (vrp, 36*size (volume_registration), ec);
      169 	call hcs_$add_acl_entries (dn, en, addr (aa), 1, ec);
      170 
      171 	uname = "lvid." || unique_chars_ (volume_registration.hvid); /* Force name back on */
      172 	call hcs_$chname_seg (vrp, "", uname, ec);
      173 	ec = 0;
      174 	go to exit;
      175 
      176 /* ------------------------------------------------------- */
      177 
      178 chname_hv: entry (a_lvname, a_old, a_new, a_ec);		/* Entry used by hvr_ to add and delete names */
      179 
      180 dcl (a_old, a_new) char (*);
      181 
      182 	if verify (a_new, LEGAL) ^= 0 then do;		/* Check that new name is sensible */
      183 	     a_ec = error_table_$argerr;
      184 	     return;
      185 	end;
      186 	lvname = a_lvname;
      187 	call locate_ (lvname, LV, INIT);
      188 	if dn ^= LV_DIR then do;
      189 	     call hcs_$status_minf (LV_DIR, a_old, 0, type, bc, ec);
      190 	     if ec = 0 & type = 0
      191 	     then call hcs_$delentry_file (LV_DIR, a_old, ec);
      192 	     call hcs_$append_link (LV_DIR, a_new, target (en), ec);
      193 	end;
      194 	call hcs_$chname_seg (vrp, a_old, a_new, ec);
      195 	if ec = error_table_$segnamedup then ec = 0;
      196 	go to exit;
      197 
      198 /* ------------------------------------------------------- */
      199 
      200 delete_hv: entry (a_lvname, a_ec);
      201 
      202 	lvname = a_lvname;
      203 	call locate_ (lvname, LV, INIT);
      204 	uname = rtrim (lvname) || ".acs";
      205 	call hcs_$status_minf (LV_DIR, uname, 0, type, bc, ec);
      206 	if ec = 0 & type = 0
      207 	then call hcs_$delentry_file (LV_DIR, uname, ec);
      208 	call hcs_$delentry_seg (vrp, ec);
      209 	go to exit1;
      210 
      211 /* ------------------------------------------------------- */
      212 
      213 make_link: entry (a_path, a_ec);			/* Make a link from lv dir */
      214 
      215 dcl  a_path char (*);				/* .. with this as atrget */
      216 
      217 	dn = a_path;
      218 	i = length (dn) + 2 - index (reverse (dn), ">");	/* get local entryname */
      219 	en = substr (dn, i);
      220 	call cu_$level_set (1);
      221 	call hcs_$status_minf (LV_DIR, en, 0, type, bc, ec); /* Does it already exist? */
      222 	if ec = 0 & type = 0			/* If there was an old link */
      223 	then call hcs_$delentry_file (LV_DIR, en, ec);	/* Unlink it */
      224 	call hcs_$append_link (LV_DIR, en, dn, ec);	/* Make new link */
      225 	go to exit;
      226 
      227 /* ------------------------------------------------------- */
      228 
      229 /* Service entries called by various other programs which need to know about
      230*   volume registration information. Status, dumper, master dir control, mount */
      231 
      232 /* ------------------------------------------------------- */
      233 
      234 pvname_info: entry (a_pvname, a_pvid, a_lvname, a_lvid, a_device_type, a_ec);
      235 
      236 dcl  a_device_type fixed bin;
      237 	a_ec = error_table_$unregistered_volume;
      238 	pvname = a_pvname;
      239 	call locate_ (pvname, PV, INIT);
      240 	do i = 1 to volume_registration.npv while (pvname ^= volume_registration.pv (i).pvname); end;
      241 	if i > volume_registration.npv then return;
      242 	a_ec = 0;
      243 	a_pvid = volume_registration.pv (i).pvid;
      244 	a_device_type = volume_registration.pv (i).model;
      245 	a_lvname = volume_registration.hvname;
      246 	a_lvid = volume_registration.hvid;
      247 	return;
      248 
      249 /* ------------------------------------------------------- */
      250 
      251 find_hvid: entry (a_lvname, a_lvid, a_ec);		/* Translate name to uid */
      252 
      253 dcl  a_lvid bit (36);				/* Logical volume uid */
      254 
      255 	lvname = a_lvname;
      256 	call locate_ (lvname, LV, INIT);
      257 	a_lvid = volume_registration.hvid;		/* Return the value */
      258 	ec = 0;
      259 	go to exit;
      260 
      261 /* ------------------------------------------------------- */
      262 
      263 find_volname: entry (a_pvid, a_pvname, a_lvname, a_ec);	/* pvid -> pvname, lvname (dumper) */
      264 
      265 dcl  a_pvid bit (36);				/* Physical volume ID (input) */
      266 
      267 	a_pvname = "";
      268 	a_lvname = "";
      269 	uname = "pvid." || unique_chars_ ((a_pvid));	/* Use name on segment */
      270 	call cu_$level_set (1);
      271 	call hcs_$initiate (LV_DIR, uname, "", 0, 1, vrp, ec);
      272 	if ec ^= 0 then ec = error_table_$unregistered_volume;
      273 	if vrp = null then go to exit1;
      274 	a_lvname = volume_registration.hvname;		/* Hand back volume name */
      275 	ec = error_table_$bad_volid;
      276 	do i = 1 to volume_registration.npv while (volume_registration.pv (i).pvid ^= a_pvid); end;
      277 	if i <= volume_registration.npv then do;	/* Name might be out of step with contents */
      278 	     a_pvname = volume_registration.pv (i).pvname; /* Rah. Divulge volume name */
      279 	     ec = 0;
      280 	end;
      281 	go to exit;
      282 
      283 /* ------------------------------------------------------- */
      284 
      285 find_hvname: entry (a_lvid, a_lvname, a_ec);		/* lvid -> lvname */
      286 
      287 	a_lvname = "";
      288 	uname = "lvid." || unique_chars_ ((a_lvid));	/* Use the trick names */
      289 	call cu_$level_set (1);
      290 	call hcs_$initiate (LV_DIR, uname, "", 0, 1, vrp, ec);
      291 	if ec ^= 0 then ec = error_table_$unregistered_volume;
      292 	if vrp = null then go to exit1;
      293 	a_lvname = volume_registration.hvname;
      294 	ec = 0;
      295 	go to exit;
      296 
      297 /* ------------------------------------------------------- */
      298 
      299 get_access: entry (a_lvname, a_level, a_mode, a_ec);	/* Effective mode to lv (mount, mdc) */
      300 
      301 dcl  a_level fixed bin (3);				/* validation level (input) */
      302 dcl  a_mode fixed bin (5);				/* effective mode (output) */
      303 
      304 	lvname = a_lvname;
      305 	call locate_ (lvname, LV, INIT);
      306 	if ^((read_allowed_ (get_authorization_ (), volume_registration.min_access_class) & write_allowed_ (get_authorization_ (), volume_registration.max_access_class))
      307 	   | ((get_privileges_ () & RCP_PRIVILEGE) ^= ""b))
      308 	then do;
      309 	     mode = 0;				/* if vol off aim limits, n.g. */
      310 	end;
      311 	else do;
      312 	     uname = rtrim (lvname) || ".acs";
      313 	     call hcs_$get_user_effmode (LV_DIR, uname, (get_group_id_ ()), a_level, mode, ec);
      314 	     if ec ^= 0 then do;			/* ACS need not exist */
      315 		uname = get_group_id_ ();
      316 		j = length (rtrim (uname));
      317 		substr (uname, j-1) = "";		/* Blank instance tag */
      318 		j = index (uname, ".");
      319 		pers = substr (uname, 1, j-1);
      320 		proj = substr (uname, j+1);
      321 		j = index (volume_registration.volume_owner, ".");
      322 		opers = substr (volume_registration.volume_owner, 1, j-1);
      323 		oproj = substr (volume_registration.volume_owner, j+1);
      324 
      325 		if (pers = opers | opers = "*") & (proj = oproj | oproj = "*")
      326 		then mode = 1110b;			/* Volume owner always REW */
      327 		else if volume_registration.public then mode = 1010b;
      328 		else mode = 0b;
      329 	     end;
      330 	     if volume_registration.public then mode = mode + 10000b; /* dprint needs this.. */
      331 	end;
      332 	a_mode = mode;				/* Tell user */
      333 	ec = 0;
      334 	go to exit;
      335 
      336 /* ------------------------------------------------------- */
      337 
      338 /* The next three entry points are called from mdx. */
      339 
      340 lvname_info: entry (a_lvname, a_pvap, a_npv, a_ec);
      341 	make_lve = "0"b;
      342 	goto lv_pvinfo_common;
      343 
      344 get_lv_pvinfo: entry (a_lvname, a_pvap, a_npv, a_lvx, a_ec); /* Get lv pv list, make lve */
      345 
      346 dcl  a_pvap ptr,					/* ptr to pva (input) */
      347      a_npv fixed bin,				/* number returned (output) */
      348      a_lvx fixed bin,
      349      pvap ptr;
      350 
      351 dcl 1 pva (100) based (pvap) aligned,			/* This entrypoint fills in a struc */
      352     2 pvname char (32),				/* .. listing all volumes */
      353     2 device_type fixed bin,				/* .. and their model numbers */
      354     2 pvid bit (36);				/* and pvid */
      355 
      356 	make_lve = "1"b;
      357 lv_pvinfo_common:
      358 	dtp = sdtp;
      359 	dtep = null;				/* not needed at this entry */
      360 	lvname = a_lvname;
      361 	call locate_ (lvname, LV, INIT);
      362 	if make_lve then a_lvx = get_lve ();
      363 	pvap = a_pvap;
      364 	do i = 1 to volume_registration.npv;
      365 	     pva (i).pvname = volume_registration.pv (i).pvname;
      366 	     pva (i).device_type = volume_registration.pv (i).model;
      367 	     pva (i).pvid = volume_registration.pv (i).pvid;
      368 	end;
      369 	a_npv = volume_registration.npv;
      370 	ec = 0;
      371 	go to exit;
      372 
      373 /* ------------------------------------------------------- */
      374 
      375 find:	entry (a_dtep, a_ec);			/* Fill in disk_table entry from registration */
      376 
      377 dcl  a_dtep ptr;
      378 
      379 	dtp = sdtp;
      380 	dtep = a_dtep;
      381 	pvname = dte.pvname;			/* dte.pvname is input */
      382 	call locate_ (pvname, PV, INIT);
      383 	dte.lvx = get_lve ();
      384 	ec = error_table_$bad_volid;
      385 	do i = 1 to volume_registration.npv while (volume_registration.pv (i).pvname ^= dte.pvname); end;
      386 	if i <= volume_registration.npv then do;
      387 	     if dte.device_type = volume_registration.pv (i).model then do;
      388 		dte.pvid = volume_registration.pv (i).pvid; /* Found stuff. Get pvid */
      389 		ec = 0;
      390 	     end;
      391 	     else ec = error_table_$incorrect_device_type;
      392 	end;
      393 	go to exit;
      394 
      395 /* ------------------------------------------------------- */
      396 
      397 /* This entrypoint is called to salvage the volume registration data.
      398*   When the system comes up, mdx$init looks at the old disk_table
      399*   and calls this entrypoint for each disk_table entry which had a valid
      400*   drive mounted last time. Such a situation is evidence that the pack
      401*   should have a registration file and so this entrypoint will make
      402*   one if it does not exist. */
      403 
      404 check_volume_registration: entry (a_dtep, a_ec);		/* salvager module */
      405 
      406 	a_ec = 0;
      407 	if first then do;				/* We are always called at least once (for the root) */
      408 	     first = "0"b;
      409 	     i = length (rtrim (LV_DIR));
      410 	     call expand_path_ (addr (LV_DIR), i, addr (dn), addr (en), ec);
      411 	     call hcs_$status_minf (dn, en, 0, type, bc, ec);
      412 	     if ec ^= 0 | type ^= 2 then do;
      413 		unspec (CBI) = ""b;
      414 		CBI.version = create_branch_version_1;
      415 		CBI.dir_sw = "1"b;
      416 		CBI.parent_ac_sw = "1"b;
      417 		CBI.mode = "111"b;
      418 		CBI.rings (1) = 7;
      419 		CBI.rings (2) = 7;
      420 		CBI.rings (3) = 7;
      421 		CBI.userid = get_group_id_ ();
      422 		call hcs_$create_branch_ (dn, en, addr (CBI), ec);
      423 		if ec ^= 0 then call com_err_ (ec, "hdx", "cannot re-create ^a", LV_DIR);
      424 	     end;
      425 	     if LV_DIR = REAL_LV_DIR then do;		/* Make LV dir be on RPV */
      426 		call hphcs_$set_rpv (dn, en, ec);
      427 		if ec ^= 0 then call com_err_ (ec, "hdx", "Putting LV dir on RPV");
      428 	     end;
      429 	end;
      430 
      431 	dtp = sdtp;
      432 	dtep = a_dtep;
      433 	if verify (dte.pvname, LEGAL) ^= 0 then return;	/* Dont reregister crap */
      434 	if dte.lvx <= 0 | dte.lvx > dt.n_lv_entries then go to lvfail;
      435 	lvep = addr (dt.lv_array (dte.lvx));
      436 	if ^lve.used then do;
      437 lvfail:	     pvname = dte.pvname;			/* Invalid lve. Try to recover */
      438 	     call locate_ (pvname, PV, DONT_INIT);
      439 	     call hcs_$initiate (dn, en, "", 0, 1, vrp, ec); /* look in pv seg for lvname */
      440 	     if vrp = null then do;			/* Cannot find pv */
      441 		call com_err_ (ec, "hdx", "Cannot reregister pv ^a", pvname);
      442 		a_ec = ec;			/* unable to proceed */
      443 		return;				/* .. because i dont know what lv */
      444 	     end;
      445 	     dte.lvx = get_lve ();
      446 	     call hcs_$terminate_noname (vrp, (0));
      447 	end;
      448 	lvname = lve.lvname;
      449 	if verify (lvname, LEGAL) ^= 0 then return;
      450 	call locate_ (lvname, LV, DONT_INIT);
      451 	call hcs_$initiate (dn, en, "", 0, 1, vrp, ec);	/* LV should be registered */
      452 	if vrp = null then do;
      453 	     call hcs_$make_seg (dn, en, "", 1010b, vrp, ec); /* Wasn't. Make new */
      454 	     if vrp = null then do;
      455 		call com_err_ (ec, "hdx", "cannot reregister lv ^a", lvname);
      456 		a_ec = ec;
      457 		return;
      458 	     end;
      459 remake_lv:     volume_registration.version = 1;
      460 	     volume_registration.hvid = lve.lvid;
      461 	     volume_registration.hvname = lvname;
      462 	     owner = get_group_id_ ();
      463 	     i = length (rtrim (owner));
      464 	     volume_registration.volume_owner = substr (owner, 1, i-2);
      465 	     volume_registration.public = lve.public;
      466 	     volume_registration.min_access_class = lve.min_access_class;
      467 	     volume_registration.max_access_class = lve.max_access_class;
      468 	     volume_registration.acs_path = "";
      469 	     call com_err_ (0, "hdx", "reregistered ^a lv ^a lvid ^w",
      470 		PRIV (fixed (lve.public, 1)), lvname, lve.lvid);
      471 	     call hcs_$add_acl_entries (dn, en, addr (aa), 1, ec);
      472 	end;
      473 	else do;
      474 	     call hcs_$set_damaged_sw_seg (vrp, "0"b, ec); /* Salvaging ourself */
      475 	     ec = 0;
      476 	     if volume_registration.version ^= 1 then ec = 1;
      477 	     if volume_registration.hvname ^= lvname then ec = 2;
      478 	     if volume_registration.hvid ^= lve.lvid then ec = 3;
      479 	     if volume_registration.public ^= lve.public then ec = 4;
      480 	     if volume_registration.min_access_class ^= lve.min_access_class then ec = 5;
      481 	     if volume_registration.max_access_class ^= lve.max_access_class then ec = 6;
      482 	     if verify (volume_registration.volume_owner, LEGAL) ^= 0 then ec = 7;
      483 	     if verify (volume_registration.acs_path, LEGAL) ^= 0 then ec = 8;
      484 	     if ec ^= 0 then do;
      485 		call com_err_ (ec, "hdx", "lv.^a disagreed with disk_table. It was rebuilt", lvname);
      486 		go to remake_lv;
      487 	     end;
      488 	end;
      489 	if dn ^= LV_DIR				/* The ROOT lv must be linked to special */
      490 	then call hcs_$append_link (LV_DIR, en, target (en), ec);
      491 	uname = "lvid." || unique_chars_ (volume_registration.hvid); /* Force unique name back on */
      492 	call hcs_$chname_seg (vrp, "", uname, ec);
      493 	if ec ^= 0 then if ec ^= error_table_$segnamedup
      494 	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a", uname, en);
      495 	if dn ^= LV_DIR
      496 	then call hcs_$append_link (LV_DIR, uname, target (uname), ec);
      497 	if volume_registration.acs_path ^= "" then do;	/* If an ACS is specified. */
      498 	     call hdx$make_link (volume_registration.acs_path, ec);
      499 	     if ec ^= 0 & ec ^= error_table_$namedup
      500 	     then call com_err_ (ec, "hdx", "Cannot relink acs ^a", volume_registration.acs_path);
      501 	end;
      502 	uname = rtrim (lvname) || ".mdcs";
      503 	if dn ^= LV_DIR
      504 	then call hcs_$append_link (LV_DIR, uname, target (uname), (0));
      505 	call hcs_$set_damaged_sw (LV_DIR, uname, "0"b, (0)); /* Don't fault */
      506 	call mdc_repair_$recreate_mdcs (lvname, (volume_registration.hvid), ec);
      507 	if ec ^= 0 then if ec ^= error_table_$namedup
      508 	     then call com_err_ (ec, "hdx", "cannot make mdcs for ^a", lvname);
      509 
      510 	pvname = dte.pvname;
      511 	en = "pv." || pvname;
      512 	call hcs_$chname_seg (vrp, "", en, ec);		/* Put pv name back on */
      513 	if ec ^= 0 then if ec ^= error_table_$segnamedup
      514 	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a ", en, lvname);
      515 	if dn ^= LV_DIR
      516 	then call hcs_$append_link (LV_DIR, en, target (en), ec);
      517 
      518 	do i = 1 to volume_registration.npv while (volume_registration.pvname (i) ^= pvname); end;
      519 	if i > volume_registration.npv then do;
      520 	     volume_registration.pv (i).pvid = dte.pvid;	/* Vol was not in lv */
      521 	     volume_registration.pv (i).pvname = pvname;
      522 	     volume_registration.pv (i).model = dte.device_type;
      523 	     volume_registration.pv (i).location = "online";
      524 	     volume_registration.pv (i).mfg_serial = "registered by crash recovery";
      525 	     volume_registration.pv (i).password = "0"b;
      526 	     volume_registration.pv (i).date_registered = clock ();
      527 	     volume_registration.npv = volume_registration.npv + 1;
      528 	     call com_err_ (0, "hdx", "reregistered pv ^a pvid ^w in lv ^a",
      529 		volume_registration.pv (i).pvname, volume_registration.pv (i).pvid, lvname);
      530 	     call hcs_$set_bc_seg (vrp, 36*size (volume_registration), ec);
      531 	end;
      532 	else do;
      533 	     if volume_registration.pv (i).pvid ^= dte.pvid
      534 	     | volume_registration.pv (i).model ^= dte.device_type
      535 	     then call com_err_ (0, "hdx", "registration for ^a was different from disk_table", pvname);
      536 	     volume_registration.pv (i).pvid = dte.pvid;
      537 	     volume_registration.pv (i).model = dte.device_type;
      538 	end;
      539 	uname = "pvid." || unique_chars_ (volume_registration.pv (i).pvid);
      540 	call hcs_$chname_seg (vrp, "", uname, ec);	/* Put name back on */
      541 	if ec ^= 0 then if ec ^= error_table_$segnamedup
      542 	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a", uname, lvname);
      543 	if dn ^= LV_DIR				/* Hard case */
      544 	then call hcs_$append_link (LV_DIR, uname, target (uname), ec);
      545 
      546 	call hcs_$terminate_noname (vrp, ec);
      547 	return;
      548 
      549 /* ======================================================= */
      550 
      551 locate_:	proc (name, lvflag, dont_init_it);
      552 
      553 dcl  name char (*), (lvflag, dont_init_it) bit (1);
      554 
      555 	     call cu_$level_set (1);
      556 	     if lvflag then do;
      557 		if name = "root" then
      558 		     dn = ROOT;
      559 		else dn = LV_DIR;
      560 		en = "lv." || name;
      561 	     end;
      562 	     else do;
      563 		if name = "rpv" then
      564 		     dn = ROOT;
      565 		else dn = LV_DIR;
      566 		en = "pv." || name;
      567 	     end;
      568 	     if ^dont_init_it then do;
      569 		call hcs_$initiate (dn, en, "", 0, 1, vrp, ec); /* Locate volume registration for p|lv */
      570 		if ec ^= 0 then ec = error_table_$unregistered_volume;
      571 		if vrp = null then go to exit1;
      572 	     end;
      573 
      574 	end locate_;
      575 
      576 get_lve:	proc () returns (fixed bin);
      577 
      578 dcl (freex, j) fixed bin init (0);
      579 dcl  found bit (1) init ("0"b);
      580 dcl  lvx fixed bin;
      581 
      582 	     do j = 1 to dt.n_lv_entries while (^found);
      583 		lvep = addr (dt.lv_array (j));
      584 		if ^lve.used
      585 		then if freex = 0
      586 		     then freex = j;
      587 		     else;
      588 		else if lve.lvname = volume_registration.hvname then do;
      589 		     lvx = j;
      590 		     found = "1"b;
      591 		end;
      592 	     end;
      593 	     if ^found then do;
      594 		if freex = 0 then freex, dt.n_lv_entries = dt.n_lv_entries + 1;
      595 		lvx = freex;
      596 		lvep = addr (dt.lv_array (freex));
      597 		unspec (lve) = ""b;
      598 		lve.used = "1"b;
      599 	     end;
      600 	     else lvep = addr (dt.lv_array (lvx));
      601 
      602 /* Always make sure disk table is up to date with hvr_'s manipulations */
      603 
      604 	     lve.public = volume_registration.public;
      605 	     lve.lvid = volume_registration.hvid;
      606 	     lve.lvname = volume_registration.hvname;
      607 	     lve.min_access_class = volume_registration.min_access_class;
      608 	     lve.max_access_class = volume_registration.max_access_class;
      609 
      610 	     return (lvx);
      611 
      612 	end get_lve;
      613 
      614 /* ------------------------------------------------------ */
      615 
      616 test:	entry (a_dn);
      617 
      618 dcl  a_dn char (*);
      619 
      620 	ROOT, LV_DIR = a_dn;
      621 	return;
      622 
      623 target:	proc (x) returns (char (168));
      624 
      625 dcl  x char (*);
      626 
      627 	     if dn = ">" then return (">" || x);
      628 	     else return (rtrim (dn) || ">" || x);
      629 
      630 	end target;
      631 
      632 
      633 
  1     1 /* Begin include file aim_privileges.incl.pl1  BIM 831206 */
  1     2 /* format: style3 */
  1     3 
  1     4 declare	aim_privileges_ptr	pointer;
  1     5 declare	1 aim_privileges	unaligned based (aim_privileges_ptr),
  1     6 	( 2 ipc,					/** interprocess communication privilege */
  1     7 	  2 dir,					/** directory privilege */
  1     8 	  2 seg,					/** segment privilege */
  1     9 	  2 soos,					/** security out-of-service privilege */
  1    10 	  2 ring1,				/** ring 1 access privilege */
  1    11 	  2 rcp,					/** RCP resource access privilege */
  1    12 	  2 comm					/** communications cross-AIM privilege */
  1    13 	  )		bit (1),
  1    14 	  2 pad		bit (29);
  1    15 
  1    16 declare	(
  1    17 	IPC_PRIVILEGE	init ("1"b),
  1    18 	DIR_PRIVILEGE	init ("01"b),
  1    19 	SEG_PRIVILEGE	init ("001"b),
  1    20 	SOOS_PRIVILEGE	init ("0001"b),
  1    21 	RING1_PRIVILEGE	init ("00001"b),
  1    22 	RCP_PRIVILEGE	init ("000001"b),
  1    23 	COMM_PRIVILEGE	init ("0000001"b),
  1    24 	ALL_PRIVILEGES	init ("1111111"b)
  1    25 	)		bit (36) int static aligned options (constant);
  1    26 
  1    27 
  1    28 /* End include file aim_privileges.incl.pl1 */
      634 
  2     1 /* BEGIN INCLUDE FILE  ...  volume_registration.incl.pl1 */
  2     2 
  2     3 dcl  vrp ptr;
  2     4 
  2     5 dcl 1 volume_registration aligned based (vrp),
  2     6     2 version fixed bin init (1),			/* Version number of this dcl */
  2     7     2 hvid bit (36),				/* Hierarchy volume unique ID */
  2     8     2 hvname char (32),				/* Hierarchy volume name */
  2     9     2 max_access_class bit (72),			/* Maximum AIM class */
  2    10     2 min_access_class bit (72),			/* Minimum AIM class */
  2    11     2 volume_owner char (32),				/* Person.Project */
  2    12     2 acs_path char (168),				/* Path name of ACS */
  2    13     2 flags,
  2    14       3 public bit (1) unal,				/* TRUE if public volume */
  2    15       3 pad bit (35) unal,
  2    16     2 npv fixed bin,				/* Number of physical volumes */
  2    17     2 pv (volume_registration.npv refer (volume_registration.npv)),
  2    18       3 pvid bit (36),				/* Physical volume unique ID */
  2    19       3 model fixed bin,				/* Model number */
  2    20       3 pvname char (32),				/* Physical volume name */
  2    21       3 location char (32) init ("slot"),		/* Where to find volume */
  2    22       3 mfg_serial char (32),				/* Manufacturer's serial no, etc */
  2    23       3 date_registered fixed bin (71),			/* Date and time registered */
  2    24       3 password bit (2);
  2    25 
  2    26 /* END INCLUDE FILE    ...  volume_registration.incl.pl1 */
      635 
  3     1 /*	BEGIN INCLUDE FILE ... disk_table.incl.pl1 ... Created Oct 75 for NSS */
  3     2 /*		Modified July 1977 by T. Casey to add pdirs_ok switch in lve */
  3     3 /*		Modified April 1981 by J. Bongiovanni to add shared_spindle_flip */
  3     4 /*		Modified 831122 by E. A. Ranzenbach to add vacate_pdirs bit to lve. */
  3     5 
  3     6 /* The disk table lives in ring 1. Its entries parallel the PVT */
  3     7 
  3     8 dcl  dtp ptr,
  3     9      dtep ptr,
  3    10      lvep ptr;
  3    11 
  3    12 dcl 1 dt based (dtp) aligned,
  3    13 
  3    14     2 n_entries fixed bin (17),			/* number of disk table entries */
  3    15     2 max_n_entries fixed bin (17),			/* max number of disk table entries */
  3    16     2 n_in_use fixed bin (17),			/* number of disk table entries in use */
  3    17     2 rpvx fixed bin,				/* index (pvtx, too) of the RPV */
  3    18     2 version fixed bin init (1),
  3    19     2 n_lv_entries fixed bin,				/* Number of LV entries */
  3    20     2 pad (2) bit (36),
  3    21     2 array (0 refer (dt.max_n_entries)) like dte,
  3    22     2 lv_array (0 refer (dt.max_n_entries)) like lve;
  3    23 
  3    24 dcl 1 dte based (dtep) aligned,
  3    25     2 drive_name char (8),				/* device name */
  3    26     (2 device_type fixed bin (8),			/* device type */
  3    27     2 used bit (1),					/* TRUE if this entry is used for paging */
  3    28     2 known bit (1),				/* TRUE if label has been read and checked */
  3    29     2 storage_system bit (1),				/* TRUE for storage system (vs io disk) */
  3    30     2 permanent bit (1),				/* TRUE if cannot be demounted */
  3    31     2 deleted bit (1),				/* TRUE if deleted by "deld" */
  3    32     2 rpv bit (1),					/* TRUE if the root physical volume */
  3    33     2 demounted bit (1),				/* TRUE if was here or was assumed here */
  3    34     2 need_salvage bit (1),				/* TRUE if this vol was volsalv'd automatic */
  3    35     2 hc_accepted bit (1),				/* TRUE if vol accepted by ring 0 init */
  3    36     2 shared_spindle_flip bit (1),			/* used by ring-4 for shared spindle allocation */
  3    37     2 pad bit (4),
  3    38     2 lvx fixed bin (11),				/* index in lv_array of lve */
  3    39     2 pre_accepted bit (1)) unaligned,			/* TRUE if was used in previous bootload */
  3    40     2 pvid bit (36),				/* physical volume ID */
  3    41     2 pvname char (32);				/* Physical volume name. */
  3    42 
  3    43 dcl 1 lve based (lvep) aligned,
  3    44     2 lvid bit (36),				/* logical volume ID */
  3    45     (2 used bit (1),				/* TRUE if entry used */
  3    46     2 hv_mounted bit (1),				/* TRUE if hvol is really OK */
  3    47     2 public bit (1),				/* TRUE for public vol */
  3    48     2 mounting bit (1),				/* TRUE if mhv is in progress */
  3    49     2 demounting bit (1),				/* TRUE if dhv is in progress */
  3    50     2 good_candidate bit (1) unal,			/* used for auto dhv */
  3    51     2 demounted_only bit (1) unal,			/* lve here only to warm demounted pve's */
  3    52     2 pdirs_ok bit (1) unal,				/* TRUE if process directory segments can be on this lv */
  3    53     2 prev_bootload bit (1) unal,			/* TRUE if can auto-accept pvs */
  3    54     2 vacate_pdirs bit (1) unal,			/* if TRUE we will demand move all perprocess segs */
  3    55     2 pad bit (26)) unal,
  3    56     2 lvname char (32),				/* Logical volume name */
  3    57     2 min_access_class bit (72),			/* Security stuff */
  3    58     2 max_access_class bit (72);			/* .. */
  3    59 
  3    60 /*	END INCLUDE FILE ...disk_table.incl.pl1 */
      636 
  4     1 /*  BEGIN INCLUDE FILE - - - create_branch_info.incl.pl1 - - - created January 1975 */
  4     2 
  4     3 /* this include files gives the argument structure for create_branch_ */
  4     4 
  4     5 dcl 1 create_branch_info aligned based,
  4     6     2 version fixed bin,				/* set this to the largest value given below */
  4     7     2 switches unaligned,
  4     8       3 dir_sw bit (1) unaligned,			/* if on, a directory branch is wanted */
  4     9       3 copy_sw bit (1) unaligned,			/* if on, initiating segment will be done by copying */
  4    10       3 chase_sw bit (1) unaligned,			/* if on, if pathname is a link, it will be chased */
  4    11       3 priv_upgrade_sw bit (1) unaligned,		/* privileged creation (ring 1) of upgraded object */
  4    12       3 parent_ac_sw bit (1) unaligned,			/* if on, use parent's access class for seg or dir created */
  4    13       3 mbz1 bit (31) unaligned,			/* pad to full word */
  4    14     2 mode bit (3) unaligned,				/* segment or directory for acl for userid */
  4    15     2 mbz2 bit (33) unaligned,			/* pad to full word */
  4    16     2 rings (3) fixed bin (3),			/* branch's ring brackets */
  4    17     2 userid char (32),				/* user's access control name */
  4    18     2 bitcnt fixed bin (24),				/* bit count of the segment */
  4    19     2 quota fixed bin (18),				/* for directories, this am't of quota will be moved to it */
  4    20     2 access_class bit (72);				/* is the access class of the body of the branch */
  4    21 
  4    22 /* The following versions are implemented . . . */
  4    23 /* (Changes to structure require defining new static initialized variable) */
  4    24 
  4    25 dcl  create_branch_version_1 static fixed bin init (1);	/* branch info valid through access class field */
  4    26 
  4    27 /* END INCLUDE FILE - - - create_branch_info.incl.pl1 - - - */
  4    28 
      637 
      638 
      639 /* BEGIN MESSAGE DOCUMENTATION
      640*
      641*   Message:
      642*   hdx: ERROR_MESSAGE. cannot re-create >lv
      643*
      644*   S:	$info
      645*
      646*   T:	$init
      647*
      648*   M:	When the system is bootloaded, it checks
      649*   the list of packs which were mounted during the last bootload
      650*   to make sure that each one has a valid logical and physical volume registration.
      651*   If the registration does not exist, the registration files are reconstructed.
      652*   These registration files reside in the directory >lv,
      653*   which is also remade if it was lost or did not exist.
      654*   .sp
      655*   This message indicates that there is a problem in re-creating >lv.
      656*   Other error messages will follow and reregistration will fail.
      657*
      658*   A:	$inform
      659*
      660*
      661*   Message:
      662*   hdx: ERROR_MESSAGE. Putting LV dir on RPV
      663*
      664*   S:	$info
      665*
      666*   T:	$init
      667*
      668*   M:	When the system is bootloaded, it checks
      669*   the list of packs which were mounted during the last bootload
      670*   to make sure that each one has a valid logical and physical volume registration.
      671*   While re-creating >lv, the system attempted to
      672*   set the directory flag which means "RPV only"
      673*   and failed to do so.
      674*
      675*   A:	$inform
      676*
      677*
      678*   Message:
      679*   hdx: ERROR_MESSAGE. Cannot reregister pv PVNAME
      680*
      681*   S:	$info
      682*
      683*   T:	$init
      684*
      685*   M:	When the system is bootloaded, it checks
      686*   the list of packs which were mounted during the last bootload
      687*   to make sure that each one has a valid logical and physical volume registration.
      688*   .sp
      689*   The system was unable to re-register the physical volume PVNAME
      690*   because its logical volume entry could not be located in the old disk_table
      691*   and its physical volume registration file could not be found.
      692*   The volume will have to be re-registered manually.
      693*
      694*   A:	If PVNAME is garbage, ignore this message.
      695*   Otherwise, use add_vol_registration to re-register the volume.
      696*
      697*
      698*   Message:
      699*   hdx: ERROR_MESSAGE. cannot reregister lv LVNAME
      700*
      701*   S:	$info
      702*
      703*   T:	$init
      704*
      705*   M:	When the system is bootloaded, it checks
      706*   the list of packs which were mounted during the last bootload
      707*   to make sure that each one has a valid logical and physical volume registration.
      708*   .sp
      709*   The system was unable to append a branch for
      710*   >lv>lv.LVNAME.
      711*   The logical volume will have to be re-registered manually.
      712*
      713*   A:	Use the add_vol_registration command
      714*   to re-register the volume manually.
      715*
      716*
      717*   Message:
      718*   hdx: reregistered TYPE lv LVNAME lvid WWWW
      719*
      720*   S:	$info
      721*
      722*   T:	$init
      723*
      724*   M:	When the system is bootloaded, it checks
      725*   the list of packs which were mounted during the last bootload
      726*   to make sure that each one has a valid logical and physical volume registration.
      727*   The registration file for LVNAME
      728*   did not exist and was reconstructed.
      729*   .sp
      730*   This message is always produced for the root logical volume during a cold boot of the Multics hierarchy.
      731*
      732*   A:	Use the list_vol_registration command
      733*   to list the registration and check it against the
      734*   re-created copy.
      735*   Correct it with change_vol_registration if necessary.
      736*
      737*
      738*   Message:
      739*   hdx: Code N. lv.LVNAME disagreed with disk_table. It was rebuilt.
      740*
      741*   S:	$info
      742*
      743*   T:	$init
      744*
      745*   M:	When the system is bootloaded, it checks
      746*   the list of packs which were mounted during the last bootload
      747*   to make sure that each one has a valid logical and physical volume registration.
      748*   The registration file lv.LVNAME was found
      749*   but disagreed with the disk_table_, and so it was corrected.
      750*   The meaning of the codes can be determined from the
      751*   listing of hdx; it is rarely important.
      752*
      753*   A:	Use list_vol_registration to examine the remade
      754*   registration, and correct it with change_vol_registration if necessary.
      755*
      756*
      757*   Message:
      758*   hdx: ERROR_MESSAGE. cant add name lvid.UNIQUE to lv.LVNAME
      759*
      760*   S:	$info
      761*
      762*   T:	$init
      763*
      764*   M:	When the system is bootloaded, it checks
      765*   the list of packs which were mounted during the last bootload
      766*   to make sure that each one has a valid logical and physical volume registration.
      767*   The registration file for LVNAME did not have the additional name
      768*   constructed from the volume unique ID,
      769*   and an error was discovered trying to add it.
      770*   If this name is on another segment, confusion will result.
      771*
      772*   A:	$inform
      773*   Enter admin mode and
      774*   do a "list >lv>**"
      775*   command.
      776*
      777*
      778*   Message:
      779*   hdx: ERROR_MESSAGE. Cannot relink acs ACS_PATH
      780*
      781*   S:	$info
      782*
      783*   T:	$init
      784*
      785*   M:	When the system is bootloaded, it checks
      786*   the list of packs which were mounted during the last bootload
      787*   to make sure that each one has a valid logical and physical volume registration.
      788*   An error occurred trying to relink the
      789*   link to a private volume's Access Control Segment.
      790*   Incorrect values for the access computation may be used.
      791*   Users who deserve access to the volume may not get it,
      792*   or users who don't deserve access may have it.
      793*
      794*   A:	$inform_sa
      795*
      796*
      797*   Message:
      798*   hdx: ERROR_MESSAGE. cannot make mdcs for LVNAME
      799*
      800*   S:	$info
      801*
      802*   T:	$init
      803*
      804*   M:	When the system is bootloaded, it checks
      805*   the list of packs which were mounted during the last bootload
      806*   to make sure that each one has a valid logical and physical volume registration.
      807*   An error occurred while reconstructing
      808*   LVNAME.mdcs.
      809*   Operation on master directories for LVNAME may encounter problems.
      810*
      811*   A:	$inform_sa
      812*
      813*
      814*   Message:
      815*   hdx: ERROR_MESSAGE. cant add name pv.PVNAME to LVNAME
      816*
      817*   S:	$info
      818*
      819*   T:	$init
      820*
      821*   M:	When the system is bootloaded, it checks
      822*   the list of packs which were mounted during the last bootload
      823*   to make sure that each one has a valid logical and physical volume registration.
      824*   .sp
      825*   An error occurred adding the name pv.PVNAME to >lv>lv.LVNAME.
      826*   If this name is missing or on another segment, confusion will result.
      827*
      828*   A:	$inform
      829*   Enter admin mode and do a
      830*   "list >lv>**"
      831*   command.
      832*
      833*
      834*   Message:
      835*   hdx: reregistered pv PVNAME pvid WWWW in lv LVNAME
      836*
      837*   S:	$info
      838*
      839*   T:	$init
      840*
      841*   M:	When the system is bootloaded, it checks
      842*   the list of packs which were mounted during the last bootload
      843*   to make sure that each one has a valid logical and physical volume registration.
      844*   Registration for PVNAME was added to
      845*   the registration file for LVNAME.
      846*   .sp
      847*   This message is always produced for the root physical volume, rpv, during a cold boot of the Multics hierarchy.
      848*
      849*   A:	Use the list_vol_registration command
      850*   to check the registration.
      851*   If necessary, correct it with change_vol_registration.
      852*
      853*
      854*   Message:
      855*   hdx: registration for PVNAME was different from disk_table
      856*
      857*   S:	$info
      858*
      859*   T:	$init
      860*
      861*   M:	When the system is bootloaded, it checks
      862*   the list of packs which were mounted during the last bootload
      863*   to make sure that each one has a valid logical and physical volume registration.
      864*   The physical volume ID or model number of PVNAME
      865*   was wrong in the registration files and was corrected.
      866*
      867*   A:	$inform_sa
      868*
      869*
      870*   Message:
      871*   hdx: ERROR_MESSAGE. cant add name pvid.UNIQUE to LVNAME
      872*
      873*   S:	$info
      874*
      875*   T:	$init
      876*
      877*   M:	When the system is bootloaded, it checks
      878*   the list of packs which were mounted during the last bootload
      879*   to make sure that each one has a valid logical and physical volume registration.
      880*   An error occurred adding the name pvid.UNIQUE to >lv>lv.LVNAME.
      881*   If this name is missing or is on another segment, confusion will result.
      882*
      883*   A:	$inform
      884*   Enter admin mode and do a
      885*   "list >lv>**"
      886*   command.
      887*
      888*
      889*   END MESSAGE DOCUMENTATION */
      890 
      891      end hdx;
	SOURCE FILES USED IN THIS COMPILATION.

LINE      NUMBER  DATE MODIFIED     NAME			PATHNAME
             0    08/15/84  1556.1  hdx.pl1                           >special_ldd>hard>40-03>hdx.pl1
634          1    08/15/84  1555.1  aim_privileges.incl.pl1           >special_ldd>hard>40-03>aim_privileges.incl.pl1
635          2    04/29/76  1143.8  volume_registration.incl.pl1      >ldd>include>volume_registration.incl.pl1
636          3    07/11/84  0937.3  disk_table.incl.pl1               >ldd>include>disk_table.incl.pl1
637          4    04/29/76  1100.5  create_branch_info.incl.pl1       >ldd>include>create_branch_info.incl.pl1
	NAMES DECLARED IN THIS COMPILATION.

IDENTIFIER	     OFFSET    LOC STORAGE CLASS   DATA TYPE		ATTRIBUTES AND REFERENCES
								(* indicates a set context)

NAMES DECLARED BY DECLARE STATEMENT.
CBI                             000271 automatic       structure                level 1 dcl 104 set ref 413* 422 422
DONT_INIT                       000014 internal static bit(1)                   initial unaligned dcl 52 set ref 163* 438* 450*
INIT                            000013 internal static bit(1)                   initial unaligned dcl 51 set ref 129* 145* 187* 203*
                                                                                  239* 256* 305* 361* 382*
LEGAL                           000052 constant        char(76)                 initial unaligned dcl 47 ref 157 182 433 449 482 483
LV                              000012 internal static bit(1)                   initial unaligned dcl 50 set ref 129* 163* 187* 203*
                                                                                  256* 305* 361* 450*
LV_DIR                          000067 internal static char(168)                initial unaligned dcl 55 set ref 188 189* 190* 192*
                                                                                  205* 206* 221* 222* 224* 271* 290* 313* 409 410
                                                                                  410 423* 425 489 489* 495 495* 503 503* 505* 515
                                                                                  515* 543 543* 559 565 620*
PRIV                            000075 constant        char(8)                  initial array unaligned dcl 46 set ref 469*
PV                              000011 internal static bit(1)                   initial unaligned dcl 49 set ref 145* 239* 382* 438*
RCP_PRIVILEGE                          constant        bit(36)                  initial dcl 1-16 ref 306
REAL_LV_DIR                     000000 constant        char(168)                initial unaligned dcl 55 ref 425
ROOT                            000015 internal static char(168)                initial unaligned dcl 54 set ref 557 563 620*
a_device_type                          parameter       fixed bin(17,0)          dcl 236 set ref 234 244*
a_dn                                   parameter       char                     unaligned dcl 618 ref 616 620
a_dtep                                 parameter       pointer                  dcl 377 ref 375 380 404 432
a_dtp                                  parameter       pointer                  dcl 110 ref 108 112
a_ec                                   parameter       fixed bin(35,0)          dcl 124 set ref 122 134* 140 153 159* 178 183* 200
                                                                                  213 234 237* 242* 251 263 285 299 340 344 375 404
                                                                                  406* 442* 456*
a_level                                parameter       fixed bin(3,0)           dcl 301 set ref 299 313*
a_lvid                                 parameter       bit(36)                  unaligned dcl 253 set ref 234 246* 251 257* 285 288
a_lvname                               parameter       char                     unaligned dcl 124 set ref 122 128 153 155 178 186
                                                                                  200 202 234 245* 251 255 263 268* 274* 285 287*
                                                                                  293* 299 304 340 344 360
a_lvx                                  parameter       fixed bin(17,0)          dcl 346 set ref 344 362*
a_mode                                 parameter       fixed bin(5,0)           dcl 302 set ref 299 332*
a_new                                  parameter       char                     unaligned dcl 180 set ref 178 182 192* 194*
a_npv                                  parameter       fixed bin(17,0)          dcl 346 set ref 340 344 369*
a_old                                  parameter       char                     unaligned dcl 180 set ref 178 189* 190* 194*
a_path                                 parameter       char                     unaligned dcl 215 ref 213 217
a_ptr                                  parameter       pointer                  dcl 124 ref 122 131 140 147 153 156
a_pvap                                 parameter       pointer                  dcl 346 ref 340 344 363
a_pvid                                 parameter       bit(36)                  unaligned dcl 265 set ref 234 243* 263 269 276
a_pvname                               parameter       char                     unaligned dcl 142 set ref 140 144 234 238 263 267*
                                                                                  278*
aa                              000256 automatic       structure                level 1 dcl 98 set ref 169 169 471 471
acs_path                 26            based           char(168)                level 2 dcl 2-5 set ref 468* 483 497 498* 499*
addr                                                   builtin function         dcl 31 ref 169 169 410 410 410 410 410 410 422 422
                                                                                  435 471 471 583 596 600
bc                              000216 automatic       fixed bin(24,0)          dcl 37 set ref 189* 205* 221* 411*
clock                                                  builtin function         dcl 31 ref 526
com_err_                        000164 constant        entry                    external dcl 66 ref 423 427 441 455 469 485 493 499
                                                                                  507 513 528 533 541
create_branch_info                     based           structure                level 1 dcl 4-5
create_branch_version_1                constant        fixed bin(17,0)          initial dcl 4-25 ref 414
cu_$level_get                   000160 constant        entry                    external dcl 64 ref 42
cu_$level_set                   000162 constant        entry                    external dcl 65 ref 135 220 270 289 555
date_registered         134            based           fixed bin(71,0)          array level 3 dcl 2-5 set ref 526*
device_type               2            based           fixed bin(8,0)           level 2 in structure "dte" packed unaligned dcl 3-24
                                                                                  in procedure "hdx" ref 387 522 533 537
device_type              10            based           fixed bin(17,0)          array level 2 in structure "pva" dcl 351
                                                                                  in procedure "hdx" set ref 366*
dir_sw                    1     000271 automatic       bit(1)                   level 3 packed unaligned dcl 104 set ref 415*
dn                              000100 automatic       char(168)                unaligned dcl 28 set ref 164* 169* 188 217* 218 218
                                                                                  219 224* 410 410 411* 422* 426* 439* 451* 453*
                                                                                  471* 489 495 503 515 543 557* 559* 563* 565* 569*
                                                                                  627 628
dont_init_it                           parameter       bit(1)                   unaligned dcl 553 ref 551 568
dt                                     based           structure                level 1 dcl 3-12
dte                                    based           structure                level 1 dcl 3-24
dtep                            000322 automatic       pointer                  dcl 3-8 set ref 359* 380* 381 383 385 387 388 432*
                                                                                  433 434 434 435 437 445 510 520 522 533 533 536
                                                                                  537
dtp                             000320 automatic       pointer                  dcl 3-8 set ref 357* 379* 431* 434 435 582 583 594
                                                                                  594 596 600
ec                              000254 automatic       fixed bin(35,0)          dcl 43 set ref 132* 134 148* 164* 168* 169* 172*
                                                                                  173* 189* 190 190* 192* 194* 195 195* 205* 206
                                                                                  206* 208* 221* 222 222* 224* 258* 271* 272 272*
                                                                                  275* 279* 290* 291 291* 294* 313* 314 333* 370*
                                                                                  384* 389* 391* 410* 411* 412 422* 423 423* 426*
                                                                                  427 427* 439* 441* 442 451* 453* 455* 456 471*
                                                                                  474* 475* 476* 477* 478* 479* 480* 481* 482* 483*
                                                                                  484 485* 489* 492* 493 493 493* 495* 498* 499 499
                                                                                  499* 506* 507 507 507* 512* 513 513 513* 515* 530*
                                                                                  540* 541 541 541* 543* 546* 569* 570 570*
en                              000152 automatic       char(32)                 unaligned dcl 28 set ref 164* 169* 192* 192* 219*
                                                                                  221* 222* 224* 410 410 411* 422* 426* 439* 451*
                                                                                  453* 471* 489* 489* 489* 493* 511* 512* 513* 515*
                                                                                  515* 515* 560* 566* 569*
error_table_$argerr             000144 external static fixed bin(35,0)          dcl 57 ref 159 183
error_table_$bad_volid          000150 external static fixed bin(35,0)          dcl 59 ref 275 384
error_table_$incorrect_device_type
                                000152 external static fixed bin(35,0)          dcl 60 ref 391
error_table_$namedup            000156 external static fixed bin(35,0)          dcl 62 ref 499 507
error_table_$segnamedup         000154 external static fixed bin(35,0)          dcl 61 ref 195 493 513 541
error_table_$unregistered_volume
                                000146 external static fixed bin(35,0)          dcl 58 ref 237 272 291 570
expand_path_                    000166 constant        entry                    external dcl 69 ref 410
first                           000010 internal static bit(1)                   initial unaligned dcl 45 set ref 407 408*
fixed                                                  builtin function         dcl 31 ref 469
flags                   100            based           structure                level 2 dcl 2-5
found                           000370 automatic       bit(1)                   initial unaligned dcl 579 set ref 579* 582 590* 593
freex                           000366 automatic       fixed bin(17,0)          initial dcl 578 set ref 578* 584 584* 594 594* 595
                                                                                  596
get_authorization_              000170 constant        entry                    external dcl 70 ref 306 306 306 306
get_group_id_                   000174 constant        entry                    external dcl 72 ref 313 315 421 462
get_privileges_                 000172 constant        entry                    external dcl 71 ref 306
hcs_$add_acl_entries            000176 constant        entry                    external dcl 73 ref 169 471
hcs_$append_link                000200 constant        entry                    external dcl 74 ref 192 224 489 495 503 515 543
hcs_$chname_seg                 000202 constant        entry                    external dcl 76 ref 172 194 492 512 540
hcs_$create_branch_             000204 constant        entry                    external dcl 77 ref 422
hcs_$delentry_file              000206 constant        entry                    external dcl 78 ref 190 206 222
hcs_$delentry_seg               000210 constant        entry                    external dcl 79 ref 208
hcs_$get_user_effmode           000212 constant        entry                    external dcl 80 ref 313
hcs_$initiate                   000214 constant        entry                    external dcl 82 ref 271 290 439 451 569
hcs_$make_seg                   000216 constant        entry                    external dcl 83 ref 164 453
hcs_$set_bc_seg                 000220 constant        entry                    external dcl 84 ref 168 530
hcs_$set_damaged_sw             000222 constant        entry                    external dcl 85 ref 505
hcs_$set_damaged_sw_seg         000224 constant        entry                    external dcl 86 ref 113 474
hcs_$status_minf                000230 constant        entry                    external dcl 88 ref 189 205 221 411
hcs_$terminate_noname           000232 constant        entry                    external dcl 90 ref 133 446 546
hdx$make_link                   000234 constant        entry                    external dcl 91 ref 498
hphcs_$set_rpv                  000226 constant        entry                    external dcl 87 ref 426
hvid                      1            based           bit(36)                  level 2 dcl 2-5 set ref 171* 246 257 460* 478 491*
                                                                                  506 605
hvname                    2            based           char(32)                 level 2 dcl 2-5 set ref 245 274 293 461* 477 588 606
i                               000217 automatic       fixed bin(17,0)          dcl 38 set ref 218* 219 240* 240* 241 243 244 276*
                                                                                  276* 277 278 364* 365 365 366 366 367 367* 385*
                                                                                  385* 386 387 388 409* 410* 463* 464 518* 518* 519
                                                                                  520 521 522 523 524 525 526 528 528 533 533 536
                                                                                  537 539
index                                                  builtin function         dcl 31 ref 218 318 321
j                               000367 automatic       fixed bin(17,0)          initial dcl 578 in procedure "get_lve" set ref 578*
                                                                                  582* 583 584 589*
j                               000220 automatic       fixed bin(17,0)          dcl 38 in procedure "hdx" set ref 316* 317 318* 319
                                                                                  320 321* 322 323
length                                                 builtin function         dcl 31 ref 218 316 409 463
location                114            based           char(32)                 initial array level 3 dcl 2-5 set ref 523*
lv_array                               based           structure                array level 2 dcl 3-12 set ref 435 583 596 600
lve                                    based           structure                level 1 dcl 3-43 set ref 597*
lvep                            000324 automatic       pointer                  dcl 3-8 set ref 435* 436 448 460 465 466 467 469 469
                                                                                  478 479 480 481 583* 584 588 596* 597 598 600* 604
                                                                                  605 606 607 608
lvflag                                 parameter       bit(1)                   unaligned dcl 553 ref 551 556
lvid                                   based           bit(36)                  level 2 dcl 3-43 set ref 460 469* 478 605*
lvname                    2            based           char(32)                 level 2 in structure "lve" dcl 3-43 in procedure
                                                                                  "hdx" set ref 448 588 606*
lvname                          000204 automatic       char(32)                 unaligned dcl 34 in procedure "hdx" set ref 128*
                                                                                  129* 155* 157 163* 186* 187* 202* 203* 204 255*
                                                                                  256* 304* 305* 312 360* 361* 448* 449 450* 455*
                                                                                  461 469* 477 485* 502 506* 507* 513* 528* 541*
lvx                             000371 automatic       fixed bin(17,0)          dcl 580 in procedure "get_lve" set ref 589* 595* 600
                                                                                  610
lvx                       2(23)        based           fixed bin(11,0)          level 2 in structure "dte" packed unaligned dcl 3-24
                                                                                  in procedure "hdx" set ref 383* 434 434 435 445*
make_lve                        000255 automatic       bit(1)                   unaligned dcl 44 set ref 341* 356* 362
max_access_class         12            based           bit(72)                  level 2 in structure "volume_registration" dcl 2-5
                                                                                  in procedure "hdx" set ref 306* 467* 481 608
max_access_class         14            based           bit(72)                  level 2 in structure "lve" dcl 3-43 in procedure
                                                                                  "hdx" set ref 467 481 608*
max_n_entries             1            based           fixed bin(17,0)          level 2 dcl 3-12 ref 435 583 596 600
mbz                      11     000256 automatic       bit(36)                  initial level 2 dcl 98 set ref 98*
mdc_init_                       000240 constant        entry                    external dcl 93 ref 114
mdc_repair_$recreate_mdcs       000236 constant        entry                    external dcl 92 ref 506
mfg_serial              124            based           char(32)                 array level 3 dcl 2-5 set ref 524*
min_access_class         12            based           bit(72)                  level 2 in structure "lve" dcl 3-43 in procedure
                                                                                  "hdx" set ref 466 480 607*
min_access_class         14            based           bit(72)                  level 2 in structure "volume_registration" dcl 2-5
                                                                                  in procedure "hdx" set ref 306* 466* 480 607
mode                      2     000271 automatic       bit(3)                   level 2 in structure "CBI" packed unaligned dcl 104
                                                                                  in procedure "hdx" set ref 417*
mode                     10     000256 automatic       bit(36)                  initial level 2 in structure "aa" dcl 98
                                                                                  in procedure "hdx" set ref 98*
mode                            000214 automatic       fixed bin(5,0)           dcl 35 in procedure "hdx" set ref 309* 313* 325*
                                                                                  327* 328* 330* 330 332
model                   103            based           fixed bin(17,0)          array level 3 dcl 2-5 set ref 244 366 387 522* 533
                                                                                  537*
n_lv_entries              5            based           fixed bin(17,0)          level 2 dcl 3-12 set ref 434 582 594 594*
name                            000256 automatic       char(32)                 initial level 2 in structure "aa" dcl 98
                                                                                  in procedure "hdx" set ref 98*
name                                   parameter       char                     unaligned dcl 553 in procedure "locate_" ref 551 557
                                                                                  560 563 566
npv                     101            based           fixed bin(17,0)          level 2 dcl 2-5 set ref 131 147 157 166 168 240 241
                                                                                  276 277 364 369 385 386 518 519 527* 527 530
null                                                   builtin function         dcl 31 ref 165 273 292 359 440 452 454 571
nvrp                            000162 automatic       pointer                  dcl 29 set ref 164* 165 166 167
old_level                       000253 automatic       fixed bin(17,0)          initial dcl 42 set ref 42* 135*
opers                           000245 automatic       char(22)                 unaligned dcl 41 set ref 322* 325 325
oproj                           000234 automatic       char(9)                  unaligned dcl 40 set ref 323* 325 325
owner                           000221 automatic       char(32)                 unaligned dcl 39 set ref 462* 463 464
parent_ac_sw              1(04) 000271 automatic       bit(1)                   level 3 packed unaligned dcl 104 set ref 416*
password                136            based           bit(2)                   array level 3 dcl 2-5 set ref 525*
pers                            000237 automatic       char(22)                 unaligned dcl 41 set ref 319* 325
proj                            000231 automatic       char(9)                  unaligned dcl 40 set ref 320* 325
public                    1(02)        based           bit(1)                   level 2 in structure "lve" packed unaligned dcl 3-43
                                                                                  in procedure "hdx" set ref 465 469 479 604*
public                  100            based           bit(1)                   level 3 in structure "volume_registration" packed
                                                                                  unaligned dcl 2-5 in procedure "hdx" set ref 327
                                                                                  330 465* 479 604
pv                      102            based           structure                array level 2 dcl 2-5
pva                                    based           structure                array level 1 dcl 351
pvap                            000314 automatic       pointer                  dcl 346 set ref 363* 365 366 367
pvid                     11            based           bit(36)                  array level 2 in structure "pva" dcl 351
                                                                                  in procedure "hdx" set ref 367*
pvid                    102            based           bit(36)                  array level 3 in structure "volume_registration"
                                                                                  dcl 2-5 in procedure "hdx" set ref 243 276 367 388
                                                                                  520* 528* 533 536* 539*
pvid                      3            based           bit(36)                  level 2 in structure "dte" dcl 3-24 in procedure
                                                                                  "hdx" set ref 388* 520 533 536
pvname                          000174 automatic       char(32)                 unaligned dcl 33 in procedure "hdx" set ref 144*
                                                                                  145* 238* 239* 240 381* 382* 437* 438* 441* 510*
                                                                                  511 518 521 533*
pvname                    4            based           char(32)                 level 2 in structure "dte" dcl 3-24 in procedure
                                                                                  "hdx" ref 381 385 433 437 510
pvname                                 based           char(32)                 array level 2 in structure "pva" dcl 351
                                                                                  in procedure "hdx" set ref 365*
pvname                  104            based           char(32)                 array level 3 in structure "volume_registration"
                                                                                  dcl 2-5 in procedure "hdx" set ref 240 278 365 385
                                                                                  518 521* 528*
read_allowed_                   000242 constant        entry                    external dcl 94 ref 306
reverse                                                builtin function         dcl 31 ref 218
rings                     3     000271 automatic       fixed bin(3,0)           array level 2 dcl 104 set ref 418* 419* 420*
sdtp                            000142 internal static pointer                  initial dcl 110 set ref 112* 113* 357 379 431
size                                                   builtin function         dcl 31 ref 168 530
substr                                                 builtin function         dcl 31 set ref 219 317* 319 320 322 323 464
switches                  1     000271 automatic       structure                level 2 packed unaligned dcl 104
type                            000215 automatic       fixed bin(2,0)           dcl 36 set ref 189* 190 205* 206 221* 222 411* 412
uname                           000164 automatic       char(32)                 unaligned dcl 32 set ref 171* 172* 204* 205* 206*
                                                                                  269* 271* 288* 290* 312* 313* 315* 316 317* 318
                                                                                  319 320 491* 492* 493* 495* 495* 495* 502* 503*
                                                                                  503* 503* 505* 539* 540* 541* 543* 543* 543*
unique_chars_                   000246 constant        entry                    external dcl 96 ref 171 269 288 491 539
unspec                                                 builtin function         dcl 31 set ref 413* 597*
used                      1            based           bit(1)                   level 2 packed unaligned dcl 3-43 set ref 436 584
                                                                                  598*
userid                    6     000271 automatic       char(32)                 level 2 dcl 104 set ref 421*
verify                                                 builtin function         dcl 31 ref 157 182 433 449 482 483
version                         000271 automatic       fixed bin(17,0)          level 2 in structure "CBI" dcl 104 in procedure
                                                                                  "hdx" set ref 414*
version                                based           fixed bin(17,0)          initial level 2 in structure "volume_registration"
                                                                                  dcl 2-5 in procedure "hdx" set ref 157 459* 476
volume_owner             16            based           char(32)                 level 2 dcl 2-5 set ref 321 322 323 464* 482
volume_registration                    based           structure                level 1 dcl 2-5 set ref 131* 131 147* 147 166* 166
                                                                                  168 530
vrp                             000316 automatic       pointer                  dcl 2-3 set ref 131 133* 147 156* 157 157 166 167*
                                                                                  168* 168 168 171 172* 194* 208* 240 240 241 243
                                                                                  244 245 246 257 271* 273 274 276 276 277 278 290*
                                                                                  292 293 306 306 321 322 323 327 330 364 365 366
                                                                                  367 369 385 385 386 387 388 439* 440 446* 451* 452
                                                                                  453* 454 459 460 461 464 465 466 467 468 474* 476
                                                                                  477 478 479 480 481 482 483 491 492* 497 498 499
                                                                                  506 512* 518 518 519 520 521 522 523 524 525 526
                                                                                  527 527 528 528 530* 530 530 533 533 536 537 539
                                                                                  540* 546* 569* 571 588 604 605 606 607 608
write_allowed_                  000244 constant        entry                    external dcl 95 ref 306
x                                      parameter       char                     unaligned dcl 625 ref 623 627 628

NAMES DECLARED BY DECLARE STATEMENT AND NEVER REFERENCED.
ALL_PRIVILEGES                         internal static bit(36)                  initial dcl 1-16
COMM_PRIVILEGE                         internal static bit(36)                  initial dcl 1-16
DIR_PRIVILEGE                          internal static bit(36)                  initial dcl 1-16
IPC_PRIVILEGE                          internal static bit(36)                  initial dcl 1-16
RING1_PRIVILEGE                        internal static bit(36)                  initial dcl 1-16
SEG_PRIVILEGE                          internal static bit(36)                  initial dcl 1-16
SOOS_PRIVILEGE                         internal static bit(36)                  initial dcl 1-16
aim_privileges                         based           structure                level 1 packed unaligned dcl 1-5
aim_privileges_ptr                     automatic       pointer                  dcl 1-4
convert_authorization_$from_string
                                000000 constant        entry                    external dcl 67
convert_date_to_binary_         000000 constant        entry                    external dcl 68
found                                  automatic       bit(1)                   unaligned dcl 44
hcs_$chname_file                000000 constant        entry                    external dcl 75
k                                      automatic       fixed bin(17,0)          dcl 38
ready                                  automatic       bit(1)                   unaligned dcl 44
tp                                     automatic       pointer                  dcl 30

NAMES DECLARED BY EXPLICIT CONTEXT.
check_volume_registration       003625 constant        entry                    external dcl 404
chname_hv                       001131 constant        entry                    external dcl 178
delete_hv                       001420 constant        entry                    external dcl 200
exit                            000500 constant        label                    dcl 133 ref 149 174 196 225 259 281 295 334 371 393
exit1                           000512 constant        label                    dcl 134 ref 165 209 273 292 571
find                            003477 constant        entry                    external dcl 375
find_hvid                       002155 constant        entry                    external dcl 251
find_hvname                     002512 constant        entry                    external dcl 285
find_volname                    002241 constant        entry                    external dcl 263
get_access                      002702 constant        entry                    external dcl 299
get_lv_pvinfo                   003340 constant        entry                    external dcl 344
get_lve                         006671 constant        entry                    internal dcl 576 ref 362 383 445
hdx                             000342 constant        entry                    external dcl 11
init                            000354 constant        entry                    external dcl 108
locate_                         006465 constant        entry                    internal dcl 551 ref 129 145 163 187 203 239 256 305
                                                                                  361 382 438 450
lv_pvinfo_common                003360 constant        label                    dcl 357 set ref 342
lvfail                          004204 constant        label                    dcl 437 ref 434
lvname_info                     003313 constant        entry                    external dcl 340
make_link                       001614 constant        entry                    external dcl 213
pvname_info                     002014 constant        entry                    external dcl 234
read_hv                         000416 constant        entry                    external dcl 122
read_pv                         000526 constant        entry                    external dcl 140
remake_lv                       004567 constant        label                    dcl 459 set ref 486
target                          007037 constant        entry                    internal dcl 623 ref 192 192 489 489 495 495 503 503
                                                                                  515 515 543 543
test                            006431 constant        entry                    external dcl 616
write_hv                        000613 constant        entry                    external dcl 153

NAME DECLARED BY CONTEXT OR IMPLICATION.
rtrim                                                  builtin function         ref 204 312 316 409 463 502 628

STORAGE REQUIREMENTS FOR THIS PROGRAM.

	Object	Text	Link	Symbol	Defs	Static
Start          0       0     10144       10414    7400       10154
Length     11064    7400       250         434     544         134

BLOCK NAME	         STACK SIZE     TYPE		WHY NONQUICK/WHO SHARES STACK FRAME
hdx                                 410 external procedure  is an external procedure.  
locate_                                 internal procedure  shares stack frame of external procedure hdx.  
get_lve                                 internal procedure  shares stack frame of external procedure hdx.  
target                                  internal procedure  shares stack frame of external procedure hdx.  

STORAGE FOR INTERNAL STATIC VARIABLES.

   LOC IDENTIFIER                  BLOCK NAME
000010 first                       hdx
000011 PV                          hdx
000012 LV                          hdx
000013 INIT                        hdx
000014 DONT_INIT                   hdx
000015 ROOT                        hdx
000067 LV_DIR                      hdx
000142 sdtp                        hdx

STORAGE FOR AUTOMATIC VARIABLES.

STACK FRAME                 LOC IDENTIFIER                  BLOCK NAME
hdx                      000100 dn                          hdx
                         000152 en                          hdx
                         000162 nvrp                        hdx
                         000164 uname                       hdx
                         000174 pvname                      hdx
                         000204 lvname                      hdx
                         000214 mode                        hdx
                         000215 type                        hdx
                         000216 bc                          hdx
                         000217 i                           hdx
                         000220 j                           hdx
                         000221 owner                       hdx
                         000231 proj                        hdx
                         000234 oproj                       hdx
                         000237 pers                        hdx
                         000245 opers                       hdx
                         000253 old_level                   hdx
                         000254 ec                          hdx
                         000255 make_lve                    hdx
                         000256 aa                          hdx
                         000271 CBI                         hdx
                         000314 pvap                        hdx
                         000316 vrp                         hdx
                         000320 dtp                         hdx
                         000322 dtep                        hdx
                         000324 lvep                        hdx
                         000366 freex                       get_lve
                         000367 j                           get_lve
                         000370 found                       get_lve
                         000371 lvx                         get_lve

THE FOLLOWING EXTERNAL OPERATORS ARE USED BY THIS PROGRAM.
r_ne_as             alloc_cs            cat_realloc_cs      call_ext_out_desc   call_ext_out        return
shorten_stack       ext_entry           ext_entry_desc      clock

THE FOLLOWING EXTERNAL ENTRIES ARE CALLED BY THIS PROGRAM.
com_err_                      cu_$level_get                 cu_$level_set                 expand_path_
get_authorization_            get_group_id_                 get_privileges_               hcs_$add_acl_entries
hcs_$append_link              hcs_$chname_seg               hcs_$create_branch_           hcs_$delentry_file
hcs_$delentry_seg             hcs_$get_user_effmode         hcs_$initiate                 hcs_$make_seg
hcs_$set_bc_seg               hcs_$set_damaged_sw           hcs_$set_damaged_sw_seg       hcs_$status_minf
hcs_$terminate_noname         hdx$make_link                 hphcs_$set_rpv                mdc_init_
mdc_repair_$recreate_mdcs     read_allowed_                 unique_chars_                 write_allowed_

THE FOLLOWING EXTERNAL VARIABLES ARE USED BY THIS PROGRAM.
error_table_$argerr           error_table_$bad_volid        error_table_$incorrect_device_type
error_table_$namedup          error_table_$segnamedup       error_table_$unregistered_volume


CONSTANTS
007142  aa     000004000000
007143  aa     000004000000
007144  aa     600000000041
007145  aa     000164000000
007146  aa     600000000041
007147  aa     000500000000
007150  ta     000142000000
007151  aa     000000000000
007152  ta     000131000000
007153  aa     000000000000

007154  aa     000002000000
007155  aa     000000000000
007156  aa     600000000041
007157  aa     000411000000

007160  aa     000002000000
007161  aa     000000000000
007162  aa     600000000041
007163  aa     000553000000

007164  aa     000004000000
007165  aa     000004000000
007166  aa     600000000041
007167  aa     000152000000
007170  aa     600000000041
007171  aa     000500000000
007172  ta     000142000000
007173  aa     000000000000
007174  ta     000131000000
007175  aa     000000000000

007176  aa  777 777 777 777	
007177  aa  777 777 777 777	
007200  aa  000 777 777 777	 
007201  aa  777 777 777 777	
007202  aa  777 777 777 777	
007203  aa  777 777 777 777	
007204  aa  777 777 777 777	
007205  aa  777 777 777 777	
007206  aa  000 000 777 777	  
007207  aa  777 777 777 000	 
007210  aa  777 777 777 000	 
007211  aa  777 000 000 777	  
007212  aa  000 000 000 000	    
007213  aa  000 000 000 000	    
007214  aa  000 000 000 777	   
007215  aa  777 777 777 777	
007216  aa  777 000 000 000	   
007217  aa  000 000 000 000	    
007220  aa  000 000 000 000	    
007221  aa  000 000 000 000	    
007222  aa  000 000 000 000	    
007223  aa  000 000 000 000	    
007224  aa  000 000 000 777	   
007225  aa  777 777 000 000	  
007226  aa  000 000 000 000	    
007227  aa  000 000 000 000	    
007230  aa  000 000 000 000	    
007231  aa  000 000 000 000	    
007232  aa  000 000 000 000	    
007233  aa  000 000 000 000	    
007234  aa  000 000 000 000	    
007235  aa  777 000 000 777	  
007236  aa  777 777 777 777	
007237  aa  777 777 777 777	
007240  aa  777 777 777 777	
007241  aa  777 777 777 777	
007242  aa  777 777 777 777	
007243  aa  777 777 777 777	
007244  aa  777 777 777 777	
007245  aa  777 777 777 777	
007246  aa  777 777 777 777	
007247  aa  777 777 777 777	
007250  aa  777 777 777 777	
007251  aa  777 777 777 777	
007252  aa  777 777 777 777	
007253  aa  777 777 777 777	
007254  aa  777 777 777 777	
007255  aa  777 777 777 777	
007256  aa  777 777 777 777	
007257  aa  777 777 777 777	
007260  aa  777 777 777 777	
007261  aa  777 777 777 777	
007262  aa  777 777 777 777	
007263  aa  777 777 777 777	
007264  aa  777 777 777 777	
007265  aa  777 777 777 777	
007266  aa  777 777 777 777	
007267  aa  777 777 777 777	
007270  aa  777 777 777 777	
007271  aa  777 777 777 777	
007272  aa  777 777 777 777	
007273  aa  777 777 777 777	
007274  aa  777 777 777 777	
007275  aa  777 777 777 777	
007276  aa  777 777 777 777	
007277  aa  777 777 777 777	
007300  aa  777 777 777 777	
007301  aa  777 777 777 777	
007302  aa  777 777 777 777	
007303  aa  777 777 777 777	
007304  aa  777 777 777 777	
007305  aa  777 777 777 777	
007306  aa  777 777 777 777	
007307  aa  777 777 777 777	
007310  aa  777 777 777 777	
007311  aa  777 777 777 777	
007312  aa  777 777 777 777	
007313  aa  777 777 777 777	
007314  aa  777 777 777 777	
007315  aa  777 777 777 777	
007316  aa  777 777 777 777	
007317  aa  777 777 777 777	
007320  aa  777 777 777 777	
007321  aa  777 777 777 777	
007322  aa  777 777 777 777	
007323  aa  777 777 777 777	
007324  aa  777 777 777 777	
007325  aa  777 777 777 777	
007326  aa  777 777 777 777	
007327  aa  777 777 777 777	
007330  aa  777 777 777 777	
007331  aa  777 777 777 777	
007332  aa  777 777 777 777	
007333  aa  777 777 777 777	
007334  aa  777 777 777 777	
007335  aa  777 777 777 777	
007336  aa  777 777 777 777	
007337  aa  777 777 777 777	
007340  aa  777 777 777 777	
007341  aa  777 777 777 777	
007342  aa  777 777 777 777	
007343  aa  777 777 777 777	
007344  aa  777 777 777 777	
007345  aa  777 777 777 777	
007346  aa  777 777 777 777	
007347  aa  777 777 777 777	
007350  aa  777 777 777 777	
007351  aa  777 777 777 777	
007352  aa  777 777 777 777	
007353  aa  777 777 777 777	
007354  aa  777 777 777 777	
007355  aa  777 777 777 777	
007356  aa  777 777 777 777	
007357  aa  777 777 777 777	
007360  aa  777 777 777 777	
007361  aa  777 777 777 777	
007362  aa  777 777 777 777	
007363  aa  777 777 777 777	
007364  aa  777 777 777 777	
007365  aa  777 777 777 777	
007366  aa  777 777 777 777	
007367  aa  777 777 777 777	
007370  aa  777 777 777 777	
007371  aa  777 777 777 777	
007372  aa  777 777 777 777	
007373  aa  777 777 777 777	
007374  aa  777 777 777 777	
007375  aa  777 777 777 777	

000000  aa  076 154 166 040	>lv 
000001  aa  040 040 040 040	    
000002  aa  040 040 040 040	    
000003  aa  040 040 040 040	    
000004  aa  040 040 040 040	    
000005  aa  040 040 040 040	    
000006  aa  040 040 040 040	    
000007  aa  040 040 040 040	    
000010  aa  040 040 040 040	    
000011  aa  040 040 040 040	    
000012  aa  040 040 040 040	    
000013  aa  040 040 040 040	    
000014  aa  040 040 040 040	    
000015  aa  040 040 040 040	    
000016  aa  040 040 040 040	    
000017  aa  040 040 040 040	    
000020  aa  040 040 040 040	    
000021  aa  040 040 040 040	    
000022  aa  040 040 040 040	    
000023  aa  040 040 040 040	    
000024  aa  040 040 040 040	    
000025  aa  040 040 040 040	    
000026  aa  040 040 040 040	    
000027  aa  040 040 040 040	    
000030  aa  040 040 040 040	    
000031  aa  040 040 040 040	    
000032  aa  040 040 040 040	    
000033  aa  040 040 040 040	    
000034  aa  040 040 040 040	    
000035  aa  040 040 040 040	    
000036  aa  040 040 040 040	    
000037  aa  040 040 040 040	    
000040  aa  040 040 040 040	    
000041  aa  040 040 040 040	    
000042  aa  040 040 040 040	    
000043  aa  040 040 040 040	    
000044  aa  040 040 040 040	    
000045  aa  040 040 040 040	    
000046  aa  040 040 040 040	    
000047  aa  040 040 040 040	    
000050  aa  040 040 040 040	    
000051  aa  040 040 040 040	    

000052  aa  040 047 010 137	 '_
000053  aa  140 176 136 053	`~^+
000054  aa  055 056 173 175	-.{}
000055  aa  072 041 060 061	:!01
000056  aa  062 063 064 065	2345
000057  aa  066 067 070 071	6789
000060  aa  101 102 103 104	ABCD
000061  aa  105 106 107 110	EFGH
000062  aa  111 112 113 114	IJKL
000063  aa  115 116 117 120	MNOP
000064  aa  121 122 123 124	QRST
000065  aa  125 126 127 130	UVWX
000066  aa  131 132 141 142	YZab
000067  aa  143 144 145 146	cdef
000070  aa  147 150 151 152	ghij
000071  aa  153 154 155 156	klmn
000072  aa  157 160 161 162	opqr
000073  aa  163 164 165 166	stuv
000074  aa  167 170 171 172	wxyz

000075  aa  160 162 151 166	priv
000076  aa  141 164 145 040	ate 
000077  aa  160 165 142 154	publ
000100  aa  151 143 040 040	ic  


000101  aa  162 160 166 000	rpv

000102  aa  154 166 056 000	lv.

000103  aa  162 157 157 164	root

000104  aa     524000000061

000105  aa     524000000043

000106  aa  160 166 056 000	pv.

000107  aa     524000000024

000110  aa     524000000026

000111  aa     524000000057

000112  aa     526000000010

000113  aa     524000000035

000114  aa     524000000027

000115  aa     524000000025

000116  aa     524000000023

000117  aa     524000000003

000120  aa  150 144 170 000	hdx

007376  aa  052 000 000 000	*

000121  aa     524000000040

007377  aa  076 000 000 000	>

000122  aa  056 141 143 163	.acs

000123  aa     524000000250

000124  aa     404000000030

000125  aa     404000000002

000126  aa     404000000001

000127  aa     524000000000

000130  aa     516000000001

000131  aa     526000000250

000132  aa     404000000005

000133  aa     404000000003

000134  aa     516000000044

000135  aa     404000000043

000136  aa     526077777777

000137  aa     464000000000

000140  aa     526000000017

000141  aa     514000000001

000142  aa     526000000040

000143  aa     514000000044

000144  aa     514000000110

000145  aa     404000000021

000146  aa  052 056 052 056	*.*.
000147  aa  052 000 000 000	*

000150  aa  157 156 154 151	onli
000151  aa  156 145 000 000	ne

000152  aa  056 155 144 143	.mdc
000153  aa  163 000 000 000	s

000154  aa  160 166 151 144	pvid
000155  aa  056 000 000 000	.

000156  aa  154 166 151 144	lvid
000157  aa  056 000 000 000	.

000160  aa     077777000043
000161  aa     000001000000

000162  aa  103 141 156 156	Cann
000163  aa  157 164 040 162	ot r
000164  aa  145 154 151 156	elin
000165  aa  153 040 141 143	k ac
000166  aa  163 040 136 141	s ^a

000167  aa  143 141 156 156	cann
000170  aa  157 164 040 162	ot r
000171  aa  145 055 143 162	e-cr
000172  aa  145 141 164 145	eate
000173  aa  040 136 141 000	 ^a

000174  aa  143 141 156 164	cant
000175  aa  040 141 144 144	 add
000176  aa  040 156 141 155	 nam
000177  aa  145 040 136 141	e ^a
000200  aa  040 164 157 040	 to 
000201  aa  136 141 040 000	^a 

000202  aa  143 141 156 156	cann
000203  aa  157 164 040 155	ot m
000204  aa  141 153 145 040	ake 
000205  aa  155 144 143 163	mdcs
000206  aa  040 146 157 162	 for
000207  aa  040 136 141 000	 ^a

000210  aa  143 141 156 164	cant
000211  aa  040 141 144 144	 add
000212  aa  040 156 141 155	 nam
000213  aa  145 040 136 141	e ^a
000214  aa  040 164 157 040	 to 
000215  aa  136 141 000 000	^a

000216  aa  143 141 156 156	cann
000217  aa  157 164 040 162	ot r
000220  aa  145 162 145 147	ereg
000221  aa  151 163 164 145	iste
000222  aa  162 040 154 166	r lv
000223  aa  040 136 141 000	 ^a

000224  aa  103 141 156 156	Cann
000225  aa  157 164 040 162	ot r
000226  aa  145 162 145 147	ereg
000227  aa  151 163 164 145	iste
000230  aa  162 040 160 166	r pv
000231  aa  040 136 141 000	 ^a

000232  aa  120 165 164 164	Putt
000233  aa  151 156 147 040	ing 
000234  aa  114 126 040 144	LV d
000235  aa  151 162 040 157	ir o
000236  aa  156 040 122 120	n RP
000237  aa  126 000 000 000	V

000240  aa  162 145 147 151	regi
000241  aa  163 164 145 162	ster
000242  aa  145 144 040 142	ed b
000243  aa  171 040 143 162	y cr
000244  aa  141 163 150 040	ash 
000245  aa  162 145 143 157	reco
000246  aa  166 145 162 171	very

000247  aa  162 145 162 145	rere
000250  aa  147 151 163 164	gist
000251  aa  145 162 145 144	ered
000252  aa  040 136 141 040	 ^a 
000253  aa  154 166 040 136	lv ^
000254  aa  141 040 154 166	a lv
000255  aa  151 144 040 136	id ^
000256  aa  167 000 000 000	w

000257  aa  162 145 162 145	rere
000260  aa  147 151 163 164	gist
000261  aa  145 162 145 144	ered
000262  aa  040 160 166 040	 pv 
000263  aa  136 141 040 160	^a p
000264  aa  166 151 144 040	vid 
000265  aa  136 167 040 151	^w i
000266  aa  156 040 154 166	n lv
000267  aa  040 136 141 000	 ^a

000270  aa  154 166 056 136	lv.^
000271  aa  141 040 144 151	a di
000272  aa  163 141 147 162	sagr
000273  aa  145 145 144 040	eed 
000274  aa  167 151 164 150	with
000275  aa  040 144 151 163	 dis
000276  aa  153 137 164 141	k_ta
000277  aa  142 154 145 056	ble.
000300  aa  040 111 164 040	 It 
000301  aa  167 141 163 040	was 
000302  aa  162 145 142 165	rebu
000303  aa  151 154 164 000	ilt

000304  aa  162 145 147 151	regi
000305  aa  163 164 162 141	stra
000306  aa  164 151 157 156	tion
000307  aa  040 146 157 162	 for
000310  aa  040 136 141 040	 ^a 
000311  aa  167 141 163 040	was 
000312  aa  144 151 146 146	diff
000313  aa  145 162 145 156	eren
000314  aa  164 040 146 162	t fr
000315  aa  157 155 040 144	om d
000316  aa  151 163 153 137	isk_
000317  aa  164 141 142 154	tabl
000320  aa  145 000 000 000	e

BEGIN PROCEDURE hdx
PROLOGUE SEQUENCE
000321  aa  6 00402 4401 00	sxl0 	pr6|258
						STATEMENT 1 ON LINE 42
000322  aa  6 00253 3521 00	epp2 	pr6|171		old_level
000323  aa  6 00406 2521 00	spri2	pr6|262
000324  aa  6 00404 6211 00	eax1 	pr6|260
000325  aa   004000 4310 07	fld  	2048,dl
000326  aa  6 00044 3701 20	epp4 	pr6|36,*
000327  la  4 00160 3521 20	epp2 	pr4|112,*		cu_$level_get
000330  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 98
000331  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000332  aa   777615 00 0005	desc9a	-115,5		000146 = 052056052056
000333  aa  6 00256 00 0040	desc9a	pr6|174,32	aa.name
000334  aa   400000 2350 03	lda  	131072,du
000335  aa  6 00266 7551 00	sta  	pr6|182		aa.mode
000336  aa  6 00267 4501 00	stz  	pr6|183		aa.mbz
000337  aa  6 00402 7201 00	lxl0 	pr6|258
000340  aa   000000 7100 10	tra  	0,0
MAIN SEQUENCE
ENTRY TO hdx                                                STATEMENT 1 ON LINE 11
hdx: proc;

000341  da     000374200000
000342  aa   000640 6270 00	eax7 	416
000343  aa  7 00034 3521 20	epp2 	pr7|28,*
000344  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
000345  aa     000000000000
000346  aa     000000000000
000347  aa   777752 7000 04	tsx0 	-22,ic		000321
						STATEMENT 1 ON LINE 108
init:	entry (a_dtp);

000350  aa   000012 7100 04	tra  	10,ic		000362
ENTRY TO init                                               STATEMENT 1 ON LINE 108
init:	entry (a_dtp);

000351  at     000001000137
000352  ta     000351000000
000353  da     000401300000
000354  aa   000640 6270 00	eax7 	416
000355  aa  7 00034 3521 20	epp2 	pr7|28,*
000356  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
000357  aa     000002000000
000360  aa     000000000000
000361  aa   777740 7000 04	tsx0 	-32,ic		000321
						STATEMENT 1 ON LINE 112
	sdtp = a_dtp;

000362  aa  6 00032 3735 20	epp7 	pr6|26,*
000363  aa  7 00002 3715 20	epp5 	pr7|2,*		a_dtp
000364  aa  5 00000 3715 20	epp5 	pr5|0,*		a_dtp
000365  aa  6 00044 3701 20	epp4 	pr6|36,*
000366  ia  4 00142 6515 00	spri5	pr4|98		sdtp
						STATEMENT 1 ON LINE 113
	call hcs_$set_damaged_sw_seg (sdtp, "0"b, (0));

000367  aa   000000 2350 07	lda  	0,dl
000370  aa  6 00403 7551 00	sta  	pr6|259
000371  aa  6 00410 4501 00	stz  	pr6|264
000372  ia  4 00142 3521 00	epp2 	pr4|98		sdtp
000373  aa  6 00414 2521 00	spri2	pr6|268
000374  aa  6 00403 3521 00	epp2 	pr6|259
000375  aa  6 00416 2521 00	spri2	pr6|270
000376  aa  6 00410 3521 00	epp2 	pr6|264
000377  aa  6 00420 2521 00	spri2	pr6|272
000400  aa  6 00412 6211 00	eax1 	pr6|266
000401  aa   014000 4310 07	fld  	6144,dl
000402  la  4 00224 3521 20	epp2 	pr4|148,*		hcs_$set_damaged_sw_seg
000403  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 114
	call mdc_init_;

000404  aa  6 00056 6211 00	eax1 	pr6|46
000405  aa   000000 4310 07	fld  	0,dl
000406  aa  6 00044 3701 20	epp4 	pr6|36,*
000407  la  4 00240 3521 20	epp2 	pr4|160,*		mdc_init_
000410  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 115
	return;

000411  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO read_hv                                            STATEMENT 1 ON LINE 122
read_hv:	entry (a_lvname, a_ptr, a_ec);

000412  at     000003000136
000413  tt     000137000135
000414  ta     000412000000
000415  da     000406300000
000416  aa   000640 6270 00	eax7 	416
000417  aa  7 00034 3521 20	epp2 	pr7|28,*
000420  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000421  aa     000006000000
000422  aa     000000000000
000423  aa  6 00032 3735 20	epp7 	pr6|26,*
000424  aa  7 00002 3715 20	epp5 	pr7|2,*
000425  aa  6 00330 6515 00	spri5	pr6|216
000426  aa  6 00042 3535 20	epp3 	pr6|34,*
000427  aa  3 00000 3515 20	epp1 	pr3|0,*
000430  aa  6 00326 2515 00	spri1	pr6|214
000431  aa  7 00006 3715 20	epp5 	pr7|6,*
000432  aa  6 00332 6515 00	spri5	pr6|218
000433  aa   777666 7000 04	tsx0 	-74,ic		000321
						STATEMENT 1 ON LINE 128
	lvname = a_lvname;

000434  aa  6 00326 2361 20	ldq  	pr6|214,*
000435  aa   000002 6040 04	tmi  	2,ic		000437
000436  aa   777777 3760 07	anq  	262143,dl
000437  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000440  aa  6 00330 3735 20	epp7 	pr6|216,*
000441  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000442  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
000443  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 129
	call locate_ (lvname, LV, INIT);

000444  aa  6 00204 3521 00	epp2 	pr6|132		lvname
000445  aa  6 00424 2521 00	spri2	pr6|276
000446  aa  6 00044 3701 20	epp4 	pr6|36,*
000447  ia  4 00012 3521 00	epp2 	pr4|10		LV
000450  aa  6 00426 2521 00	spri2	pr6|278
000451  ia  4 00013 3521 00	epp2 	pr4|11		INIT
000452  aa  6 00430 2521 00	spri2	pr6|280
000453  aa   777467 3520 04	epp2 	-201,ic		000142 = 526000000040
000454  aa  6 00432 2521 00	spri2	pr6|282
000455  aa   777453 3520 04	epp2 	-213,ic		000130 = 516000000001
000456  aa  6 00434 2521 00	spri2	pr6|284
000457  aa  6 00436 2521 00	spri2	pr6|286
000460  aa  6 00422 3521 00	epp2 	pr6|274
000461  aa   014000 4310 07	fld  	6144,dl
000462  aa  2 00000 7571 00	staq 	pr2|0
000463  aa   006002 6700 04	tsp4 	3074,ic		006465
						STATEMENT 1 ON LINE 131
	a_ptr -> volume_registration = volume_registration;

000464  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
000465  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
000466  aa   000036 4020 07	mpy  	30,dl
000467  aa   000102 0760 07	adq  	66,dl
000470  aa   000002 7360 00	qls  	2
000471  aa  6 00032 3715 20	epp5 	pr6|26,*
000472  aa  5 00004 3535 20	epp3 	pr5|4,*		a_ptr
000473  aa  3 00000 3535 20	epp3 	pr3|0,*		a_ptr
000474  aa  000 140 100 540	mlr  	(pr,rl),(pr,rl),fill(000)
000475  aa  7 00000 00 0006	desc9a	pr7|0,ql		volume_registration
000476  aa  3 00000 00 0006	desc9a	pr3|0,ql		volume_registration
						STATEMENT 1 ON LINE 132
	ec = 0;

000477  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 133
exit:	call hcs_$terminate_noname (vrp, (0));

000500  aa  6 00410 4501 00	stz  	pr6|264
000501  aa  6 00316 3521 00	epp2 	pr6|206		vrp
000502  aa  6 00414 2521 00	spri2	pr6|268
000503  aa  6 00410 3521 00	epp2 	pr6|264
000504  aa  6 00416 2521 00	spri2	pr6|270
000505  aa  6 00412 6211 00	eax1 	pr6|266
000506  aa   010000 4310 07	fld  	4096,dl
000507  aa  6 00044 3701 20	epp4 	pr6|36,*
000510  la  4 00232 3521 20	epp2 	pr4|154,*		hcs_$terminate_noname
000511  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 134
exit1:	a_ec = ec;

000512  aa  6 00254 2361 00	ldq  	pr6|172		ec
000513  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 135
	call cu_$level_set (old_level);

000514  aa  6 00253 3521 00	epp2 	pr6|171		old_level
000515  aa  6 00406 2521 00	spri2	pr6|262
000516  aa  6 00404 6211 00	eax1 	pr6|260
000517  aa   004000 4310 07	fld  	2048,dl
000520  aa  6 00044 3701 20	epp4 	pr6|36,*
000521  la  4 00162 3521 20	epp2 	pr4|114,*		cu_$level_set
000522  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 136
	return;

000523  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO read_pv                                            STATEMENT 1 ON LINE 140
read_pv:	entry (a_pvname, a_ptr, a_ec);

000524  ta     000412000000
000525  da     000413300000
000526  aa   000640 6270 00	eax7 	416
000527  aa  7 00034 3521 20	epp2 	pr7|28,*
000530  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000531  aa     000006000000
000532  aa     000000000000
000533  aa  6 00032 3735 20	epp7 	pr6|26,*
000534  aa  7 00002 3715 20	epp5 	pr7|2,*
000535  aa  6 00336 6515 00	spri5	pr6|222
000536  aa  6 00042 3535 20	epp3 	pr6|34,*
000537  aa  3 00000 3515 20	epp1 	pr3|0,*
000540  aa  6 00334 2515 00	spri1	pr6|220
000541  aa  7 00006 3715 20	epp5 	pr7|6,*
000542  aa  6 00332 6515 00	spri5	pr6|218
000543  aa   777556 7000 04	tsx0 	-146,ic		000321
						STATEMENT 1 ON LINE 144
	pvname = a_pvname;

000544  aa  6 00334 2361 20	ldq  	pr6|220,*
000545  aa   000002 6040 04	tmi  	2,ic		000547
000546  aa   777777 3760 07	anq  	262143,dl
000547  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000550  aa  6 00336 3735 20	epp7 	pr6|222,*
000551  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000552  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_pvname
000553  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
						STATEMENT 1 ON LINE 145
	call locate_ (pvname, PV, INIT);

000554  aa  6 00174 3521 00	epp2 	pr6|124		pvname
000555  aa  6 00424 2521 00	spri2	pr6|276
000556  aa  6 00044 3701 20	epp4 	pr6|36,*
000557  ia  4 00011 3521 00	epp2 	pr4|9		PV
000560  aa  6 00426 2521 00	spri2	pr6|278
000561  ia  4 00013 3521 00	epp2 	pr4|11		INIT
000562  aa  6 00430 2521 00	spri2	pr6|280
000563  aa   777357 3520 04	epp2 	-273,ic		000142 = 526000000040
000564  aa  6 00432 2521 00	spri2	pr6|282
000565  aa   777343 3520 04	epp2 	-285,ic		000130 = 516000000001
000566  aa  6 00434 2521 00	spri2	pr6|284
000567  aa  6 00436 2521 00	spri2	pr6|286
000570  aa  6 00422 3521 00	epp2 	pr6|274
000571  aa   014000 4310 07	fld  	6144,dl
000572  aa  2 00000 7571 00	staq 	pr2|0
000573  aa   005672 6700 04	tsp4 	3002,ic		006465
						STATEMENT 1 ON LINE 147
	a_ptr -> volume_registration = volume_registration;

000574  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
000575  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
000576  aa   000036 4020 07	mpy  	30,dl
000577  aa   000102 0760 07	adq  	66,dl
000600  aa   000002 7360 00	qls  	2
000601  aa  6 00032 3715 20	epp5 	pr6|26,*
000602  aa  5 00004 3535 20	epp3 	pr5|4,*		a_ptr
000603  aa  3 00000 3535 20	epp3 	pr3|0,*		a_ptr
000604  aa  000 140 100 540	mlr  	(pr,rl),(pr,rl),fill(000)
000605  aa  7 00000 00 0006	desc9a	pr7|0,ql		volume_registration
000606  aa  3 00000 00 0006	desc9a	pr3|0,ql		volume_registration
						STATEMENT 1 ON LINE 148
	ec = 0;

000607  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 149
	go to exit;

000610  aa   777670 7100 04	tra  	-72,ic		000500
ENTRY TO write_hv                                           STATEMENT 1 ON LINE 153
write_hv:	entry (a_lvname, a_ptr, a_ec);

000611  ta     000412000000
000612  da     000421300000
000613  aa   000640 6270 00	eax7 	416
000614  aa  7 00034 3521 20	epp2 	pr7|28,*
000615  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000616  aa     000006000000
000617  aa     000000000000
000620  aa  6 00032 3735 20	epp7 	pr6|26,*
000621  aa  7 00002 3715 20	epp5 	pr7|2,*
000622  aa  6 00330 6515 00	spri5	pr6|216
000623  aa  6 00042 3535 20	epp3 	pr6|34,*
000624  aa  3 00000 3515 20	epp1 	pr3|0,*
000625  aa  6 00326 2515 00	spri1	pr6|214
000626  aa  7 00006 3715 20	epp5 	pr7|6,*
000627  aa  6 00332 6515 00	spri5	pr6|218
000630  aa   777471 7000 04	tsx0 	-199,ic		000321
						STATEMENT 1 ON LINE 155
	lvname = a_lvname;

000631  aa  6 00326 2361 20	ldq  	pr6|214,*
000632  aa   000002 6040 04	tmi  	2,ic		000634
000633  aa   777777 3760 07	anq  	262143,dl
000634  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000635  aa  6 00330 3735 20	epp7 	pr6|216,*
000636  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000637  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
000640  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 156
	vrp = a_ptr;

000641  aa  6 00032 3715 20	epp5 	pr6|26,*
000642  aa  5 00004 3535 20	epp3 	pr5|4,*		a_ptr
000643  aa  3 00000 3535 20	epp3 	pr3|0,*		a_ptr
000644  aa  6 00316 2535 00	spri3	pr6|206		vrp
						STATEMENT 1 ON LINE 157
	if verify (lvname, LEGAL) ^= 0		/* Check what he wants */
	| volume_registration.version ^= 1 | volume_registration.npv < 0 then do;

000645  aa  000 000 164 500	tct  	(pr)
000646  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
000647  aa   006331 0000 04	arg  	3289,ic		007176 = 777777777777
000650  aa  6 00056 0001 00	arg  	pr6|46
000651  aa  6 00056 2361 00	ldq  	pr6|46
000652  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
000653  aa   000002 6070 04	ttf  	2,ic		000655
000654  aa   000001 3360 07	lcq  	1,dl
000655  aa   000001 0760 07	adq  	1,dl
000656  aa   000006 6010 04	tnz  	6,ic		000664
000657  aa  3 00000 2361 00	ldq  	pr3|0		volume_registration.version
000660  aa   000001 1160 07	cmpq 	1,dl
000661  aa   000003 6010 04	tnz  	3,ic		000664
000662  aa  3 00101 2361 00	ldq  	pr3|65		volume_registration.npv
000663  aa   000005 6050 04	tpl  	5,ic		000670
						STATEMENT 1 ON LINE 159
	     a_ec = error_table_$argerr;

000664  aa  6 00044 3701 20	epp4 	pr6|36,*
000665  la  4 00144 2361 20	ldq  	pr4|100,*		error_table_$argerr
000666  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 160
	     return;

000667  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 161
	end;

						STATEMENT 1 ON LINE 163
	call locate_ (lvname, LV, DONT_INIT);

000670  aa  6 00204 3521 00	epp2 	pr6|132		lvname
000671  aa  6 00424 2521 00	spri2	pr6|276
000672  aa  6 00044 3701 20	epp4 	pr6|36,*
000673  ia  4 00012 3521 00	epp2 	pr4|10		LV
000674  aa  6 00426 2521 00	spri2	pr6|278
000675  ia  4 00014 3521 00	epp2 	pr4|12		DONT_INIT
000676  aa  6 00430 2521 00	spri2	pr6|280
000677  aa   777243 3520 04	epp2 	-349,ic		000142 = 526000000040
000700  aa  6 00432 2521 00	spri2	pr6|282
000701  aa   777227 3520 04	epp2 	-361,ic		000130 = 516000000001
000702  aa  6 00434 2521 00	spri2	pr6|284
000703  aa  6 00436 2521 00	spri2	pr6|286
000704  aa  6 00422 3521 00	epp2 	pr6|274
000705  aa   014000 4310 07	fld  	6144,dl
000706  aa  2 00000 7571 00	staq 	pr2|0
000707  aa   005556 6700 04	tsp4 	2926,ic		006465
						STATEMENT 1 ON LINE 164
	call hcs_$make_seg (dn, en, "", 1010b, nvrp, ec);

000710  aa   000012 2360 07	ldq  	10,dl
000711  aa  6 00403 7561 00	stq  	pr6|259
000712  aa  6 00100 3521 00	epp2 	pr6|64		dn
000713  aa  6 00444 2521 00	spri2	pr6|292
000714  aa  6 00152 3521 00	epp2 	pr6|106		en
000715  aa  6 00446 2521 00	spri2	pr6|294
000716  aa  6 00410 3521 00	epp2 	pr6|264
000717  aa  6 00450 2521 00	spri2	pr6|296
000720  aa  6 00403 3521 00	epp2 	pr6|259
000721  aa  6 00452 2521 00	spri2	pr6|298
000722  aa  6 00162 3521 00	epp2 	pr6|114		nvrp
000723  aa  6 00454 2521 00	spri2	pr6|300
000724  aa  6 00254 3521 00	epp2 	pr6|172		ec
000725  aa  6 00456 2521 00	spri2	pr6|302
000726  aa   777203 3520 04	epp2 	-381,ic		000131 = 526000000250
000727  aa  6 00460 2521 00	spri2	pr6|304
000730  aa   777212 3520 04	epp2 	-374,ic		000142 = 526000000040
000731  aa  6 00462 2521 00	spri2	pr6|306
000732  aa   777175 3520 04	epp2 	-387,ic		000127 = 524000000000
000733  aa  6 00464 2521 00	spri2	pr6|308
000734  aa   777176 3520 04	epp2 	-386,ic		000132 = 404000000005
000735  aa  6 00466 2521 00	spri2	pr6|310
000736  aa   777201 3520 04	epp2 	-383,ic		000137 = 464000000000
000737  aa  6 00470 2521 00	spri2	pr6|312
000740  aa   777175 3520 04	epp2 	-387,ic		000135 = 404000000043
000741  aa  6 00472 2521 00	spri2	pr6|314
000742  aa  6 00442 6211 00	eax1 	pr6|290
000743  aa   030000 4310 07	fld  	12288,dl
000744  aa  6 00044 3701 20	epp4 	pr6|36,*
000745  la  4 00216 3521 20	epp2 	pr4|142,*		hcs_$make_seg
000746  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 165
	if nvrp = null then go to exit1;

000747  aa  6 00162 2371 00	ldaq 	pr6|114		nvrp
000750  aa   777210 6770 04	eraq 	-376,ic		000160 = 077777000043 000001000000
000751  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
000752  aa   777540 6000 04	tze  	-160,ic		000512
						STATEMENT 1 ON LINE 166
	nvrp -> volume_registration = volume_registration;

000753  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
000754  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
000755  aa   000036 4020 07	mpy  	30,dl
000756  aa   000102 0760 07	adq  	66,dl
000757  aa   000002 7360 00	qls  	2
000760  aa  6 00162 3715 20	epp5 	pr6|114,*		nvrp
000761  aa  000 140 100 540	mlr  	(pr,rl),(pr,rl),fill(000)
000762  aa  7 00000 00 0006	desc9a	pr7|0,ql		volume_registration
000763  aa  5 00000 00 0006	desc9a	pr5|0,ql		volume_registration
						STATEMENT 1 ON LINE 167
	vrp = nvrp;

000764  aa  6 00316 6515 00	spri5	pr6|206		vrp
						STATEMENT 1 ON LINE 168
	call hcs_$set_bc_seg (vrp, 36*size (volume_registration), ec);

000765  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
000766  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
000767  aa   000036 4020 07	mpy  	30,dl
000770  aa   000102 0760 07	adq  	66,dl
000771  aa   000044 4020 07	mpy  	36,dl
000772  aa  6 00403 7561 00	stq  	pr6|259
000773  aa  6 00316 3521 00	epp2 	pr6|206		vrp
000774  aa  6 00414 2521 00	spri2	pr6|268
000775  aa  6 00403 3521 00	epp2 	pr6|259
000776  aa  6 00416 2521 00	spri2	pr6|270
000777  aa  6 00254 3521 00	epp2 	pr6|172		ec
001000  aa  6 00420 2521 00	spri2	pr6|272
001001  aa  6 00412 6211 00	eax1 	pr6|266
001002  aa   014000 4310 07	fld  	6144,dl
001003  aa  6 00044 3701 20	epp4 	pr6|36,*
001004  la  4 00220 3521 20	epp2 	pr4|144,*		hcs_$set_bc_seg
001005  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 169
	call hcs_$add_acl_entries (dn, en, addr (aa), 1, ec);

001006  aa  6 00256 3735 00	epp7 	pr6|174		aa
001007  aa  6 00474 6535 00	spri7	pr6|316
001010  aa   000001 2360 07	ldq  	1,dl
001011  aa  6 00403 7561 00	stq  	pr6|259
001012  aa  6 00100 3521 00	epp2 	pr6|64		dn
001013  aa  6 00444 2521 00	spri2	pr6|292
001014  aa  6 00152 3521 00	epp2 	pr6|106		en
001015  aa  6 00446 2521 00	spri2	pr6|294
001016  aa  6 00474 3521 00	epp2 	pr6|316
001017  aa  6 00450 2521 00	spri2	pr6|296
001020  aa  6 00403 3521 00	epp2 	pr6|259
001021  aa  6 00452 2521 00	spri2	pr6|298
001022  aa  6 00254 3521 00	epp2 	pr6|172		ec
001023  aa  6 00454 2521 00	spri2	pr6|300
001024  aa   777105 3520 04	epp2 	-443,ic		000131 = 526000000250
001025  aa  6 00456 2521 00	spri2	pr6|302
001026  aa   777114 3520 04	epp2 	-436,ic		000142 = 526000000040
001027  aa  6 00460 2521 00	spri2	pr6|304
001030  aa   777107 3520 04	epp2 	-441,ic		000137 = 464000000000
001031  aa  6 00462 2521 00	spri2	pr6|306
001032  aa   777113 3520 04	epp2 	-437,ic		000145 = 404000000021
001033  aa  6 00464 2521 00	spri2	pr6|308
001034  aa   777101 3520 04	epp2 	-447,ic		000135 = 404000000043
001035  aa  6 00466 2521 00	spri2	pr6|310
001036  aa  6 00442 6211 00	eax1 	pr6|290
001037  aa   024000 4310 07	fld  	10240,dl
001040  aa  6 00044 3701 20	epp4 	pr6|36,*
001041  la  4 00176 3521 20	epp2 	pr4|126,*		hcs_$add_acl_entries
001042  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 171
	uname = "lvid." || unique_chars_ (volume_registration.hvid);

001043  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
001044  aa  7 00001 3521 00	epp2 	pr7|1		volume_registration.hvid
001045  aa  6 00424 2521 00	spri2	pr6|276
001046  aa  6 00404 3521 00	epp2 	pr6|260
001047  aa  6 00426 2521 00	spri2	pr6|278
001050  aa   777073 3520 04	epp2 	-453,ic		000143 = 514000000044
001051  aa  6 00430 2521 00	spri2	pr6|280
001052  aa   777066 3520 04	epp2 	-458,ic		000140 = 526000000017
001053  aa  6 00432 2521 00	spri2	pr6|282
001054  aa  6 00422 6211 00	eax1 	pr6|274
001055  aa   010000 4310 07	fld  	4096,dl
001056  aa  6 00044 3701 20	epp4 	pr6|36,*
001057  la  4 00246 3521 20	epp2 	pr4|166,*		unique_chars_
001060  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
001061  aa   000024 2360 07	ldq  	20,dl
001062  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
001063  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
001064  aa   777073 00 0005	desc9a	-453,5		000156 = 154166151144
001065  aa  2 00000 00 0005	desc9a	pr2|0,5
001066  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
001067  aa  6 00404 00 0017	desc9a	pr6|260,15
001070  aa  2 00001 20 0017	desc9a	pr2|1(1),15
001071  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
001072  aa  2 00000 00 0024	desc9a	pr2|0,20
001073  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 172
	call hcs_$chname_seg (vrp, "", uname, ec);

001074  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
001075  aa  6 00316 3521 00	epp2 	pr6|206		vrp
001076  aa  6 00444 2521 00	spri2	pr6|292
001077  aa  6 00403 3521 00	epp2 	pr6|259
001100  aa  6 00446 2521 00	spri2	pr6|294
001101  aa  6 00164 3521 00	epp2 	pr6|116		uname
001102  aa  6 00450 2521 00	spri2	pr6|296
001103  aa  6 00254 3521 00	epp2 	pr6|172		ec
001104  aa  6 00452 2521 00	spri2	pr6|298
001105  aa   777032 3520 04	epp2 	-486,ic		000137 = 464000000000
001106  aa  6 00454 2521 00	spri2	pr6|300
001107  aa   777020 3520 04	epp2 	-496,ic		000127 = 524000000000
001110  aa  6 00456 2521 00	spri2	pr6|302
001111  aa   777031 3520 04	epp2 	-487,ic		000142 = 526000000040
001112  aa  6 00460 2521 00	spri2	pr6|304
001113  aa   777022 3520 04	epp2 	-494,ic		000135 = 404000000043
001114  aa  6 00462 2521 00	spri2	pr6|306
001115  aa  6 00442 6211 00	eax1 	pr6|290
001116  aa   020000 4310 07	fld  	8192,dl
001117  aa  6 00044 3701 20	epp4 	pr6|36,*
001120  la  4 00202 3521 20	epp2 	pr4|130,*		hcs_$chname_seg
001121  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 173
	ec = 0;

001122  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 174
	go to exit;

001123  aa   777355 7100 04	tra  	-275,ic		000500
ENTRY TO chname_hv                                          STATEMENT 1 ON LINE 178
chname_hv: entry (a_lvname, a_old, a_new, a_ec);

001124  at     000004000136
001125  tt     000136000136
001126  ta     000135000000
001127  ta     001124000000
001130  da     000427300000
001131  aa   000640 6270 00	eax7 	416
001132  aa  7 00034 3521 20	epp2 	pr7|28,*
001133  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001134  aa     000010000000
001135  aa     000000000000
001136  aa  6 00042 3735 20	epp7 	pr6|34,*
001137  aa  7 00002 2361 20	ldq  	pr7|2,*
001140  aa   000002 6040 04	tmi  	2,ic		001142
001141  aa   777777 3760 07	anq  	262143,dl
001142  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001143  aa  6 00476 7561 00	stq  	pr6|318
001144  aa  7 00004 2361 20	ldq  	pr7|4,*
001145  aa   000002 6040 04	tmi  	2,ic		001147
001146  aa   777777 3760 07	anq  	262143,dl
001147  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001150  aa  6 00477 7561 00	stq  	pr6|319
001151  aa  6 00032 3715 20	epp5 	pr6|26,*
001152  aa  5 00002 3535 20	epp3 	pr5|2,*
001153  aa  6 00330 2535 00	spri3	pr6|216
001154  aa  7 00000 3515 20	epp1 	pr7|0,*
001155  aa  6 00326 2515 00	spri1	pr6|214
001156  aa  5 00010 3535 20	epp3 	pr5|8,*
001157  aa  6 00332 2535 00	spri3	pr6|218
001160  aa   777141 7000 04	tsx0 	-415,ic		000321
						STATEMENT 1 ON LINE 182
	if verify (a_new, LEGAL) ^= 0 then do;

001161  aa  6 00032 3735 20	epp7 	pr6|26,*
001162  aa  7 00006 3715 20	epp5 	pr7|6,*
001163  aa  6 00477 2351 00	lda  	pr6|319
001164  aa  000 000 164 540	tct  	(pr,rl)
001165  aa  5 00000 00 0005	desc9a	pr5|0,al		a_new
001166  aa   006012 0000 04	arg  	3082,ic		007176 = 777777777777
001167  aa  6 00056 0001 00	arg  	pr6|46
001170  aa  6 00056 2361 00	ldq  	pr6|46
001171  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
001172  aa   000002 6070 04	ttf  	2,ic		001174
001173  aa   000001 3360 07	lcq  	1,dl
001174  aa   000001 0760 07	adq  	1,dl
001175  aa   000005 6000 04	tze  	5,ic		001202
						STATEMENT 1 ON LINE 183
	     a_ec = error_table_$argerr;

001176  aa  6 00044 3701 20	epp4 	pr6|36,*
001177  la  4 00144 2361 20	ldq  	pr4|100,*		error_table_$argerr
001200  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 184
	     return;

001201  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 185
	end;

						STATEMENT 1 ON LINE 186
	lvname = a_lvname;

001202  aa  6 00326 2361 20	ldq  	pr6|214,*
001203  aa   000002 6040 04	tmi  	2,ic		001205
001204  aa   777777 3760 07	anq  	262143,dl
001205  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001206  aa  6 00330 3535 20	epp3 	pr6|216,*
001207  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001210  aa  3 00000 00 0006	desc9a	pr3|0,ql		a_lvname
001211  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 187
	call locate_ (lvname, LV, INIT);

001212  aa  6 00204 3521 00	epp2 	pr6|132		lvname
001213  aa  6 00424 2521 00	spri2	pr6|276
001214  aa  6 00044 3701 20	epp4 	pr6|36,*
001215  ia  4 00012 3521 00	epp2 	pr4|10		LV
001216  aa  6 00426 2521 00	spri2	pr6|278
001217  ia  4 00013 3521 00	epp2 	pr4|11		INIT
001220  aa  6 00430 2521 00	spri2	pr6|280
001221  aa   776721 3520 04	epp2 	-559,ic		000142 = 526000000040
001222  aa  6 00432 2521 00	spri2	pr6|282
001223  aa   776705 3520 04	epp2 	-571,ic		000130 = 516000000001
001224  aa  6 00434 2521 00	spri2	pr6|284
001225  aa  6 00436 2521 00	spri2	pr6|286
001226  aa  6 00422 3521 00	epp2 	pr6|274
001227  aa   014000 4310 07	fld  	6144,dl
001230  aa  2 00000 7571 00	staq 	pr2|0
001231  aa   005234 6700 04	tsp4 	2716,ic		006465
						STATEMENT 1 ON LINE 188
	if dn ^= LV_DIR then do;

001232  aa  6 00044 3701 20	epp4 	pr6|36,*
001233  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
001234  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
001235  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
001236  aa   000121 6000 04	tze  	81,ic		001357
						STATEMENT 1 ON LINE 189
	     call hcs_$status_minf (LV_DIR, a_old, 0, type, bc, ec);

001237  aa  6 00403 4501 00	stz  	pr6|259
001240  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001241  aa  6 00444 2521 00	spri2	pr6|292
001242  aa  6 00032 3735 20	epp7 	pr6|26,*
001243  aa  7 00004 3521 20	epp2 	pr7|4,*		a_old
001244  aa  6 00446 2521 00	spri2	pr6|294
001245  aa  6 00403 3521 00	epp2 	pr6|259
001246  aa  6 00450 2521 00	spri2	pr6|296
001247  aa  6 00215 3521 00	epp2 	pr6|141		type
001250  aa  6 00452 2521 00	spri2	pr6|298
001251  aa  6 00216 3521 00	epp2 	pr6|142		bc
001252  aa  6 00454 2521 00	spri2	pr6|300
001253  aa  6 00254 3521 00	epp2 	pr6|172		ec
001254  aa  6 00456 2521 00	spri2	pr6|302
001255  aa   776654 3520 04	epp2 	-596,ic		000131 = 526000000250
001256  aa  6 00460 2521 00	spri2	pr6|304
001257  aa  6 00042 3715 20	epp5 	pr6|34,*
001260  aa  5 00002 3521 20	epp2 	pr5|2,*
001261  aa  6 00462 2521 00	spri2	pr6|306
001262  aa   776644 3520 04	epp2 	-604,ic		000126 = 404000000001
001263  aa  6 00464 2521 00	spri2	pr6|308
001264  aa   776641 3520 04	epp2 	-607,ic		000125 = 404000000002
001265  aa  6 00466 2521 00	spri2	pr6|310
001266  aa   776636 3520 04	epp2 	-610,ic		000124 = 404000000030
001267  aa  6 00470 2521 00	spri2	pr6|312
001270  aa   776645 3520 04	epp2 	-603,ic		000135 = 404000000043
001271  aa  6 00472 2521 00	spri2	pr6|314
001272  aa  6 00442 6211 00	eax1 	pr6|290
001273  aa   030000 4310 07	fld  	12288,dl
001274  la  4 00230 3521 20	epp2 	pr4|152,*		hcs_$status_minf
001275  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 190
	     if ec = 0 & type = 0
	     then call hcs_$delentry_file (LV_DIR, a_old, ec);

001276  aa  6 00254 2361 00	ldq  	pr6|172		ec
001277  aa   000026 6010 04	tnz  	22,ic		001325
001300  aa  6 00215 2361 00	ldq  	pr6|141		type
001301  aa   000024 6010 04	tnz  	20,ic		001325
001302  aa  6 00044 3701 20	epp4 	pr6|36,*
001303  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001304  aa  6 00424 2521 00	spri2	pr6|276
001305  aa  6 00032 3735 20	epp7 	pr6|26,*
001306  aa  7 00004 3521 20	epp2 	pr7|4,*		a_old
001307  aa  6 00426 2521 00	spri2	pr6|278
001310  aa  6 00254 3521 00	epp2 	pr6|172		ec
001311  aa  6 00430 2521 00	spri2	pr6|280
001312  aa   776617 3520 04	epp2 	-625,ic		000131 = 526000000250
001313  aa  6 00432 2521 00	spri2	pr6|282
001314  aa  6 00042 3715 20	epp5 	pr6|34,*
001315  aa  5 00002 3521 20	epp2 	pr5|2,*
001316  aa  6 00434 2521 00	spri2	pr6|284
001317  aa   776616 3520 04	epp2 	-626,ic		000135 = 404000000043
001320  aa  6 00436 2521 00	spri2	pr6|286
001321  aa  6 00422 6211 00	eax1 	pr6|274
001322  aa   014000 4310 07	fld  	6144,dl
001323  la  4 00206 3521 20	epp2 	pr4|134,*		hcs_$delentry_file
001324  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 192
	     call hcs_$append_link (LV_DIR, a_new, target (en), ec);

001325  aa   005637 3520 04	epp2 	2975,ic		007164 = 000004000000
001326  aa  2 00000 2351 00	lda  	pr2|0
001327  aa   005510 6700 04	tsp4 	2888,ic		007037
001330  aa  6 00044 3701 20	epp4 	pr6|36,*
001331  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001332  aa  6 00444 2521 00	spri2	pr6|292
001333  aa  6 00032 3735 20	epp7 	pr6|26,*
001334  aa  7 00006 3521 20	epp2 	pr7|6,*		a_new
001335  aa  6 00446 2521 00	spri2	pr6|294
001336  aa  6 00500 3521 00	epp2 	pr6|320
001337  aa  6 00450 2521 00	spri2	pr6|296
001340  aa  6 00254 3521 00	epp2 	pr6|172		ec
001341  aa  6 00452 2521 00	spri2	pr6|298
001342  aa   776567 3520 04	epp2 	-649,ic		000131 = 526000000250
001343  aa  6 00454 2521 00	spri2	pr6|300
001344  aa  6 00042 3715 20	epp5 	pr6|34,*
001345  aa  5 00004 3521 20	epp2 	pr5|4,*
001346  aa  6 00456 2521 00	spri2	pr6|302
001347  aa   776554 3520 04	epp2 	-660,ic		000123 = 524000000250
001350  aa  6 00460 2521 00	spri2	pr6|304
001351  aa   776564 3520 04	epp2 	-652,ic		000135 = 404000000043
001352  aa  6 00462 2521 00	spri2	pr6|306
001353  aa  6 00442 6211 00	eax1 	pr6|290
001354  aa   020000 4310 07	fld  	8192,dl
001355  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
001356  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 193
	end;

						STATEMENT 1 ON LINE 194
	call hcs_$chname_seg (vrp, a_old, a_new, ec);

001357  aa  6 00316 3521 00	epp2 	pr6|206		vrp
001360  aa  6 00444 2521 00	spri2	pr6|292
001361  aa  6 00032 3735 20	epp7 	pr6|26,*
001362  aa  7 00004 3521 20	epp2 	pr7|4,*		a_old
001363  aa  6 00446 2521 00	spri2	pr6|294
001364  aa  7 00006 3521 20	epp2 	pr7|6,*		a_new
001365  aa  6 00450 2521 00	spri2	pr6|296
001366  aa  6 00254 3521 00	epp2 	pr6|172		ec
001367  aa  6 00452 2521 00	spri2	pr6|298
001370  aa   776547 3520 04	epp2 	-665,ic		000137 = 464000000000
001371  aa  6 00454 2521 00	spri2	pr6|300
001372  aa  6 00042 3715 20	epp5 	pr6|34,*
001373  aa  5 00002 3521 20	epp2 	pr5|2,*
001374  aa  6 00456 2521 00	spri2	pr6|302
001375  aa  5 00004 3521 20	epp2 	pr5|4,*
001376  aa  6 00460 2521 00	spri2	pr6|304
001377  aa   776536 3520 04	epp2 	-674,ic		000135 = 404000000043
001400  aa  6 00462 2521 00	spri2	pr6|306
001401  aa  6 00442 6211 00	eax1 	pr6|290
001402  aa   020000 4310 07	fld  	8192,dl
001403  aa  6 00044 3701 20	epp4 	pr6|36,*
001404  la  4 00202 3521 20	epp2 	pr4|130,*		hcs_$chname_seg
001405  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 195
	if ec = error_table_$segnamedup then ec = 0;

001406  aa  6 00254 2361 00	ldq  	pr6|172		ec
001407  aa  6 00044 3701 20	epp4 	pr6|36,*
001410  la  4 00154 1161 20	cmpq 	pr4|108,*		error_table_$segnamedup
001411  aa   777067 6010 04	tnz  	-457,ic		000500
001412  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 196
	go to exit;

001413  aa   777065 7100 04	tra  	-459,ic		000500
ENTRY TO delete_hv                                          STATEMENT 1 ON LINE 200
delete_hv: entry (a_lvname, a_ec);

001414  at     000002000136
001415  ta     000135000000
001416  ta     001414000000
001417  da     000435300000
001420  aa   000640 6270 00	eax7 	416
001421  aa  7 00034 3521 20	epp2 	pr7|28,*
001422  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001423  aa     000004000000
001424  aa     000000000000
001425  aa  6 00032 3735 20	epp7 	pr6|26,*
001426  aa  7 00002 3715 20	epp5 	pr7|2,*
001427  aa  6 00330 6515 00	spri5	pr6|216
001430  aa  6 00042 3535 20	epp3 	pr6|34,*
001431  aa  3 00000 3515 20	epp1 	pr3|0,*
001432  aa  6 00326 2515 00	spri1	pr6|214
001433  aa  7 00004 3715 20	epp5 	pr7|4,*
001434  aa  6 00332 6515 00	spri5	pr6|218
001435  aa   776664 7000 04	tsx0 	-588,ic		000321
						STATEMENT 1 ON LINE 202
	lvname = a_lvname;

001436  aa  6 00326 2361 20	ldq  	pr6|214,*
001437  aa   000002 6040 04	tmi  	2,ic		001441
001440  aa   777777 3760 07	anq  	262143,dl
001441  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001442  aa  6 00330 3735 20	epp7 	pr6|216,*
001443  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001444  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
001445  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 203
	call locate_ (lvname, LV, INIT);

001446  aa  6 00204 3521 00	epp2 	pr6|132		lvname
001447  aa  6 00424 2521 00	spri2	pr6|276
001450  aa  6 00044 3701 20	epp4 	pr6|36,*
001451  ia  4 00012 3521 00	epp2 	pr4|10		LV
001452  aa  6 00426 2521 00	spri2	pr6|278
001453  ia  4 00013 3521 00	epp2 	pr4|11		INIT
001454  aa  6 00430 2521 00	spri2	pr6|280
001455  aa   776465 3520 04	epp2 	-715,ic		000142 = 526000000040
001456  aa  6 00432 2521 00	spri2	pr6|282
001457  aa   776451 3520 04	epp2 	-727,ic		000130 = 516000000001
001460  aa  6 00434 2521 00	spri2	pr6|284
001461  aa  6 00436 2521 00	spri2	pr6|286
001462  aa  6 00422 3521 00	epp2 	pr6|274
001463  aa   014000 4310 07	fld  	6144,dl
001464  aa  2 00000 7571 00	staq 	pr2|0
001465  aa   005000 6700 04	tsp4 	2560,ic		006465
						STATEMENT 1 ON LINE 204
	uname = rtrim (lvname) || ".acs";

001466  aa  000 000 165 500	tctr 	(pr)
001467  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
001470  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
001471  aa  6 00056 0001 00	arg  	pr6|46
001472  aa  6 00056 2361 00	ldq  	pr6|46
001473  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
001474  aa  6 00403 7561 00	stq  	pr6|259
001475  aa   000040 2360 07	ldq  	32,dl
001476  aa  6 00403 1761 00	sbq  	pr6|259
001477  aa  6 00403 7561 00	stq  	pr6|259
001500  aa   000004 0760 07	adq  	4,dl
001501  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
001502  aa  6 00403 2351 00	lda  	pr6|259
001503  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
001504  aa  6 00204 00 0005	desc9a	pr6|132,al	lvname
001505  aa  2 00000 00 0005	desc9a	pr2|0,al
001506  aa  040 105 100 404	mlr  	(ic),(pr,al),fill(040)
001507  aa   776414 00 0004	desc9a	-756,4		000122 = 056141143163
001510  aa  2 00000 00 0004	desc9a	pr2|0,4
001511  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001512  aa  2 00000 00 0006	desc9a	pr2|0,ql
001513  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 205
	call hcs_$status_minf (LV_DIR, uname, 0, type, bc, ec);

001514  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
001515  aa  6 00403 4501 00	stz  	pr6|259
001516  aa  6 00044 3701 20	epp4 	pr6|36,*
001517  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001520  aa  6 00444 2521 00	spri2	pr6|292
001521  aa  6 00164 3521 00	epp2 	pr6|116		uname
001522  aa  6 00446 2521 00	spri2	pr6|294
001523  aa  6 00403 3521 00	epp2 	pr6|259
001524  aa  6 00450 2521 00	spri2	pr6|296
001525  aa  6 00215 3521 00	epp2 	pr6|141		type
001526  aa  6 00452 2521 00	spri2	pr6|298
001527  aa  6 00216 3521 00	epp2 	pr6|142		bc
001530  aa  6 00454 2521 00	spri2	pr6|300
001531  aa  6 00254 3521 00	epp2 	pr6|172		ec
001532  aa  6 00456 2521 00	spri2	pr6|302
001533  aa   776376 3520 04	epp2 	-770,ic		000131 = 526000000250
001534  aa  6 00460 2521 00	spri2	pr6|304
001535  aa   776405 3520 04	epp2 	-763,ic		000142 = 526000000040
001536  aa  6 00462 2521 00	spri2	pr6|306
001537  aa   776367 3520 04	epp2 	-777,ic		000126 = 404000000001
001540  aa  6 00464 2521 00	spri2	pr6|308
001541  aa   776364 3520 04	epp2 	-780,ic		000125 = 404000000002
001542  aa  6 00466 2521 00	spri2	pr6|310
001543  aa   776361 3520 04	epp2 	-783,ic		000124 = 404000000030
001544  aa  6 00470 2521 00	spri2	pr6|312
001545  aa   776370 3520 04	epp2 	-776,ic		000135 = 404000000043
001546  aa  6 00472 2521 00	spri2	pr6|314
001547  aa  6 00442 6211 00	eax1 	pr6|290
001550  aa   030000 4310 07	fld  	12288,dl
001551  la  4 00230 3521 20	epp2 	pr4|152,*		hcs_$status_minf
001552  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 206
	if ec = 0 & type = 0
	then call hcs_$delentry_file (LV_DIR, uname, ec);

001553  aa  6 00254 2361 00	ldq  	pr6|172		ec
001554  aa   000024 6010 04	tnz  	20,ic		001600
001555  aa  6 00215 2361 00	ldq  	pr6|141		type
001556  aa   000022 6010 04	tnz  	18,ic		001600
001557  aa  6 00044 3701 20	epp4 	pr6|36,*
001560  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001561  aa  6 00424 2521 00	spri2	pr6|276
001562  aa  6 00164 3521 00	epp2 	pr6|116		uname
001563  aa  6 00426 2521 00	spri2	pr6|278
001564  aa  6 00254 3521 00	epp2 	pr6|172		ec
001565  aa  6 00430 2521 00	spri2	pr6|280
001566  aa   776343 3520 04	epp2 	-797,ic		000131 = 526000000250
001567  aa  6 00432 2521 00	spri2	pr6|282
001570  aa   776352 3520 04	epp2 	-790,ic		000142 = 526000000040
001571  aa  6 00434 2521 00	spri2	pr6|284
001572  aa   776343 3520 04	epp2 	-797,ic		000135 = 404000000043
001573  aa  6 00436 2521 00	spri2	pr6|286
001574  aa  6 00422 6211 00	eax1 	pr6|274
001575  aa   014000 4310 07	fld  	6144,dl
001576  la  4 00206 3521 20	epp2 	pr4|134,*		hcs_$delentry_file
001577  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 208
	call hcs_$delentry_seg (vrp, ec);

001600  aa  6 00316 3521 00	epp2 	pr6|206		vrp
001601  aa  6 00414 2521 00	spri2	pr6|268
001602  aa  6 00254 3521 00	epp2 	pr6|172		ec
001603  aa  6 00416 2521 00	spri2	pr6|270
001604  aa  6 00412 6211 00	eax1 	pr6|266
001605  aa   010000 4310 07	fld  	4096,dl
001606  aa  6 00044 3701 20	epp4 	pr6|36,*
001607  la  4 00210 3521 20	epp2 	pr4|136,*		hcs_$delentry_seg
001610  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 209
	go to exit1;

001611  aa   776701 7100 04	tra  	-575,ic		000512
ENTRY TO make_link                                          STATEMENT 1 ON LINE 213
make_link: entry (a_path, a_ec);

001612  ta     001414000000
001613  da     000440300000
001614  aa   000640 6270 00	eax7 	416
001615  aa  7 00034 3521 20	epp2 	pr7|28,*
001616  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001617  aa     000004000000
001620  aa     000000000000
001621  aa  6 00042 3735 20	epp7 	pr6|34,*
001622  aa  7 00000 2361 20	ldq  	pr7|0,*
001623  aa   000002 6040 04	tmi  	2,ic		001625
001624  aa   777777 3760 07	anq  	262143,dl
001625  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001626  aa  6 00552 7561 00	stq  	pr6|362
001627  aa  6 00032 3715 20	epp5 	pr6|26,*
001630  aa  5 00004 3535 20	epp3 	pr5|4,*
001631  aa  6 00332 2535 00	spri3	pr6|218
001632  aa   776467 7000 04	tsx0 	-713,ic		000321
						STATEMENT 1 ON LINE 217
	dn = a_path;

001633  aa  6 00032 3735 20	epp7 	pr6|26,*
001634  aa  7 00002 3715 20	epp5 	pr7|2,*
001635  aa  6 00552 2351 00	lda  	pr6|362
001636  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001637  aa  5 00000 00 0005	desc9a	pr5|0,al		a_path
001640  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
						STATEMENT 1 ON LINE 218
	i = length (dn) + 2 - index (reverse (dn), ">");

001641  aa  000 003 125 500	scmr 	(pr),(du),mask(000)
001642  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
001643  aa   076000 00 0001	desc9a	31744,1
001644  aa  6 00056 0001 00	arg  	pr6|46
001645  aa  6 00056 2361 00	ldq  	pr6|46
001646  aa   000002 6070 04	ttf  	2,ic		001650
001647  aa   000001 3360 07	lcq  	1,dl
001650  aa   000001 0760 07	adq  	1,dl
001651  aa  6 00403 7561 00	stq  	pr6|259
001652  aa   000252 2360 07	ldq  	170,dl
001653  aa  6 00403 1761 00	sbq  	pr6|259
001654  aa  6 00217 7561 00	stq  	pr6|143		i
						STATEMENT 1 ON LINE 219
	en = substr (dn, i);

001655  aa   000001 1760 07	sbq  	1,dl
001656  aa  6 00403 7561 00	stq  	pr6|259
001657  aa   000250 2360 07	ldq  	168,dl
001660  aa  6 00403 1761 00	sbq  	pr6|259
001661  aa  6 00217 7271 00	lxl7 	pr6|143		i
001662  aa  040 100 100 557	mlr  	(pr,rl,x7),(pr),fill(040)
001663  aa  6 00077 60 0006	desc9a	pr6|63(3),ql	dn
001664  aa  6 00152 00 0040	desc9a	pr6|106,32	en
						STATEMENT 1 ON LINE 220
	call cu_$level_set (1);

001665  aa   000001 2360 07	ldq  	1,dl
001666  aa  6 00403 7561 00	stq  	pr6|259
001667  aa  6 00403 3521 00	epp2 	pr6|259
001670  aa  6 00406 2521 00	spri2	pr6|262
001671  aa  6 00404 6211 00	eax1 	pr6|260
001672  aa   004000 4310 07	fld  	2048,dl
001673  aa  6 00044 3701 20	epp4 	pr6|36,*
001674  la  4 00162 3521 20	epp2 	pr4|114,*		cu_$level_set
001675  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 221
	call hcs_$status_minf (LV_DIR, en, 0, type, bc, ec);

001676  aa  6 00403 4501 00	stz  	pr6|259
001677  aa  6 00044 3701 20	epp4 	pr6|36,*
001700  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001701  aa  6 00444 2521 00	spri2	pr6|292
001702  aa  6 00152 3521 00	epp2 	pr6|106		en
001703  aa  6 00446 2521 00	spri2	pr6|294
001704  aa  6 00403 3521 00	epp2 	pr6|259
001705  aa  6 00450 2521 00	spri2	pr6|296
001706  aa  6 00215 3521 00	epp2 	pr6|141		type
001707  aa  6 00452 2521 00	spri2	pr6|298
001710  aa  6 00216 3521 00	epp2 	pr6|142		bc
001711  aa  6 00454 2521 00	spri2	pr6|300
001712  aa  6 00254 3521 00	epp2 	pr6|172		ec
001713  aa  6 00456 2521 00	spri2	pr6|302
001714  aa   776215 3520 04	epp2 	-883,ic		000131 = 526000000250
001715  aa  6 00460 2521 00	spri2	pr6|304
001716  aa   776224 3520 04	epp2 	-876,ic		000142 = 526000000040
001717  aa  6 00462 2521 00	spri2	pr6|306
001720  aa   776206 3520 04	epp2 	-890,ic		000126 = 404000000001
001721  aa  6 00464 2521 00	spri2	pr6|308
001722  aa   776203 3520 04	epp2 	-893,ic		000125 = 404000000002
001723  aa  6 00466 2521 00	spri2	pr6|310
001724  aa   776200 3520 04	epp2 	-896,ic		000124 = 404000000030
001725  aa  6 00470 2521 00	spri2	pr6|312
001726  aa   776207 3520 04	epp2 	-889,ic		000135 = 404000000043
001727  aa  6 00472 2521 00	spri2	pr6|314
001730  aa  6 00442 6211 00	eax1 	pr6|290
001731  aa   030000 4310 07	fld  	12288,dl
001732  la  4 00230 3521 20	epp2 	pr4|152,*		hcs_$status_minf
001733  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 222
	if ec = 0 & type = 0			/* If there was an old link */
	then call hcs_$delentry_file (LV_DIR, en, ec);

001734  aa  6 00254 2361 00	ldq  	pr6|172		ec
001735  aa   000024 6010 04	tnz  	20,ic		001761
001736  aa  6 00215 2361 00	ldq  	pr6|141		type
001737  aa   000022 6010 04	tnz  	18,ic		001761
001740  aa  6 00044 3701 20	epp4 	pr6|36,*
001741  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001742  aa  6 00424 2521 00	spri2	pr6|276
001743  aa  6 00152 3521 00	epp2 	pr6|106		en
001744  aa  6 00426 2521 00	spri2	pr6|278
001745  aa  6 00254 3521 00	epp2 	pr6|172		ec
001746  aa  6 00430 2521 00	spri2	pr6|280
001747  aa   776162 3520 04	epp2 	-910,ic		000131 = 526000000250
001750  aa  6 00432 2521 00	spri2	pr6|282
001751  aa   776171 3520 04	epp2 	-903,ic		000142 = 526000000040
001752  aa  6 00434 2521 00	spri2	pr6|284
001753  aa   776162 3520 04	epp2 	-910,ic		000135 = 404000000043
001754  aa  6 00436 2521 00	spri2	pr6|286
001755  aa  6 00422 6211 00	eax1 	pr6|274
001756  aa   014000 4310 07	fld  	6144,dl
001757  la  4 00206 3521 20	epp2 	pr4|134,*		hcs_$delentry_file
001760  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 224
	call hcs_$append_link (LV_DIR, en, dn, ec);

001761  aa  6 00044 3701 20	epp4 	pr6|36,*
001762  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
001763  aa  6 00444 2521 00	spri2	pr6|292
001764  aa  6 00152 3521 00	epp2 	pr6|106		en
001765  aa  6 00446 2521 00	spri2	pr6|294
001766  aa  6 00100 3521 00	epp2 	pr6|64		dn
001767  aa  6 00450 2521 00	spri2	pr6|296
001770  aa  6 00254 3521 00	epp2 	pr6|172		ec
001771  aa  6 00452 2521 00	spri2	pr6|298
001772  aa   776137 3520 04	epp2 	-929,ic		000131 = 526000000250
001773  aa  6 00454 2521 00	spri2	pr6|300
001774  aa  6 00460 2521 00	spri2	pr6|304
001775  aa   776145 3520 04	epp2 	-923,ic		000142 = 526000000040
001776  aa  6 00456 2521 00	spri2	pr6|302
001777  aa   776136 3520 04	epp2 	-930,ic		000135 = 404000000043
002000  aa  6 00462 2521 00	spri2	pr6|306
002001  aa  6 00442 6211 00	eax1 	pr6|290
002002  aa   020000 4310 07	fld  	8192,dl
002003  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
002004  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 225
	go to exit;

002005  aa   776473 7100 04	tra  	-709,ic		000500
ENTRY TO pvname_info                                        STATEMENT 1 ON LINE 234
pvname_info: entry (a_pvname, a_pvid, a_lvname, a_lvid, a_device_type, a_ec);

002006  at     000006000136
002007  tt     000134000136
002010  tt     000134000145
002011  ta     000135000000
002012  ta     002006000000
002013  da     000446300000
002014  aa   000640 6270 00	eax7 	416
002015  aa  7 00034 3521 20	epp2 	pr7|28,*
002016  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
002017  aa     000014000000
002020  aa     000000000000
002021  aa  6 00032 3735 20	epp7 	pr6|26,*
002022  aa  7 00002 3715 20	epp5 	pr7|2,*
002023  aa  6 00336 6515 00	spri5	pr6|222
002024  aa  6 00042 3535 20	epp3 	pr6|34,*
002025  aa  3 00000 3515 20	epp1 	pr3|0,*
002026  aa  6 00334 2515 00	spri1	pr6|220
002027  aa  7 00004 3715 20	epp5 	pr7|4,*
002030  aa  6 00342 6515 00	spri5	pr6|226
002031  aa  7 00006 3535 20	epp3 	pr7|6,*
002032  aa  6 00330 2535 00	spri3	pr6|216
002033  aa  6 00042 3515 20	epp1 	pr6|34,*
002034  aa  1 00004 3715 20	epp5 	pr1|4,*
002035  aa  6 00326 6515 00	spri5	pr6|214
002036  aa  7 00010 3535 20	epp3 	pr7|8,*
002037  aa  6 00340 2535 00	spri3	pr6|224
002040  aa  7 00014 3515 20	epp1 	pr7|12,*
002041  aa  6 00332 2515 00	spri1	pr6|218
002042  aa   776257 7000 04	tsx0 	-849,ic		000321
						STATEMENT 1 ON LINE 237
	a_ec = error_table_$unregistered_volume;

002043  aa  6 00044 3701 20	epp4 	pr6|36,*
002044  la  4 00146 2361 20	ldq  	pr4|102,*		error_table_$unregistered_volume
002045  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 238
	pvname = a_pvname;

002046  aa  6 00334 2361 20	ldq  	pr6|220,*
002047  aa   000002 6040 04	tmi  	2,ic		002051
002050  aa   777777 3760 07	anq  	262143,dl
002051  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002052  aa  6 00336 3735 20	epp7 	pr6|222,*
002053  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
002054  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_pvname
002055  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
						STATEMENT 1 ON LINE 239
	call locate_ (pvname, PV, INIT);

002056  aa  6 00174 3521 00	epp2 	pr6|124		pvname
002057  aa  6 00424 2521 00	spri2	pr6|276
002060  ia  4 00011 3521 00	epp2 	pr4|9		PV
002061  aa  6 00426 2521 00	spri2	pr6|278
002062  ia  4 00013 3521 00	epp2 	pr4|11		INIT
002063  aa  6 00430 2521 00	spri2	pr6|280
002064  aa   776056 3520 04	epp2 	-978,ic		000142 = 526000000040
002065  aa  6 00432 2521 00	spri2	pr6|282
002066  aa   776042 3520 04	epp2 	-990,ic		000130 = 516000000001
002067  aa  6 00434 2521 00	spri2	pr6|284
002070  aa  6 00436 2521 00	spri2	pr6|286
002071  aa  6 00422 3521 00	epp2 	pr6|274
002072  aa   014000 4310 07	fld  	6144,dl
002073  aa  2 00000 7571 00	staq 	pr2|0
002074  aa   004371 6700 04	tsp4 	2297,ic		006465
						STATEMENT 1 ON LINE 240
	do i = 1 to volume_registration.npv while (pvname ^= volume_registration.pv (i).pvname);

002075  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
002076  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
002077  aa  6 00344 7561 00	stq  	pr6|228
002100  aa   000001 2360 07	ldq  	1,dl
002101  aa  6 00217 7561 00	stq  	pr6|143		i
002102  aa  6 00217 2361 00	ldq  	pr6|143		i
002103  aa  6 00344 1161 00	cmpq 	pr6|228
002104  aa   000012 6054 04	tpnz 	10,ic		002116
002105  aa   000036 4020 07	mpy  	30,dl
002106  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
002107  aa  7 00046 3735 06	epp7 	pr7|38,ql		volume_registration.pvname
002110  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
002111  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
002112  aa  7 00000 00 0040	desc9a	pr7|0,32		volume_registration.pvname
002113  aa   000003 6000 04	tze  	3,ic		002116
						STATEMENT 2 ON LINE 240
 end;

002114  aa  6 00217 0541 00	aos  	pr6|143		i
002115  aa   777765 7100 04	tra  	-11,ic		002102
						STATEMENT 1 ON LINE 241
	if i > volume_registration.npv then return;

002116  aa  6 00217 2361 00	ldq  	pr6|143		i
002117  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
002120  aa  7 00101 1161 00	cmpq 	pr7|65		volume_registration.npv
002121  aa  0 00631 6055 00	tpnz 	pr0|409		return
						STATEMENT 1 ON LINE 242
	a_ec = 0;

002122  aa  6 00332 4501 20	stz  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 243
	a_pvid = volume_registration.pv (i).pvid;

002123  aa   000036 4020 07	mpy  	30,dl
002124  aa  7 00044 3715 06	epp5 	pr7|36,ql		volume_registration.pvid
002125  aa  6 00342 3535 20	epp3 	pr6|226,*
002126  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
002127  aa  5 00000 00 0044	descb	pr5|0,36		volume_registration.pvid
002130  aa  3 00000 00 0044	descb	pr3|0,36		a_pvid
						STATEMENT 1 ON LINE 244
	a_device_type = volume_registration.pv (i).model;

002131  aa  7 00045 2361 06	ldq  	pr7|37,ql		volume_registration.model
002132  aa  6 00032 3515 20	epp1 	pr6|26,*
002133  aa  1 00012 7561 20	stq  	pr1|10,*		a_device_type
						STATEMENT 1 ON LINE 245
	a_lvname = volume_registration.hvname;

002134  aa  6 00326 2361 20	ldq  	pr6|214,*
002135  aa   000002 6040 04	tmi  	2,ic		002137
002136  aa   777777 3760 07	anq  	262143,dl
002137  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002140  aa  6 00330 3715 20	epp5 	pr6|216,*
002141  aa  040 140 100 500	mlr  	(pr),(pr,rl),fill(040)
002142  aa  7 00002 00 0040	desc9a	pr7|2,32		volume_registration.hvname
002143  aa  5 00000 00 0006	desc9a	pr5|0,ql		a_lvname
						STATEMENT 1 ON LINE 246
	a_lvid = volume_registration.hvid;

002144  aa  6 00340 3535 20	epp3 	pr6|224,*
002145  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
002146  aa  7 00001 00 0044	descb	pr7|1,36		volume_registration.hvid
002147  aa  3 00000 00 0044	descb	pr3|0,36		a_lvid
						STATEMENT 1 ON LINE 247
	return;

002150  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO find_hvid                                          STATEMENT 1 ON LINE 251
find_hvid: entry (a_lvname, a_lvid, a_ec);

002151  at     000003000136
002152  tt     000134000135
002153  ta     002151000000
002154  da     000454300000
002155  aa   000640 6270 00	eax7 	416
002156  aa  7 00034 3521 20	epp2 	pr7|28,*
002157  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
002160  aa     000006000000
002161  aa     000000000000
002162  aa  6 00032 3735 20	epp7 	pr6|26,*
002163  aa  7 00002 3715 20	epp5 	pr7|2,*
002164  aa  6 00330 6515 00	spri5	pr6|216
002165  aa  6 00042 3535 20	epp3 	pr6|34,*
002166  aa  3 00000 3515 20	epp1 	pr3|0,*
002167  aa  6 00326 2515 00	spri1	pr6|214
002170  aa  7 00004 3715 20	epp5 	pr7|4,*
002171  aa  6 00340 6515 00	spri5	pr6|224
002172  aa  7 00006 3535 20	epp3 	pr7|6,*
002173  aa  6 00332 2535 00	spri3	pr6|218
002174  aa   776125 7000 04	tsx0 	-939,ic		000321
						STATEMENT 1 ON LINE 255
	lvname = a_lvname;

002175  aa  6 00326 2361 20	ldq  	pr6|214,*
002176  aa   000002 6040 04	tmi  	2,ic		002200
002177  aa   777777 3760 07	anq  	262143,dl
002200  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002201  aa  6 00330 3735 20	epp7 	pr6|216,*
002202  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
002203  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
002204  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 256
	call locate_ (lvname, LV, INIT);

002205  aa  6 00204 3521 00	epp2 	pr6|132		lvname
002206  aa  6 00424 2521 00	spri2	pr6|276
002207  aa  6 00044 3701 20	epp4 	pr6|36,*
002210  ia  4 00012 3521 00	epp2 	pr4|10		LV
002211  aa  6 00426 2521 00	spri2	pr6|278
002212  ia  4 00013 3521 00	epp2 	pr4|11		INIT
002213  aa  6 00430 2521 00	spri2	pr6|280
002214  aa   775726 3520 04	epp2 	-1066,ic		000142 = 526000000040
002215  aa  6 00432 2521 00	spri2	pr6|282
002216  aa   775712 3520 04	epp2 	-1078,ic		000130 = 516000000001
002217  aa  6 00434 2521 00	spri2	pr6|284
002220  aa  6 00436 2521 00	spri2	pr6|286
002221  aa  6 00422 3521 00	epp2 	pr6|274
002222  aa   014000 4310 07	fld  	6144,dl
002223  aa  2 00000 7571 00	staq 	pr2|0
002224  aa   004241 6700 04	tsp4 	2209,ic		006465
						STATEMENT 1 ON LINE 257
	a_lvid = volume_registration.hvid;

002225  aa  6 00340 3735 20	epp7 	pr6|224,*
002226  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
002227  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
002230  aa  5 00001 00 0044	descb	pr5|1,36		volume_registration.hvid
002231  aa  7 00000 00 0044	descb	pr7|0,36		a_lvid
						STATEMENT 1 ON LINE 258
	ec = 0;

002232  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 259
	go to exit;

002233  aa   776245 7100 04	tra  	-859,ic		000500
ENTRY TO find_volname                                       STATEMENT 1 ON LINE 263
find_volname: entry (a_pvid, a_pvname, a_lvname, a_ec);

002234  at     000004000134
002235  tt     000136000136
002236  ta     000135000000
002237  ta     002234000000
002240  da     000463300000
002241  aa   000640 6270 00	eax7 	416
002242  aa  7 00034 3521 20	epp2 	pr7|28,*
002243  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
002244  aa     000010000000
002245  aa     000000000000
002246  aa  6 00032 3735 20	epp7 	pr6|26,*
002247  aa  7 00002 3715 20	epp5 	pr7|2,*
002250  aa  6 00342 6515 00	spri5	pr6|226
002251  aa  7 00004 3535 20	epp3 	pr7|4,*
002252  aa  6 00336 2535 00	spri3	pr6|222
002253  aa  6 00042 3515 20	epp1 	pr6|34,*
002254  aa  1 00002 3715 20	epp5 	pr1|2,*
002255  aa  6 00334 6515 00	spri5	pr6|220
002256  aa  7 00006 3535 20	epp3 	pr7|6,*
002257  aa  6 00330 2535 00	spri3	pr6|216
002260  aa  1 00004 3715 20	epp5 	pr1|4,*
002261  aa  6 00326 6515 00	spri5	pr6|214
002262  aa  7 00010 3515 20	epp1 	pr7|8,*
002263  aa  6 00332 2515 00	spri1	pr6|218
002264  aa   776035 7000 04	tsx0 	-995,ic		000321
						STATEMENT 1 ON LINE 267
	a_pvname = "";

002265  aa  6 00334 2361 20	ldq  	pr6|220,*
002266  aa   000002 6040 04	tmi  	2,ic		002270
002267  aa   777777 3760 07	anq  	262143,dl
002270  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002271  aa  6 00336 3735 20	epp7 	pr6|222,*
002272  aa  040 140 100 400	mlr  	(),(pr,rl),fill(040)
002273  aa   000000 00 0000	desc9a	0,0
002274  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_pvname
						STATEMENT 1 ON LINE 268
	a_lvname = "";

002275  aa  6 00326 2361 20	ldq  	pr6|214,*
002276  aa   000002 6040 04	tmi  	2,ic		002300
002277  aa   777777 3760 07	anq  	262143,dl
002300  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002301  aa  6 00330 3715 20	epp5 	pr6|216,*
002302  aa  040 140 100 400	mlr  	(),(pr,rl),fill(040)
002303  aa   000000 00 0000	desc9a	0,0
002304  aa  5 00000 00 0006	desc9a	pr5|0,ql		a_lvname
						STATEMENT 1 ON LINE 269
	uname = "pvid." || unique_chars_ ((a_pvid));

002305  aa  6 00342 3535 20	epp3 	pr6|226,*
002306  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
002307  aa  3 00000 00 0044	descb	pr3|0,36		a_pvid
002310  aa  6 00403 00 0044	descb	pr6|259,36
002311  aa  6 00403 3521 00	epp2 	pr6|259
002312  aa  6 00424 2521 00	spri2	pr6|276
002313  aa  6 00404 3521 00	epp2 	pr6|260
002314  aa  6 00426 2521 00	spri2	pr6|278
002315  aa   775626 3520 04	epp2 	-1130,ic		000143 = 514000000044
002316  aa  6 00430 2521 00	spri2	pr6|280
002317  aa   775621 3520 04	epp2 	-1135,ic		000140 = 526000000017
002320  aa  6 00432 2521 00	spri2	pr6|282
002321  aa  6 00410 7561 00	stq  	pr6|264
002322  aa  6 00422 6211 00	eax1 	pr6|274
002323  aa   010000 4310 07	fld  	4096,dl
002324  aa  6 00044 3701 20	epp4 	pr6|36,*
002325  la  4 00246 3521 20	epp2 	pr4|166,*		unique_chars_
002326  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
002327  aa   000024 2360 07	ldq  	20,dl
002330  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
002331  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
002332  aa   775623 00 0005	desc9a	-1133,5		000154 = 160166151144
002333  aa  2 00000 00 0005	desc9a	pr2|0,5
002334  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
002335  aa  6 00404 00 0017	desc9a	pr6|260,15
002336  aa  2 00001 20 0017	desc9a	pr2|1(1),15
002337  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
002340  aa  2 00000 00 0024	desc9a	pr2|0,20
002341  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 270
	call cu_$level_set (1);

002342  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
002343  aa   000001 2360 07	ldq  	1,dl
002344  aa  6 00403 7561 00	stq  	pr6|259
002345  aa  6 00403 3521 00	epp2 	pr6|259
002346  aa  6 00406 2521 00	spri2	pr6|262
002347  aa  6 00404 6211 00	eax1 	pr6|260
002350  aa   004000 4310 07	fld  	2048,dl
002351  aa  6 00044 3701 20	epp4 	pr6|36,*
002352  la  4 00162 3521 20	epp2 	pr4|114,*		cu_$level_set
002353  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 271
	call hcs_$initiate (LV_DIR, uname, "", 0, 1, vrp, ec);

002354  aa  6 00411 4501 00	stz  	pr6|265
002355  aa   000001 2360 07	ldq  	1,dl
002356  aa  6 00553 7561 00	stq  	pr6|363
002357  aa  6 00044 3701 20	epp4 	pr6|36,*
002360  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
002361  aa  6 00502 2521 00	spri2	pr6|322
002362  aa  6 00164 3521 00	epp2 	pr6|116		uname
002363  aa  6 00504 2521 00	spri2	pr6|324
002364  aa  6 00403 3521 00	epp2 	pr6|259
002365  aa  6 00506 2521 00	spri2	pr6|326
002366  aa  6 00411 3521 00	epp2 	pr6|265
002367  aa  6 00510 2521 00	spri2	pr6|328
002370  aa  6 00553 3521 00	epp2 	pr6|363
002371  aa  6 00512 2521 00	spri2	pr6|330
002372  aa  6 00316 3521 00	epp2 	pr6|206		vrp
002373  aa  6 00514 2521 00	spri2	pr6|332
002374  aa  6 00254 3521 00	epp2 	pr6|172		ec
002375  aa  6 00516 2521 00	spri2	pr6|334
002376  aa   775533 3520 04	epp2 	-1189,ic		000131 = 526000000250
002377  aa  6 00520 2521 00	spri2	pr6|336
002400  aa   775542 3520 04	epp2 	-1182,ic		000142 = 526000000040
002401  aa  6 00522 2521 00	spri2	pr6|338
002402  aa   775525 3520 04	epp2 	-1195,ic		000127 = 524000000000
002403  aa  6 00524 2521 00	spri2	pr6|340
002404  aa   775541 3520 04	epp2 	-1183,ic		000145 = 404000000021
002405  aa  6 00526 2521 00	spri2	pr6|342
002406  aa  6 00530 2521 00	spri2	pr6|344
002407  aa   775530 3520 04	epp2 	-1192,ic		000137 = 464000000000
002410  aa  6 00532 2521 00	spri2	pr6|346
002411  aa   775524 3520 04	epp2 	-1196,ic		000135 = 404000000043
002412  aa  6 00534 2521 00	spri2	pr6|348
002413  aa  6 00500 6211 00	eax1 	pr6|320
002414  aa   034000 4310 07	fld  	14336,dl
002415  la  4 00214 3521 20	epp2 	pr4|140,*		hcs_$initiate
002416  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 272
	if ec ^= 0 then ec = error_table_$unregistered_volume;

002417  aa  6 00254 2361 00	ldq  	pr6|172		ec
002420  aa   000004 6000 04	tze  	4,ic		002424
002421  aa  6 00044 3701 20	epp4 	pr6|36,*
002422  la  4 00146 2361 20	ldq  	pr4|102,*		error_table_$unregistered_volume
002423  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 273
	if vrp = null then go to exit1;

002424  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
002425  aa   775533 6770 04	eraq 	-1189,ic		000160 = 077777000043 000001000000
002426  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
002427  aa   776063 6000 04	tze  	-973,ic		000512
						STATEMENT 1 ON LINE 274
	a_lvname = volume_registration.hvname;

002430  aa  6 00330 3735 20	epp7 	pr6|216,*
002431  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
002432  aa  6 00410 2351 00	lda  	pr6|264
002433  aa  040 140 100 500	mlr  	(pr),(pr,rl),fill(040)
002434  aa  5 00002 00 0040	desc9a	pr5|2,32		volume_registration.hvname
002435  aa  7 00000 00 0005	desc9a	pr7|0,al		a_lvname
						STATEMENT 1 ON LINE 275
	ec = error_table_$bad_volid;

002436  aa  6 00044 3701 20	epp4 	pr6|36,*
002437  la  4 00150 2361 20	ldq  	pr4|104,*		error_table_$bad_volid
002440  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 276
	do i = 1 to volume_registration.npv while (volume_registration.pv (i).pvid ^= a_pvid);

002441  aa  5 00101 2361 00	ldq  	pr5|65		volume_registration.npv
002442  aa  6 00345 7561 00	stq  	pr6|229
002443  aa   000001 2360 07	ldq  	1,dl
002444  aa  6 00217 7561 00	stq  	pr6|143		i
002445  aa   000000 0110 03	nop  	0,du
002446  aa  6 00217 2361 00	ldq  	pr6|143		i
002447  aa  6 00345 1161 00	cmpq 	pr6|229
002450  aa   000013 6054 04	tpnz 	11,ic		002463
002451  aa   000036 4020 07	mpy  	30,dl
002452  aa  6 00342 3735 20	epp7 	pr6|226,*
002453  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
002454  aa  5 00044 3715 06	epp5 	pr5|36,ql		volume_registration.pvid
002455  aa  000 100 066 500	cmpb 	(pr),(pr),fill(0)
002456  aa  7 00000 00 0044	descb	pr7|0,36		a_pvid
002457  aa  5 00000 00 0044	descb	pr5|0,36		volume_registration.pvid
002460  aa   000003 6000 04	tze  	3,ic		002463
						STATEMENT 2 ON LINE 276
 end;

002461  aa  6 00217 0541 00	aos  	pr6|143		i
002462  aa   777764 7100 04	tra  	-12,ic		002446
						STATEMENT 1 ON LINE 277
	if i <= volume_registration.npv then do;

002463  aa  6 00217 2361 00	ldq  	pr6|143		i
002464  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
002465  aa  7 00101 1161 00	cmpq 	pr7|65		volume_registration.npv
002466  aa   776012 6054 04	tpnz 	-1014,ic		000500
						STATEMENT 1 ON LINE 278
	     a_pvname = volume_registration.pv (i).pvname;

002467  aa  6 00334 2361 20	ldq  	pr6|220,*
002470  aa   000002 6040 04	tmi  	2,ic		002472
002471  aa   777777 3760 07	anq  	262143,dl
002472  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002473  aa  6 00410 7561 00	stq  	pr6|264
002474  aa  6 00217 2361 00	ldq  	pr6|143		i
002475  aa   000036 4020 07	mpy  	30,dl
002476  aa  7 00046 3715 06	epp5 	pr7|38,ql		volume_registration.pvname
002477  aa  6 00336 3535 20	epp3 	pr6|222,*
002500  aa  6 00410 2351 00	lda  	pr6|264
002501  aa  040 140 100 500	mlr  	(pr),(pr,rl),fill(040)
002502  aa  5 00000 00 0040	desc9a	pr5|0,32		volume_registration.pvname
002503  aa  3 00000 00 0005	desc9a	pr3|0,al		a_pvname
						STATEMENT 1 ON LINE 279
	     ec = 0;

002504  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 280
	end;

						STATEMENT 1 ON LINE 281
	go to exit;

002505  aa   775773 7100 04	tra  	-1029,ic		000500
ENTRY TO find_hvname                                        STATEMENT 1 ON LINE 285
find_hvname: entry (a_lvid, a_lvname, a_ec);

002506  at     000003000134
002507  tt     000136000135
002510  ta     002506000000
002511  da     000471300000
002512  aa   000640 6270 00	eax7 	416
002513  aa  7 00034 3521 20	epp2 	pr7|28,*
002514  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
002515  aa     000006000000
002516  aa     000000000000
002517  aa  6 00032 3735 20	epp7 	pr6|26,*
002520  aa  7 00002 3715 20	epp5 	pr7|2,*
002521  aa  6 00340 6515 00	spri5	pr6|224
002522  aa  7 00004 3535 20	epp3 	pr7|4,*
002523  aa  6 00330 2535 00	spri3	pr6|216
002524  aa  6 00042 3515 20	epp1 	pr6|34,*
002525  aa  1 00002 3715 20	epp5 	pr1|2,*
002526  aa  6 00326 6515 00	spri5	pr6|214
002527  aa  7 00006 3535 20	epp3 	pr7|6,*
002530  aa  6 00332 2535 00	spri3	pr6|218
002531  aa   775570 7000 04	tsx0 	-1160,ic		000321
						STATEMENT 1 ON LINE 287
	a_lvname = "";

002532  aa  6 00326 2361 20	ldq  	pr6|214,*
002533  aa   000002 6040 04	tmi  	2,ic		002535
002534  aa   777777 3760 07	anq  	262143,dl
002535  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002536  aa  6 00330 3735 20	epp7 	pr6|216,*
002537  aa  040 140 100 400	mlr  	(),(pr,rl),fill(040)
002540  aa   000000 00 0000	desc9a	0,0
002541  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
						STATEMENT 1 ON LINE 288
	uname = "lvid." || unique_chars_ ((a_lvid));

002542  aa  6 00340 3715 20	epp5 	pr6|224,*
002543  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
002544  aa  5 00000 00 0044	descb	pr5|0,36		a_lvid
002545  aa  6 00410 00 0044	descb	pr6|264,36
002546  aa  6 00410 3521 00	epp2 	pr6|264
002547  aa  6 00424 2521 00	spri2	pr6|276
002550  aa  6 00404 3521 00	epp2 	pr6|260
002551  aa  6 00426 2521 00	spri2	pr6|278
002552  aa   775371 3520 04	epp2 	-1287,ic		000143 = 514000000044
002553  aa  6 00430 2521 00	spri2	pr6|280
002554  aa   775364 3520 04	epp2 	-1292,ic		000140 = 526000000017
002555  aa  6 00432 2521 00	spri2	pr6|282
002556  aa  6 00553 7561 00	stq  	pr6|363
002557  aa  6 00422 6211 00	eax1 	pr6|274
002560  aa   010000 4310 07	fld  	4096,dl
002561  aa  6 00044 3701 20	epp4 	pr6|36,*
002562  la  4 00246 3521 20	epp2 	pr4|166,*		unique_chars_
002563  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
002564  aa   000024 2360 07	ldq  	20,dl
002565  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
002566  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
002567  aa   775370 00 0005	desc9a	-1288,5		000156 = 154166151144
002570  aa  2 00000 00 0005	desc9a	pr2|0,5
002571  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
002572  aa  6 00404 00 0017	desc9a	pr6|260,15
002573  aa  2 00001 20 0017	desc9a	pr2|1(1),15
002574  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
002575  aa  2 00000 00 0024	desc9a	pr2|0,20
002576  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 289
	call cu_$level_set (1);

002577  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
002600  aa   000001 2360 07	ldq  	1,dl
002601  aa  6 00410 7561 00	stq  	pr6|264
002602  aa  6 00410 3521 00	epp2 	pr6|264
002603  aa  6 00406 2521 00	spri2	pr6|262
002604  aa  6 00404 6211 00	eax1 	pr6|260
002605  aa   004000 4310 07	fld  	2048,dl
002606  aa  6 00044 3701 20	epp4 	pr6|36,*
002607  la  4 00162 3521 20	epp2 	pr4|114,*		cu_$level_set
002610  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 290
	call hcs_$initiate (LV_DIR, uname, "", 0, 1, vrp, ec);

002611  aa  6 00411 4501 00	stz  	pr6|265
002612  aa   000001 2360 07	ldq  	1,dl
002613  aa  6 00403 7561 00	stq  	pr6|259
002614  aa  6 00044 3701 20	epp4 	pr6|36,*
002615  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
002616  aa  6 00502 2521 00	spri2	pr6|322
002617  aa  6 00164 3521 00	epp2 	pr6|116		uname
002620  aa  6 00504 2521 00	spri2	pr6|324
002621  aa  6 00410 3521 00	epp2 	pr6|264
002622  aa  6 00506 2521 00	spri2	pr6|326
002623  aa  6 00411 3521 00	epp2 	pr6|265
002624  aa  6 00510 2521 00	spri2	pr6|328
002625  aa  6 00403 3521 00	epp2 	pr6|259
002626  aa  6 00512 2521 00	spri2	pr6|330
002627  aa  6 00316 3521 00	epp2 	pr6|206		vrp
002630  aa  6 00514 2521 00	spri2	pr6|332
002631  aa  6 00254 3521 00	epp2 	pr6|172		ec
002632  aa  6 00516 2521 00	spri2	pr6|334
002633  aa   775276 3520 04	epp2 	-1346,ic		000131 = 526000000250
002634  aa  6 00520 2521 00	spri2	pr6|336
002635  aa   775305 3520 04	epp2 	-1339,ic		000142 = 526000000040
002636  aa  6 00522 2521 00	spri2	pr6|338
002637  aa   775270 3520 04	epp2 	-1352,ic		000127 = 524000000000
002640  aa  6 00524 2521 00	spri2	pr6|340
002641  aa   775304 3520 04	epp2 	-1340,ic		000145 = 404000000021
002642  aa  6 00526 2521 00	spri2	pr6|342
002643  aa  6 00530 2521 00	spri2	pr6|344
002644  aa   775273 3520 04	epp2 	-1349,ic		000137 = 464000000000
002645  aa  6 00532 2521 00	spri2	pr6|346
002646  aa   775267 3520 04	epp2 	-1353,ic		000135 = 404000000043
002647  aa  6 00534 2521 00	spri2	pr6|348
002650  aa  6 00500 6211 00	eax1 	pr6|320
002651  aa   034000 4310 07	fld  	14336,dl
002652  la  4 00214 3521 20	epp2 	pr4|140,*		hcs_$initiate
002653  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 291
	if ec ^= 0 then ec = error_table_$unregistered_volume;

002654  aa  6 00254 2361 00	ldq  	pr6|172		ec
002655  aa   000004 6000 04	tze  	4,ic		002661
002656  aa  6 00044 3701 20	epp4 	pr6|36,*
002657  la  4 00146 2361 20	ldq  	pr4|102,*		error_table_$unregistered_volume
002660  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 292
	if vrp = null then go to exit1;

002661  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
002662  aa   775276 6770 04	eraq 	-1346,ic		000160 = 077777000043 000001000000
002663  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
002664  aa   775626 6000 04	tze  	-1130,ic		000512
						STATEMENT 1 ON LINE 293
	a_lvname = volume_registration.hvname;

002665  aa  6 00330 3735 20	epp7 	pr6|216,*
002666  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
002667  aa  6 00553 2351 00	lda  	pr6|363
002670  aa  040 140 100 500	mlr  	(pr),(pr,rl),fill(040)
002671  aa  5 00002 00 0040	desc9a	pr5|2,32		volume_registration.hvname
002672  aa  7 00000 00 0005	desc9a	pr7|0,al		a_lvname
						STATEMENT 1 ON LINE 294
	ec = 0;

002673  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 295
	go to exit;

002674  aa   775604 7100 04	tra  	-1148,ic		000500
ENTRY TO get_access                                         STATEMENT 1 ON LINE 299
get_access: entry (a_lvname, a_level, a_mode, a_ec);

002675  at     000004000136
002676  tt     000133000132
002677  ta     000135000000
002700  ta     002675000000
002701  da     000477300000
002702  aa   000640 6270 00	eax7 	416
002703  aa  7 00034 3521 20	epp2 	pr7|28,*
002704  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
002705  aa     000010000000
002706  aa     000000000000
002707  aa  6 00032 3735 20	epp7 	pr6|26,*
002710  aa  7 00002 3715 20	epp5 	pr7|2,*
002711  aa  6 00330 6515 00	spri5	pr6|216
002712  aa  6 00042 3535 20	epp3 	pr6|34,*
002713  aa  3 00000 3515 20	epp1 	pr3|0,*
002714  aa  6 00326 2515 00	spri1	pr6|214
002715  aa  7 00010 3715 20	epp5 	pr7|8,*
002716  aa  6 00332 6515 00	spri5	pr6|218
002717  aa   775402 7000 04	tsx0 	-1278,ic		000321
						STATEMENT 1 ON LINE 304
	lvname = a_lvname;

002720  aa  6 00326 2361 20	ldq  	pr6|214,*
002721  aa   000002 6040 04	tmi  	2,ic		002723
002722  aa   777777 3760 07	anq  	262143,dl
002723  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
002724  aa  6 00330 3735 20	epp7 	pr6|216,*
002725  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
002726  aa  7 00000 00 0006	desc9a	pr7|0,ql		a_lvname
002727  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 305
	call locate_ (lvname, LV, INIT);

002730  aa  6 00204 3521 00	epp2 	pr6|132		lvname
002731  aa  6 00424 2521 00	spri2	pr6|276
002732  aa  6 00044 3701 20	epp4 	pr6|36,*
002733  ia  4 00012 3521 00	epp2 	pr4|10		LV
002734  aa  6 00426 2521 00	spri2	pr6|278
002735  ia  4 00013 3521 00	epp2 	pr4|11		INIT
002736  aa  6 00430 2521 00	spri2	pr6|280
002737  aa   775203 3520 04	epp2 	-1405,ic		000142 = 526000000040
002740  aa  6 00432 2521 00	spri2	pr6|282
002741  aa   775167 3520 04	epp2 	-1417,ic		000130 = 516000000001
002742  aa  6 00434 2521 00	spri2	pr6|284
002743  aa  6 00436 2521 00	spri2	pr6|286
002744  aa  6 00422 3521 00	epp2 	pr6|274
002745  aa   014000 4310 07	fld  	6144,dl
002746  aa  2 00000 7571 00	staq 	pr2|0
002747  aa   003516 6700 04	tsp4 	1870,ic		006465
						STATEMENT 1 ON LINE 306
	if ^((read_allowed_ (get_authorization_ (), volume_registration.min_access_class) & write_allowed_ (get_authorization_ (), volume_registration.max_access_class))
	   | ((get_privileges_ () & RCP_PRIVILEGE) ^= ""b))
	then do;

002750  aa  6 00553 3521 00	epp2 	pr6|363
002751  aa  6 00406 2521 00	spri2	pr6|262
002752  aa  6 00404 6211 00	eax1 	pr6|260
002753  aa   004000 4310 07	fld  	2048,dl
002754  aa  6 00044 3701 20	epp4 	pr6|36,*
002755  la  4 00172 3521 20	epp2 	pr4|122,*		get_privileges_
002756  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
002757  aa  6 00553 2351 00	lda  	pr6|363
002760  aa   010000 3150 03	cana 	4096,du
002761  aa  0 00515 7001 00	tsx0 	pr0|333		r_ne_as
002762  aa  6 00553 7551 00	sta  	pr6|363
002763  aa  6 00474 3521 00	epp2 	pr6|316
002764  aa  6 00406 2521 00	spri2	pr6|262
002765  aa  6 00404 6211 00	eax1 	pr6|260
002766  aa   004000 4310 07	fld  	2048,dl
002767  aa  6 00044 3701 20	epp4 	pr6|36,*
002770  la  4 00170 3521 20	epp2 	pr4|120,*		get_authorization_
002771  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
002772  aa  6 00474 3521 00	epp2 	pr6|316
002773  aa  6 00414 2521 00	spri2	pr6|268
002774  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
002775  aa  7 00012 3521 00	epp2 	pr7|10		volume_registration.max_access_class
002776  aa  6 00416 2521 00	spri2	pr6|270
002777  aa  6 00403 3521 00	epp2 	pr6|259
003000  aa  6 00420 2521 00	spri2	pr6|272
003001  aa  6 00412 6211 00	eax1 	pr6|266
003002  aa   014000 4310 07	fld  	6144,dl
003003  aa  6 00044 3701 20	epp4 	pr6|36,*
003004  la  4 00244 3521 20	epp2 	pr4|164,*		write_allowed_
003005  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
003006  aa  6 00474 3521 00	epp2 	pr6|316
003007  aa  6 00406 2521 00	spri2	pr6|262
003010  aa  6 00404 6211 00	eax1 	pr6|260
003011  aa   004000 4310 07	fld  	2048,dl
003012  aa  6 00044 3701 20	epp4 	pr6|36,*
003013  la  4 00170 3521 20	epp2 	pr4|120,*		get_authorization_
003014  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
003015  aa  6 00474 3521 00	epp2 	pr6|316
003016  aa  6 00414 2521 00	spri2	pr6|268
003017  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003020  aa  7 00014 3521 00	epp2 	pr7|12		volume_registration.min_access_class
003021  aa  6 00416 2521 00	spri2	pr6|270
003022  aa  6 00411 3521 00	epp2 	pr6|265
003023  aa  6 00420 2521 00	spri2	pr6|272
003024  aa  6 00412 6211 00	eax1 	pr6|266
003025  aa   014000 4310 07	fld  	6144,dl
003026  aa  6 00044 3701 20	epp4 	pr6|36,*
003027  la  4 00242 3521 20	epp2 	pr4|162,*		read_allowed_
003030  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
003031  aa  6 00403 2351 00	lda  	pr6|259
003032  aa  0 00002 3771 00	anaq 	pr0|2		= 400000000000 000000000000
003033  aa  6 00403 7551 00	sta  	pr6|259
003034  aa  6 00411 2351 00	lda  	pr6|265
003035  aa  0 00002 3771 00	anaq 	pr0|2		= 400000000000 000000000000
003036  aa  6 00403 3751 00	ana  	pr6|259
003037  aa  6 00553 2751 00	ora  	pr6|363
003040  aa   000003 6010 04	tnz  	3,ic		003043
						STATEMENT 1 ON LINE 309
	     mode = 0;

003041  aa  6 00214 4501 00	stz  	pr6|140		mode
						STATEMENT 1 ON LINE 310
	end;

003042  aa   000237 7100 04	tra  	159,ic		003301
						STATEMENT 1 ON LINE 311
	else do;

						STATEMENT 1 ON LINE 312
	     uname = rtrim (lvname) || ".acs";

003043  aa  000 000 165 500	tctr 	(pr)
003044  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
003045  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
003046  aa  6 00056 0001 00	arg  	pr6|46
003047  aa  6 00056 2361 00	ldq  	pr6|46
003050  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
003051  aa  6 00553 7561 00	stq  	pr6|363
003052  aa   000040 2360 07	ldq  	32,dl
003053  aa  6 00553 1761 00	sbq  	pr6|363
003054  aa  6 00553 7561 00	stq  	pr6|363
003055  aa   000004 0760 07	adq  	4,dl
003056  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
003057  aa  6 00553 2351 00	lda  	pr6|363
003060  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
003061  aa  6 00204 00 0005	desc9a	pr6|132,al	lvname
003062  aa  2 00000 00 0005	desc9a	pr2|0,al
003063  aa  040 105 100 404	mlr  	(ic),(pr,al),fill(040)
003064  aa   775037 00 0004	desc9a	-1505,4		000122 = 056141143163
003065  aa  2 00000 00 0004	desc9a	pr2|0,4
003066  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
003067  aa  2 00000 00 0006	desc9a	pr2|0,ql
003070  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 313
	     call hcs_$get_user_effmode (LV_DIR, uname, (get_group_id_ ()), a_level, mode, ec);

003071  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
003072  aa  6 00412 3521 00	epp2 	pr6|266
003073  aa  6 00406 2521 00	spri2	pr6|262
003074  aa  6 00404 6211 00	eax1 	pr6|260
003075  aa   004000 4310 07	fld  	2048,dl
003076  aa  6 00044 3701 20	epp4 	pr6|36,*
003077  la  4 00174 3521 20	epp2 	pr4|124,*		get_group_id_
003100  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
003101  aa  6 00044 3701 20	epp4 	pr6|36,*
003102  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
003103  aa  6 00444 2521 00	spri2	pr6|292
003104  aa  6 00164 3521 00	epp2 	pr6|116		uname
003105  aa  6 00446 2521 00	spri2	pr6|294
003106  aa  6 00412 3521 00	epp2 	pr6|266
003107  aa  6 00450 2521 00	spri2	pr6|296
003110  aa  6 00032 3735 20	epp7 	pr6|26,*
003111  aa  7 00004 3521 20	epp2 	pr7|4,*		a_level
003112  aa  6 00452 2521 00	spri2	pr6|298
003113  aa  6 00214 3521 00	epp2 	pr6|140		mode
003114  aa  6 00454 2521 00	spri2	pr6|300
003115  aa  6 00254 3521 00	epp2 	pr6|172		ec
003116  aa  6 00456 2521 00	spri2	pr6|302
003117  aa   775012 3520 04	epp2 	-1526,ic		000131 = 526000000250
003120  aa  6 00460 2521 00	spri2	pr6|304
003121  aa   775021 3520 04	epp2 	-1519,ic		000142 = 526000000040
003122  aa  6 00462 2521 00	spri2	pr6|306
003123  aa   774776 3520 04	epp2 	-1538,ic		000121 = 524000000040
003124  aa  6 00464 2521 00	spri2	pr6|308
003125  aa   775006 3520 04	epp2 	-1530,ic		000133 = 404000000003
003126  aa  6 00466 2521 00	spri2	pr6|310
003127  aa   775003 3520 04	epp2 	-1533,ic		000132 = 404000000005
003130  aa  6 00470 2521 00	spri2	pr6|312
003131  aa   775004 3520 04	epp2 	-1532,ic		000135 = 404000000043
003132  aa  6 00472 2521 00	spri2	pr6|314
003133  aa  6 00442 6211 00	eax1 	pr6|290
003134  aa   030000 4310 07	fld  	12288,dl
003135  la  4 00212 3521 20	epp2 	pr4|138,*		hcs_$get_user_effmode
003136  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 314
	     if ec ^= 0 then do;

003137  aa  6 00254 2361 00	ldq  	pr6|172		ec
003140  aa   000133 6000 04	tze  	91,ic		003273
						STATEMENT 1 ON LINE 315
		uname = get_group_id_ ();

003141  aa  6 00164 3521 00	epp2 	pr6|116		uname
003142  aa  6 00406 2521 00	spri2	pr6|262
003143  aa  6 00404 6211 00	eax1 	pr6|260
003144  aa   004000 4310 07	fld  	2048,dl
003145  aa  6 00044 3701 20	epp4 	pr6|36,*
003146  la  4 00174 3521 20	epp2 	pr4|124,*		get_group_id_
003147  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 316
		j = length (rtrim (uname));

003150  aa  000 000 165 500	tctr 	(pr)
003151  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
003152  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
003153  aa  6 00056 0001 00	arg  	pr6|46
003154  aa  6 00056 2361 00	ldq  	pr6|46
003155  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
003156  aa  6 00553 7561 00	stq  	pr6|363
003157  aa   000040 2360 07	ldq  	32,dl
003160  aa  6 00553 1761 00	sbq  	pr6|363
003161  aa  6 00220 7561 00	stq  	pr6|144		j
						STATEMENT 1 ON LINE 317
		substr (uname, j-1) = "";

003162  aa   000002 1760 07	sbq  	2,dl
003163  aa  6 00553 7561 00	stq  	pr6|363
003164  aa   000040 2360 07	ldq  	32,dl
003165  aa  6 00553 1761 00	sbq  	pr6|363
003166  aa  6 00220 7271 00	lxl7 	pr6|144		j
003167  aa  040 157 100 400	mlr  	(),(pr,rl,x7),fill(040)
003170  aa   000000 00 0000	desc9a	0,0
003171  aa  6 00163 40 0006	desc9a	pr6|115(2),ql	uname
						STATEMENT 1 ON LINE 318
		j = index (uname, ".");

003172  aa  000 003 124 500	scm  	(pr),(du),mask(000)
003173  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
003174  aa   056000 00 0001	desc9a	23552,1
003175  aa  6 00056 0001 00	arg  	pr6|46
003176  aa  6 00056 2361 00	ldq  	pr6|46
003177  aa   000002 6070 04	ttf  	2,ic		003201
003200  aa   000001 3360 07	lcq  	1,dl
003201  aa   000001 0760 07	adq  	1,dl
003202  aa  6 00220 7561 00	stq  	pr6|144		j
						STATEMENT 1 ON LINE 319
		pers = substr (uname, 1, j-1);

003203  aa   000001 1760 07	sbq  	1,dl
003204  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
003205  aa  6 00164 00 0006	desc9a	pr6|116,ql	uname
003206  aa  6 00237 00 0026	desc9a	pr6|159,22	pers
						STATEMENT 1 ON LINE 320
		proj = substr (uname, j+1);

003207  aa   000040 2360 07	ldq  	32,dl
003210  aa  6 00220 1761 00	sbq  	pr6|144		j
003211  aa  6 00220 7271 00	lxl7 	pr6|144		j
003212  aa  040 100 100 557	mlr  	(pr,rl,x7),(pr),fill(040)
003213  aa  6 00164 00 0006	desc9a	pr6|116,ql	uname
003214  aa  6 00231 00 0011	desc9a	pr6|153,9		proj
						STATEMENT 1 ON LINE 321
		j = index (volume_registration.volume_owner, ".");

003215  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003216  aa  000 003 124 500	scm  	(pr),(du),mask(000)
003217  aa  7 00016 00 0040	desc9a	pr7|14,32		volume_registration.volume_owner
003220  aa   056000 00 0001	desc9a	23552,1
003221  aa  6 00056 0001 00	arg  	pr6|46
003222  aa  6 00056 2361 00	ldq  	pr6|46
003223  aa   000002 6070 04	ttf  	2,ic		003225
003224  aa   000001 3360 07	lcq  	1,dl
003225  aa   000001 0760 07	adq  	1,dl
003226  aa  6 00220 7561 00	stq  	pr6|144		j
						STATEMENT 1 ON LINE 322
		opers = substr (volume_registration.volume_owner, 1, j-1);

003227  aa   000001 1760 07	sbq  	1,dl
003230  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
003231  aa  7 00016 00 0006	desc9a	pr7|14,ql		volume_registration.volume_owner
003232  aa  6 00245 00 0026	desc9a	pr6|165,22	opers
						STATEMENT 1 ON LINE 323
		oproj = substr (volume_registration.volume_owner, j+1);

003233  aa   000040 2360 07	ldq  	32,dl
003234  aa  6 00220 1761 00	sbq  	pr6|144		j
003235  aa  6 00220 7271 00	lxl7 	pr6|144		j
003236  aa  040 100 100 557	mlr  	(pr,rl,x7),(pr),fill(040)
003237  aa  7 00016 00 0006	desc9a	pr7|14,ql		volume_registration.volume_owner
003240  aa  6 00234 00 0011	desc9a	pr6|156,9		oproj
						STATEMENT 1 ON LINE 325
		if (pers = opers | opers = "*") & (proj = oproj | oproj = "*")
		then mode = 1110b;

003241  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
003242  aa  6 00237 00 0026	desc9a	pr6|159,22	pers
003243  aa  6 00245 00 0026	desc9a	pr6|165,22	opers
003244  aa   000005 6000 04	tze  	5,ic		003251
003245  aa  040 004 106 500	cmpc 	(pr),(ic),fill(040)
003246  aa  6 00245 00 0026	desc9a	pr6|165,22	opers
003247  aa   004131 00 0001	desc9a	2137,1		007376 = 052000000000
003250  aa   000014 6010 04	tnz  	12,ic		003264
003251  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
003252  aa  6 00231 00 0011	desc9a	pr6|153,9		proj
003253  aa  6 00234 00 0011	desc9a	pr6|156,9		oproj
003254  aa   000005 6000 04	tze  	5,ic		003261
003255  aa  040 004 106 500	cmpc 	(pr),(ic),fill(040)
003256  aa  6 00234 00 0011	desc9a	pr6|156,9		oproj
003257  aa   004121 00 0001	desc9a	2129,1		007376 = 052000000000
003260  aa   000004 6010 04	tnz  	4,ic		003264
003261  aa   000016 2360 07	ldq  	14,dl
003262  aa  6 00214 7561 00	stq  	pr6|140		mode
003263  aa   000010 7100 04	tra  	8,ic		003273
						STATEMENT 1 ON LINE 327
		else if volume_registration.public then mode = 1010b;

003264  aa  7 00100 2351 00	lda  	pr7|64		volume_registration.public
003265  aa   400000 3150 03	cana 	131072,du
003266  aa   000004 6000 04	tze  	4,ic		003272
003267  aa   000012 2360 07	ldq  	10,dl
003270  aa  6 00214 7561 00	stq  	pr6|140		mode
003271  aa   000002 7100 04	tra  	2,ic		003273
						STATEMENT 1 ON LINE 328
		else mode = 0b;

003272  aa  6 00214 4501 00	stz  	pr6|140		mode
						STATEMENT 1 ON LINE 329
	     end;

						STATEMENT 1 ON LINE 330
	     if volume_registration.public then mode = mode + 10000b;

003273  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003274  aa  7 00100 2351 00	lda  	pr7|64		volume_registration.public
003275  aa   400000 3150 03	cana 	131072,du
003276  aa   000003 6000 04	tze  	3,ic		003301
003277  aa   000020 2360 07	ldq  	16,dl
003300  aa  6 00214 0561 00	asq  	pr6|140		mode
						STATEMENT 1 ON LINE 331
	end;

						STATEMENT 1 ON LINE 332
	a_mode = mode;

003301  aa  6 00214 2361 00	ldq  	pr6|140		mode
003302  aa  6 00032 3735 20	epp7 	pr6|26,*
003303  aa  7 00006 7561 20	stq  	pr7|6,*		a_mode
						STATEMENT 1 ON LINE 333
	ec = 0;

003304  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 334
	go to exit;

003305  aa   775173 7100 04	tra  	-1413,ic		000500
ENTRY TO lvname_info                                        STATEMENT 1 ON LINE 340
lvname_info: entry (a_lvname, a_pvap, a_npv, a_ec);

003306  at     000004000136
003307  tt     000137000145
003310  ta     000135000000
003311  ta     003306000000
003312  da     000505300000
003313  aa   000640 6270 00	eax7 	416
003314  aa  7 00034 3521 20	epp2 	pr7|28,*
003315  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
003316  aa     000010000000
003317  aa     000000000000
003320  aa  6 00032 3735 20	epp7 	pr6|26,*
003321  aa  7 00002 3715 20	epp5 	pr7|2,*
003322  aa  6 00330 6515 00	spri5	pr6|216
003323  aa  6 00042 3535 20	epp3 	pr6|34,*
003324  aa  3 00000 3515 20	epp1 	pr3|0,*
003325  aa  6 00326 2515 00	spri1	pr6|214
003326  aa  7 00010 3715 20	epp5 	pr7|8,*
003327  aa  6 00332 6515 00	spri5	pr6|218
003330  aa   774771 7000 04	tsx0 	-1543,ic		000321
						STATEMENT 1 ON LINE 341
	make_lve = "0"b;

003331  aa  6 00255 4501 00	stz  	pr6|173		make_lve
						STATEMENT 1 ON LINE 342
	goto lv_pvinfo_common;

003332  aa   000026 7100 04	tra  	22,ic		003360
ENTRY TO get_lv_pvinfo                                      STATEMENT 1 ON LINE 344
get_lv_pvinfo: entry (a_lvname, a_pvap, a_npv, a_lvx, a_ec);

003333  at     000005000136
003334  tt     000137000145
003335  tt     000145000135
003336  ta     003333000000
003337  da     000514300000
003340  aa   000640 6270 00	eax7 	416
003341  aa  7 00034 3521 20	epp2 	pr7|28,*
003342  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
003343  aa     000012000000
003344  aa     000000000000
003345  aa  6 00032 3735 20	epp7 	pr6|26,*
003346  aa  7 00002 3715 20	epp5 	pr7|2,*
003347  aa  6 00330 6515 00	spri5	pr6|216
003350  aa  6 00042 3535 20	epp3 	pr6|34,*
003351  aa  3 00000 3515 20	epp1 	pr3|0,*
003352  aa  6 00326 2515 00	spri1	pr6|214
003353  aa  7 00012 3715 20	epp5 	pr7|10,*
003354  aa  6 00332 6515 00	spri5	pr6|218
003355  aa   774744 7000 04	tsx0 	-1564,ic		000321
						STATEMENT 1 ON LINE 356
	make_lve = "1"b;

003356  aa   400000 2350 03	lda  	131072,du
003357  aa  6 00255 7551 00	sta  	pr6|173		make_lve
						STATEMENT 1 ON LINE 357
lv_pvinfo_common:
	dtp = sdtp;

003360  aa  6 00044 3701 20	epp4 	pr6|36,*
003361  ia  4 00142 3735 20	epp7 	pr4|98,*		sdtp
003362  aa  6 00320 6535 00	spri7	pr6|208		dtp
						STATEMENT 1 ON LINE 359
	dtep = null;

003363  aa   774575 2370 04	ldaq 	-1667,ic		000160 = 077777000043 000001000000
003364  aa  6 00322 7571 00	staq 	pr6|210		dtep
						STATEMENT 1 ON LINE 360
	lvname = a_lvname;

003365  aa  6 00326 2361 20	ldq  	pr6|214,*
003366  aa   000002 6040 04	tmi  	2,ic		003370
003367  aa   777777 3760 07	anq  	262143,dl
003370  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
003371  aa  6 00330 3715 20	epp5 	pr6|216,*
003372  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
003373  aa  5 00000 00 0006	desc9a	pr5|0,ql		a_lvname
003374  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 361
	call locate_ (lvname, LV, INIT);

003375  aa  6 00204 3521 00	epp2 	pr6|132		lvname
003376  aa  6 00424 2521 00	spri2	pr6|276
003377  ia  4 00012 3521 00	epp2 	pr4|10		LV
003400  aa  6 00426 2521 00	spri2	pr6|278
003401  ia  4 00013 3521 00	epp2 	pr4|11		INIT
003402  aa  6 00430 2521 00	spri2	pr6|280
003403  aa   774537 3520 04	epp2 	-1697,ic		000142 = 526000000040
003404  aa  6 00432 2521 00	spri2	pr6|282
003405  aa   774523 3520 04	epp2 	-1709,ic		000130 = 516000000001
003406  aa  6 00434 2521 00	spri2	pr6|284
003407  aa  6 00436 2521 00	spri2	pr6|286
003410  aa  6 00422 3521 00	epp2 	pr6|274
003411  aa   014000 4310 07	fld  	6144,dl
003412  aa  2 00000 7571 00	staq 	pr2|0
003413  aa   003052 6700 04	tsp4 	1578,ic		006465
						STATEMENT 1 ON LINE 362
	if make_lve then a_lvx = get_lve ();

003414  aa  6 00255 2351 00	lda  	pr6|173		make_lve
003415  aa   000010 6000 04	tze  	8,ic		003425
003416  aa  6 00032 3735 20	epp7 	pr6|26,*
003417  aa  7 00010 3521 20	epp2 	pr7|8,*		a_lvx
003420  aa  6 00414 2521 00	spri2	pr6|268
003421  aa  6 00412 3521 00	epp2 	pr6|266
003422  aa   004000 4310 07	fld  	2048,dl
003423  aa  2 00000 7571 00	staq 	pr2|0
003424  aa   003245 6700 04	tsp4 	1701,ic		006671
						STATEMENT 1 ON LINE 363
	pvap = a_pvap;

003425  aa  6 00032 3735 20	epp7 	pr6|26,*
003426  aa  7 00004 3715 20	epp5 	pr7|4,*		a_pvap
003427  aa  5 00000 3715 20	epp5 	pr5|0,*		a_pvap
003430  aa  6 00314 6515 00	spri5	pr6|204		pvap
						STATEMENT 1 ON LINE 364
	do i = 1 to volume_registration.npv;

003431  aa  6 00316 3535 20	epp3 	pr6|206,*		vrp
003432  aa  3 00101 2361 00	ldq  	pr3|65		volume_registration.npv
003433  aa  6 00346 7561 00	stq  	pr6|230
003434  aa   000001 2360 07	ldq  	1,dl
003435  aa  6 00217 7561 00	stq  	pr6|143		i
003436  aa  6 00217 2361 00	ldq  	pr6|143		i
003437  aa  6 00346 1161 00	cmpq 	pr6|230
003440  aa   000025 6054 04	tpnz 	21,ic		003465
						STATEMENT 1 ON LINE 365
	     pva (i).pvname = volume_registration.pv (i).pvname;

003441  aa   000012 4020 07	mpy  	10,dl
003442  aa   000000 6270 06	eax7 	0,ql
003443  aa  6 00217 2361 00	ldq  	pr6|143		i
003444  aa   000036 4020 07	mpy  	30,dl
003445  aa  6 00314 3735 20	epp7 	pr6|204,*		pvap
003446  aa  7 77766 3735 17	epp7 	pr7|-10,7		pva.pvname
003447  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
003450  aa  5 00046 3715 06	epp5 	pr5|38,ql		volume_registration.pvname
003451  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
003452  aa  5 00000 00 0040	desc9a	pr5|0,32		volume_registration.pvname
003453  aa  7 00000 00 0040	desc9a	pr7|0,32		pva.pvname
						STATEMENT 1 ON LINE 366
	     pva (i).device_type = volume_registration.pv (i).model;

003454  aa  6 00316 3535 20	epp3 	pr6|206,*		vrp
003455  aa   000000 6260 06	eax6 	0,ql
003456  aa  3 00045 2361 06	ldq  	pr3|37,ql		volume_registration.model
003457  aa  6 00314 3515 20	epp1 	pr6|204,*		pvap
003460  aa  1 77776 7561 17	stq  	pr1|-2,7		pva.device_type
						STATEMENT 1 ON LINE 367
	     pva (i).pvid = volume_registration.pv (i).pvid;

003461  aa  3 00044 2351 16	lda  	pr3|36,6		volume_registration.pvid
003462  aa  1 77777 7551 17	sta  	pr1|-1,7		pva.pvid
						STATEMENT 1 ON LINE 368
	end;

003463  aa  6 00217 0541 00	aos  	pr6|143		i
003464  aa   777752 7100 04	tra  	-22,ic		003436
						STATEMENT 1 ON LINE 369
	a_npv = volume_registration.npv;

003465  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003466  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
003467  aa  6 00032 3715 20	epp5 	pr6|26,*
003470  aa  5 00006 7561 20	stq  	pr5|6,*		a_npv
						STATEMENT 1 ON LINE 370
	ec = 0;

003471  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 371
	go to exit;

003472  aa   775006 7100 04	tra  	-1530,ic		000500
ENTRY TO find                                               STATEMENT 1 ON LINE 375
find:	entry (a_dtep, a_ec);

003473  at     000002000137
003474  ta     000135000000
003475  ta     003473000000
003476  da     000521300000
003477  aa   000640 6270 00	eax7 	416
003500  aa  7 00034 3521 20	epp2 	pr7|28,*
003501  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
003502  aa     000004000000
003503  aa     000000000000
003504  aa  6 00032 3735 20	epp7 	pr6|26,*
003505  aa  7 00004 3715 20	epp5 	pr7|4,*
003506  aa  6 00332 6515 00	spri5	pr6|218
003507  aa   774612 7000 04	tsx0 	-1654,ic		000321
						STATEMENT 1 ON LINE 379
	dtp = sdtp;

003510  aa  6 00044 3701 20	epp4 	pr6|36,*
003511  ia  4 00142 3735 20	epp7 	pr4|98,*		sdtp
003512  aa  6 00320 6535 00	spri7	pr6|208		dtp
						STATEMENT 1 ON LINE 380
	dtep = a_dtep;

003513  aa  6 00032 3715 20	epp5 	pr6|26,*
003514  aa  5 00002 3535 20	epp3 	pr5|2,*		a_dtep
003515  aa  3 00000 3535 20	epp3 	pr3|0,*		a_dtep
003516  aa  6 00322 2535 00	spri3	pr6|210		dtep
						STATEMENT 1 ON LINE 381
	pvname = dte.pvname;

003517  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
003520  aa  3 00004 00 0040	desc9a	pr3|4,32		dte.pvname
003521  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
						STATEMENT 1 ON LINE 382
	call locate_ (pvname, PV, INIT);

003522  aa  6 00174 3521 00	epp2 	pr6|124		pvname
003523  aa  6 00424 2521 00	spri2	pr6|276
003524  ia  4 00011 3521 00	epp2 	pr4|9		PV
003525  aa  6 00426 2521 00	spri2	pr6|278
003526  ia  4 00013 3521 00	epp2 	pr4|11		INIT
003527  aa  6 00430 2521 00	spri2	pr6|280
003530  aa   774412 3520 04	epp2 	-1782,ic		000142 = 526000000040
003531  aa  6 00432 2521 00	spri2	pr6|282
003532  aa   774376 3520 04	epp2 	-1794,ic		000130 = 516000000001
003533  aa  6 00434 2521 00	spri2	pr6|284
003534  aa  6 00436 2521 00	spri2	pr6|286
003535  aa  6 00422 3521 00	epp2 	pr6|274
003536  aa   014000 4310 07	fld  	6144,dl
003537  aa  2 00000 7571 00	staq 	pr2|0
003540  aa   002725 6700 04	tsp4 	1493,ic		006465
						STATEMENT 1 ON LINE 383
	dte.lvx = get_lve ();

003541  aa   003417 3520 04	epp2 	1807,ic		007160 = 000002000000
003542  aa   003127 6700 04	tsp4 	1623,ic		006671
003543  aa  6 00553 2361 00	ldq  	pr6|363
003544  aa   000045 7370 00	lls  	37
003545  aa  6 00322 3735 20	epp7 	pr6|210,*		dtep
003546  aa  7 00002 6751 00	era  	pr7|2		dte.lvx
003547  aa   017776 3750 07	ana  	8190,dl
003550  aa  7 00002 6551 00	ersa 	pr7|2		dte.lvx
						STATEMENT 1 ON LINE 384
	ec = error_table_$bad_volid;

003551  aa  6 00044 3701 20	epp4 	pr6|36,*
003552  la  4 00150 2361 20	ldq  	pr4|104,*		error_table_$bad_volid
003553  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 385
	do i = 1 to volume_registration.npv while (volume_registration.pv (i).pvname ^= dte.pvname);

003554  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
003555  aa  5 00101 2361 00	ldq  	pr5|65		volume_registration.npv
003556  aa  6 00347 7561 00	stq  	pr6|231
003557  aa   000001 2360 07	ldq  	1,dl
003560  aa  6 00217 7561 00	stq  	pr6|143		i
003561  aa   000000 0110 03	nop  	0,du
003562  aa  6 00217 2361 00	ldq  	pr6|143		i
003563  aa  6 00347 1161 00	cmpq 	pr6|231
003564  aa   000013 6054 04	tpnz 	11,ic		003577
003565  aa   000036 4020 07	mpy  	30,dl
003566  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003567  aa  7 00046 3735 06	epp7 	pr7|38,ql		volume_registration.pvname
003570  aa  6 00322 3715 20	epp5 	pr6|210,*		dtep
003571  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
003572  aa  7 00000 00 0040	desc9a	pr7|0,32		volume_registration.pvname
003573  aa  5 00004 00 0040	desc9a	pr5|4,32		dte.pvname
003574  aa   000003 6000 04	tze  	3,ic		003577
						STATEMENT 2 ON LINE 385
 end;

003575  aa  6 00217 0541 00	aos  	pr6|143		i
003576  aa   777764 7100 04	tra  	-12,ic		003562
						STATEMENT 1 ON LINE 386
	if i <= volume_registration.npv then do;

003577  aa  6 00217 2361 00	ldq  	pr6|143		i
003600  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
003601  aa  7 00101 1161 00	cmpq 	pr7|65		volume_registration.npv
003602  aa   774676 6054 04	tpnz 	-1602,ic		000500
						STATEMENT 1 ON LINE 387
	     if dte.device_type = volume_registration.pv (i).model then do;

003603  aa   000036 4020 07	mpy  	30,dl
003604  aa  6 00322 3715 20	epp5 	pr6|210,*		dtep
003605  aa  5 00002 2351 00	lda  	pr5|2		dte.device_type
003606  aa   000000 6270 06	eax7 	0,ql
003607  aa   000077 7330 00	lrs  	63
003610  aa  7 00045 1161 17	cmpq 	pr7|37,7		volume_registration.model
003611  aa  6 00553 7471 00	stx7 	pr6|363
003612  aa   000005 6010 04	tnz  	5,ic		003617
						STATEMENT 1 ON LINE 388
		dte.pvid = volume_registration.pv (i).pvid;

003613  aa  7 00044 2351 17	lda  	pr7|36,7		volume_registration.pvid
003614  aa  5 00003 7551 00	sta  	pr5|3		dte.pvid
						STATEMENT 1 ON LINE 389
		ec = 0;

003615  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 390
	     end;

003616  aa   774662 7100 04	tra  	-1614,ic		000500
						STATEMENT 1 ON LINE 391
	     else ec = error_table_$incorrect_device_type;

003617  aa  6 00044 3701 20	epp4 	pr6|36,*
003620  la  4 00152 2361 20	ldq  	pr4|106,*		error_table_$incorrect_device_type
003621  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 392
	end;

						STATEMENT 1 ON LINE 393
	go to exit;

003622  aa   774656 7100 04	tra  	-1618,ic		000500
ENTRY TO check_volume_registration                          STATEMENT 1 ON LINE 404
check_volume_registration: entry (a_dtep, a_ec);

003623  ta     003473000000
003624  da     000533300000
003625  aa   000640 6270 00	eax7 	416
003626  aa  7 00034 3521 20	epp2 	pr7|28,*
003627  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
003630  aa     000004000000
003631  aa     000000000000
003632  aa  6 00032 3735 20	epp7 	pr6|26,*
003633  aa  7 00004 3715 20	epp5 	pr7|4,*
003634  aa  6 00332 6515 00	spri5	pr6|218
003635  aa   774464 7000 04	tsx0 	-1740,ic		000321
						STATEMENT 1 ON LINE 406
	a_ec = 0;

003636  aa  6 00332 4501 20	stz  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 407
	if first then do;

003637  aa  6 00044 3701 20	epp4 	pr6|36,*
003640  ia  4 00010 2351 00	lda  	pr4|8		first
003641  aa   000277 6000 04	tze  	191,ic		004140
						STATEMENT 1 ON LINE 408
	     first = "0"b;

003642  ia  4 00010 4501 00	stz  	pr4|8		first
						STATEMENT 1 ON LINE 409
	     i = length (rtrim (LV_DIR));

003643  aa  000 000 165 500	tctr 	(pr)
003644  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
003645  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
003646  aa  6 00056 0001 00	arg  	pr6|46
003647  aa  6 00056 2361 00	ldq  	pr6|46
003650  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
003651  aa  6 00553 7561 00	stq  	pr6|363
003652  aa   000250 2360 07	ldq  	168,dl
003653  aa  6 00553 1761 00	sbq  	pr6|363
003654  aa  6 00217 7561 00	stq  	pr6|143		i
						STATEMENT 1 ON LINE 410
	     call expand_path_ (addr (LV_DIR), i, addr (dn), addr (en), ec);

003655  ia  4 00067 3735 00	epp7 	pr4|55		LV_DIR
003656  aa  6 00474 6535 00	spri7	pr6|316
003657  aa  6 00100 3715 00	epp5 	pr6|64		dn
003660  aa  6 00554 6515 00	spri5	pr6|364
003661  aa  6 00152 3535 00	epp3 	pr6|106		en
003662  aa  6 00556 2535 00	spri3	pr6|366
003663  aa  6 00474 3521 00	epp2 	pr6|316
003664  aa  6 00424 2521 00	spri2	pr6|276
003665  aa  6 00217 3521 00	epp2 	pr6|143		i
003666  aa  6 00426 2521 00	spri2	pr6|278
003667  aa  6 00554 3521 00	epp2 	pr6|364
003670  aa  6 00430 2521 00	spri2	pr6|280
003671  aa  6 00556 3521 00	epp2 	pr6|366
003672  aa  6 00432 2521 00	spri2	pr6|282
003673  aa  6 00254 3521 00	epp2 	pr6|172		ec
003674  aa  6 00434 2521 00	spri2	pr6|284
003675  aa  6 00422 6211 00	eax1 	pr6|274
003676  aa   024000 4310 07	fld  	10240,dl
003677  la  4 00166 3521 20	epp2 	pr4|118,*		expand_path_
003700  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 411
	     call hcs_$status_minf (dn, en, 0, type, bc, ec);

003701  aa  6 00553 4501 00	stz  	pr6|363
003702  aa  6 00100 3521 00	epp2 	pr6|64		dn
003703  aa  6 00444 2521 00	spri2	pr6|292
003704  aa  6 00152 3521 00	epp2 	pr6|106		en
003705  aa  6 00446 2521 00	spri2	pr6|294
003706  aa  6 00553 3521 00	epp2 	pr6|363
003707  aa  6 00450 2521 00	spri2	pr6|296
003710  aa  6 00215 3521 00	epp2 	pr6|141		type
003711  aa  6 00452 2521 00	spri2	pr6|298
003712  aa  6 00216 3521 00	epp2 	pr6|142		bc
003713  aa  6 00454 2521 00	spri2	pr6|300
003714  aa  6 00254 3521 00	epp2 	pr6|172		ec
003715  aa  6 00456 2521 00	spri2	pr6|302
003716  aa   774213 3520 04	epp2 	-1909,ic		000131 = 526000000250
003717  aa  6 00460 2521 00	spri2	pr6|304
003720  aa   774222 3520 04	epp2 	-1902,ic		000142 = 526000000040
003721  aa  6 00462 2521 00	spri2	pr6|306
003722  aa   774204 3520 04	epp2 	-1916,ic		000126 = 404000000001
003723  aa  6 00464 2521 00	spri2	pr6|308
003724  aa   774201 3520 04	epp2 	-1919,ic		000125 = 404000000002
003725  aa  6 00466 2521 00	spri2	pr6|310
003726  aa   774176 3520 04	epp2 	-1922,ic		000124 = 404000000030
003727  aa  6 00470 2521 00	spri2	pr6|312
003730  aa   774205 3520 04	epp2 	-1915,ic		000135 = 404000000043
003731  aa  6 00472 2521 00	spri2	pr6|314
003732  aa  6 00442 6211 00	eax1 	pr6|290
003733  aa   030000 4310 07	fld  	12288,dl
003734  aa  6 00044 3701 20	epp4 	pr6|36,*
003735  la  4 00230 3521 20	epp2 	pr4|152,*		hcs_$status_minf
003736  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 412
	     if ec ^= 0 | type ^= 2 then do;

003737  aa  6 00254 2361 00	ldq  	pr6|172		ec
003740  aa   000004 6010 04	tnz  	4,ic		003744
003741  aa  6 00215 2361 00	ldq  	pr6|141		type
003742  aa   000002 1160 07	cmpq 	2,dl
003743  aa   000115 6000 04	tze  	77,ic		004060
						STATEMENT 1 ON LINE 413
		unspec (CBI) = ""b;

003744  aa  000 100 100 400	mlr  	(),(pr),fill(000)
003745  aa   000000 00 0000	desc9a	0,0
003746  aa  6 00271 00 0110	desc9a	pr6|185,72
						STATEMENT 1 ON LINE 414
		CBI.version = create_branch_version_1;

003747  aa   000001 2360 07	ldq  	1,dl
003750  aa  6 00271 7561 00	stq  	pr6|185		CBI.version
						STATEMENT 1 ON LINE 415
		CBI.dir_sw = "1"b;

003751  aa   400000 2350 03	lda  	131072,du
003752  aa  6 00272 2551 00	orsa 	pr6|186		CBI.dir_sw
						STATEMENT 1 ON LINE 416
		CBI.parent_ac_sw = "1"b;

003753  aa   020000 2350 03	lda  	8192,du
003754  aa  6 00272 2551 00	orsa 	pr6|186		CBI.parent_ac_sw
						STATEMENT 1 ON LINE 417
		CBI.mode = "111"b;

003755  aa   700000 2350 03	lda  	229376,du
003756  aa  6 00273 2551 00	orsa 	pr6|187		CBI.mode
						STATEMENT 1 ON LINE 418
		CBI.rings (1) = 7;

003757  aa   000007 2360 07	ldq  	7,dl
003760  aa  6 00274 7561 00	stq  	pr6|188		CBI.rings
						STATEMENT 1 ON LINE 419
		CBI.rings (2) = 7;

003761  aa  6 00275 7561 00	stq  	pr6|189		CBI.rings
						STATEMENT 1 ON LINE 420
		CBI.rings (3) = 7;

003762  aa  6 00276 7561 00	stq  	pr6|190		CBI.rings
						STATEMENT 1 ON LINE 421
		CBI.userid = get_group_id_ ();

003763  aa  6 00412 3521 00	epp2 	pr6|266
003764  aa  6 00406 2521 00	spri2	pr6|262
003765  aa  6 00404 6211 00	eax1 	pr6|260
003766  aa   004000 4310 07	fld  	2048,dl
003767  aa  6 00044 3701 20	epp4 	pr6|36,*
003770  la  4 00174 3521 20	epp2 	pr4|124,*		get_group_id_
003771  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
003772  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
003773  aa  6 00412 00 0040	desc9a	pr6|266,32
003774  aa  6 00277 00 0040	desc9a	pr6|191,32	CBI.userid
						STATEMENT 1 ON LINE 422
		call hcs_$create_branch_ (dn, en, addr (CBI), ec);

003775  aa  6 00271 3735 00	epp7 	pr6|185		CBI
003776  aa  6 00556 6535 00	spri7	pr6|366
003777  aa  6 00100 3521 00	epp2 	pr6|64		dn
004000  aa  6 00444 2521 00	spri2	pr6|292
004001  aa  6 00152 3521 00	epp2 	pr6|106		en
004002  aa  6 00446 2521 00	spri2	pr6|294
004003  aa  6 00556 3521 00	epp2 	pr6|366
004004  aa  6 00450 2521 00	spri2	pr6|296
004005  aa  6 00254 3521 00	epp2 	pr6|172		ec
004006  aa  6 00452 2521 00	spri2	pr6|298
004007  aa   774122 3520 04	epp2 	-1966,ic		000131 = 526000000250
004010  aa  6 00454 2521 00	spri2	pr6|300
004011  aa   774131 3520 04	epp2 	-1959,ic		000142 = 526000000040
004012  aa  6 00456 2521 00	spri2	pr6|302
004013  aa   774124 3520 04	epp2 	-1964,ic		000137 = 464000000000
004014  aa  6 00460 2521 00	spri2	pr6|304
004015  aa   774120 3520 04	epp2 	-1968,ic		000135 = 404000000043
004016  aa  6 00462 2521 00	spri2	pr6|306
004017  aa  6 00442 6211 00	eax1 	pr6|290
004020  aa   020000 4310 07	fld  	8192,dl
004021  aa  6 00044 3701 20	epp4 	pr6|36,*
004022  la  4 00204 3521 20	epp2 	pr4|132,*		hcs_$create_branch_
004023  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 423
		if ec ^= 0 then call com_err_ (ec, "hdx", "cannot re-create ^a", LV_DIR);

004024  aa  6 00254 2361 00	ldq  	pr6|172		ec
004025  aa   000033 6000 04	tze  	27,ic		004060
004026  aa   774072 2350 04	lda  	-1990,ic		000120 = 150144170000
004027  aa  6 00553 7551 00	sta  	pr6|363
004030  aa  000 100 100 404	mlr  	(ic),(pr),fill(000)
004031  aa   774137 00 0024	desc9a	-1953,20		000167 = 143141156156
004032  aa  6 00412 00 0024	desc9a	pr6|266,20
004033  aa  6 00254 3521 00	epp2 	pr6|172		ec
004034  aa  6 00444 2521 00	spri2	pr6|292
004035  aa  6 00553 3521 00	epp2 	pr6|363
004036  aa  6 00446 2521 00	spri2	pr6|294
004037  aa  6 00412 3521 00	epp2 	pr6|266
004040  aa  6 00450 2521 00	spri2	pr6|296
004041  aa  6 00044 3701 20	epp4 	pr6|36,*
004042  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
004043  aa  6 00452 2521 00	spri2	pr6|298
004044  aa   774071 3520 04	epp2 	-1991,ic		000135 = 404000000043
004045  aa  6 00454 2521 00	spri2	pr6|300
004046  aa   774051 3520 04	epp2 	-2007,ic		000117 = 524000000003
004047  aa  6 00456 2521 00	spri2	pr6|302
004050  aa   774046 3520 04	epp2 	-2010,ic		000116 = 524000000023
004051  aa  6 00460 2521 00	spri2	pr6|304
004052  aa   774057 3520 04	epp2 	-2001,ic		000131 = 526000000250
004053  aa  6 00462 2521 00	spri2	pr6|306
004054  aa  6 00442 6211 00	eax1 	pr6|290
004055  aa   020000 4310 07	fld  	8192,dl
004056  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
004057  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 424
	     end;

						STATEMENT 1 ON LINE 425
	     if LV_DIR = REAL_LV_DIR then do;

004060  aa  6 00044 3701 20	epp4 	pr6|36,*
004061  aa  040 004 106 500	cmpc 	(pr),(ic),fill(040)
004062  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
004063  aa   773717 00 0250	desc9a	-2097,168		000000 = 076154166040
004064  aa   000054 6010 04	tnz  	44,ic		004140
						STATEMENT 1 ON LINE 426
		call hphcs_$set_rpv (dn, en, ec);

004065  aa  6 00100 3521 00	epp2 	pr6|64		dn
004066  aa  6 00424 2521 00	spri2	pr6|276
004067  aa  6 00152 3521 00	epp2 	pr6|106		en
004070  aa  6 00426 2521 00	spri2	pr6|278
004071  aa  6 00254 3521 00	epp2 	pr6|172		ec
004072  aa  6 00430 2521 00	spri2	pr6|280
004073  aa   774036 3520 04	epp2 	-2018,ic		000131 = 526000000250
004074  aa  6 00432 2521 00	spri2	pr6|282
004075  aa   774045 3520 04	epp2 	-2011,ic		000142 = 526000000040
004076  aa  6 00434 2521 00	spri2	pr6|284
004077  aa   774036 3520 04	epp2 	-2018,ic		000135 = 404000000043
004100  aa  6 00436 2521 00	spri2	pr6|286
004101  aa  6 00422 6211 00	eax1 	pr6|274
004102  aa   014000 4310 07	fld  	6144,dl
004103  la  4 00226 3521 20	epp2 	pr4|150,*		hphcs_$set_rpv
004104  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 427
		if ec ^= 0 then call com_err_ (ec, "hdx", "Putting LV dir on RPV");

004105  aa  6 00254 2361 00	ldq  	pr6|172		ec
004106  aa   000032 6000 04	tze  	26,ic		004140
004107  aa   774011 2350 04	lda  	-2039,ic		000120 = 150144170000
004110  aa  6 00553 7551 00	sta  	pr6|363
004111  aa   774121 2370 04	ldaq 	-1967,ic		000232 = 120165164164 151156147040
004112  aa  6 00412 7571 00	staq 	pr6|266
004113  aa   774121 2370 04	ldaq 	-1967,ic		000234 = 114126040144 151162040157
004114  aa  6 00414 7571 00	staq 	pr6|268
004115  aa   774121 2370 04	ldaq 	-1967,ic		000236 = 156040122120 126000000000
004116  aa  6 00416 7571 00	staq 	pr6|270
004117  aa  6 00254 3521 00	epp2 	pr6|172		ec
004120  aa  6 00424 2521 00	spri2	pr6|276
004121  aa  6 00553 3521 00	epp2 	pr6|363
004122  aa  6 00426 2521 00	spri2	pr6|278
004123  aa  6 00412 3521 00	epp2 	pr6|266
004124  aa  6 00430 2521 00	spri2	pr6|280
004125  aa   774010 3520 04	epp2 	-2040,ic		000135 = 404000000043
004126  aa  6 00432 2521 00	spri2	pr6|282
004127  aa   773770 3520 04	epp2 	-2056,ic		000117 = 524000000003
004130  aa  6 00434 2521 00	spri2	pr6|284
004131  aa   773764 3520 04	epp2 	-2060,ic		000115 = 524000000025
004132  aa  6 00436 2521 00	spri2	pr6|286
004133  aa  6 00422 6211 00	eax1 	pr6|274
004134  aa   014000 4310 07	fld  	6144,dl
004135  aa  6 00044 3701 20	epp4 	pr6|36,*
004136  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
004137  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 428
	     end;

						STATEMENT 1 ON LINE 429
	end;

						STATEMENT 1 ON LINE 431
	dtp = sdtp;

004140  aa  6 00044 3701 20	epp4 	pr6|36,*
004141  ia  4 00142 3735 20	epp7 	pr4|98,*		sdtp
004142  aa  6 00320 6535 00	spri7	pr6|208		dtp
						STATEMENT 1 ON LINE 432
	dtep = a_dtep;

004143  aa  6 00032 3715 20	epp5 	pr6|26,*
004144  aa  5 00002 3535 20	epp3 	pr5|2,*		a_dtep
004145  aa  3 00000 3535 20	epp3 	pr3|0,*		a_dtep
004146  aa  6 00322 2535 00	spri3	pr6|210		dtep
						STATEMENT 1 ON LINE 433
	if verify (dte.pvname, LEGAL) ^= 0 then return;

004147  aa  000 000 164 500	tct  	(pr)
004150  aa  3 00004 00 0040	desc9a	pr3|4,32		dte.pvname
004151  aa   003027 0000 04	arg  	1559,ic		007176 = 777777777777
004152  aa  6 00056 0001 00	arg  	pr6|46
004153  aa  6 00056 2361 00	ldq  	pr6|46
004154  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
004155  aa   000002 6070 04	ttf  	2,ic		004157
004156  aa   000001 3360 07	lcq  	1,dl
004157  aa   000001 0760 07	adq  	1,dl
004160  aa  0 00631 6011 00	tnz  	pr0|409		return
						STATEMENT 1 ON LINE 434
	if dte.lvx <= 0 | dte.lvx > dt.n_lv_entries then go to lvfail;

004161  aa  3 00002 2351 00	lda  	pr3|2		dte.lvx
004162  aa   000027 7350 00	als  	23
004163  aa   000074 7330 00	lrs  	60
004164  aa  6 00553 7561 00	stq  	pr6|363		dte.lvx
004165  aa   000017 6044 04	tmoz 	15,ic		004204
004166  aa  6 00320 3515 20	epp1 	pr6|208,*		dtp
004167  aa  1 00005 1161 00	cmpq 	pr1|5		dt.n_lv_entries
004170  aa   000014 6054 04	tpnz 	12,ic		004204
						STATEMENT 1 ON LINE 435
	lvep = addr (dt.lv_array (dte.lvx));

004171  aa   000016 4020 07	mpy  	14,dl
004172  aa  6 00553 7561 00	stq  	pr6|363
004173  aa  1 00001 2361 00	ldq  	pr1|1		dt.max_n_entries
004174  aa   000014 4020 07	mpy  	12,dl
004175  aa   000010 0760 07	adq  	8,dl
004176  aa  6 00553 0761 00	adq  	pr6|363
004177  aa  1 77762 3735 06	epp7 	pr1|-14,ql	dt.lv_array
004200  aa  6 00324 6535 00	spri7	pr6|212		lvep
						STATEMENT 1 ON LINE 436
	if ^lve.used then do;

004201  aa  7 00001 2351 00	lda  	pr7|1		lve.used
004202  aa   400000 3150 03	cana 	131072,du
004203  aa   000154 6010 04	tnz  	108,ic		004357
						STATEMENT 1 ON LINE 437
lvfail:	     pvname = dte.pvname;

004204  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
004205  aa  3 00004 00 0040	desc9a	pr3|4,32		dte.pvname
004206  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
						STATEMENT 1 ON LINE 438
	     call locate_ (pvname, PV, DONT_INIT);

004207  aa  6 00174 3521 00	epp2 	pr6|124		pvname
004210  aa  6 00424 2521 00	spri2	pr6|276
004211  ia  4 00011 3521 00	epp2 	pr4|9		PV
004212  aa  6 00426 2521 00	spri2	pr6|278
004213  ia  4 00014 3521 00	epp2 	pr4|12		DONT_INIT
004214  aa  6 00430 2521 00	spri2	pr6|280
004215  aa   773725 3520 04	epp2 	-2091,ic		000142 = 526000000040
004216  aa  6 00432 2521 00	spri2	pr6|282
004217  aa   773711 3520 04	epp2 	-2103,ic		000130 = 516000000001
004220  aa  6 00434 2521 00	spri2	pr6|284
004221  aa  6 00436 2521 00	spri2	pr6|286
004222  aa  6 00422 3521 00	epp2 	pr6|274
004223  aa   014000 4310 07	fld  	6144,dl
004224  aa  2 00000 7571 00	staq 	pr2|0
004225  aa   002240 6700 04	tsp4 	1184,ic		006465
						STATEMENT 1 ON LINE 439
	     call hcs_$initiate (dn, en, "", 0, 1, vrp, ec);

004226  aa  6 00403 4501 00	stz  	pr6|259
004227  aa   000001 2360 07	ldq  	1,dl
004230  aa  6 00411 7561 00	stq  	pr6|265
004231  aa  6 00100 3521 00	epp2 	pr6|64		dn
004232  aa  6 00502 2521 00	spri2	pr6|322
004233  aa  6 00152 3521 00	epp2 	pr6|106		en
004234  aa  6 00504 2521 00	spri2	pr6|324
004235  aa  6 00553 3521 00	epp2 	pr6|363
004236  aa  6 00506 2521 00	spri2	pr6|326
004237  aa  6 00403 3521 00	epp2 	pr6|259
004240  aa  6 00510 2521 00	spri2	pr6|328
004241  aa  6 00411 3521 00	epp2 	pr6|265
004242  aa  6 00512 2521 00	spri2	pr6|330
004243  aa  6 00316 3521 00	epp2 	pr6|206		vrp
004244  aa  6 00514 2521 00	spri2	pr6|332
004245  aa  6 00254 3521 00	epp2 	pr6|172		ec
004246  aa  6 00516 2521 00	spri2	pr6|334
004247  aa   773662 3520 04	epp2 	-2126,ic		000131 = 526000000250
004250  aa  6 00520 2521 00	spri2	pr6|336
004251  aa   773671 3520 04	epp2 	-2119,ic		000142 = 526000000040
004252  aa  6 00522 2521 00	spri2	pr6|338
004253  aa   773654 3520 04	epp2 	-2132,ic		000127 = 524000000000
004254  aa  6 00524 2521 00	spri2	pr6|340
004255  aa   773670 3520 04	epp2 	-2120,ic		000145 = 404000000021
004256  aa  6 00526 2521 00	spri2	pr6|342
004257  aa  6 00530 2521 00	spri2	pr6|344
004260  aa   773657 3520 04	epp2 	-2129,ic		000137 = 464000000000
004261  aa  6 00532 2521 00	spri2	pr6|346
004262  aa   773653 3520 04	epp2 	-2133,ic		000135 = 404000000043
004263  aa  6 00534 2521 00	spri2	pr6|348
004264  aa  6 00500 6211 00	eax1 	pr6|320
004265  aa   034000 4310 07	fld  	14336,dl
004266  aa  6 00044 3701 20	epp4 	pr6|36,*
004267  la  4 00214 3521 20	epp2 	pr4|140,*		hcs_$initiate
004270  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 440
	     if vrp = null then do;

004271  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
004272  aa   773666 6770 04	eraq 	-2122,ic		000160 = 077777000043 000001000000
004273  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
004274  aa   000041 6010 04	tnz  	33,ic		004335
						STATEMENT 1 ON LINE 441
		call com_err_ (ec, "hdx", "Cannot reregister pv ^a", pvname);

004275  aa   773623 2350 04	lda  	-2157,ic		000120 = 150144170000
004276  aa  6 00411 7551 00	sta  	pr6|265
004277  aa   773725 2370 04	ldaq 	-2091,ic		000224 = 103141156156 157164040162
004300  aa  6 00412 7571 00	staq 	pr6|266
004301  aa   773725 2370 04	ldaq 	-2091,ic		000226 = 145162145147 151163164145
004302  aa  6 00414 7571 00	staq 	pr6|268
004303  aa   773725 2370 04	ldaq 	-2091,ic		000230 = 162040160166 040136141000
004304  aa  6 00416 7571 00	staq 	pr6|270
004305  aa  6 00254 3521 00	epp2 	pr6|172		ec
004306  aa  6 00444 2521 00	spri2	pr6|292
004307  aa  6 00411 3521 00	epp2 	pr6|265
004310  aa  6 00446 2521 00	spri2	pr6|294
004311  aa  6 00412 3521 00	epp2 	pr6|266
004312  aa  6 00450 2521 00	spri2	pr6|296
004313  aa  6 00174 3521 00	epp2 	pr6|124		pvname
004314  aa  6 00452 2521 00	spri2	pr6|298
004315  aa   773620 3520 04	epp2 	-2160,ic		000135 = 404000000043
004316  aa  6 00454 2521 00	spri2	pr6|300
004317  aa   773600 3520 04	epp2 	-2176,ic		000117 = 524000000003
004320  aa  6 00456 2521 00	spri2	pr6|302
004321  aa   773573 3520 04	epp2 	-2181,ic		000114 = 524000000027
004322  aa  6 00460 2521 00	spri2	pr6|304
004323  aa   773617 3520 04	epp2 	-2161,ic		000142 = 526000000040
004324  aa  6 00462 2521 00	spri2	pr6|306
004325  aa  6 00442 6211 00	eax1 	pr6|290
004326  aa   020000 4310 07	fld  	8192,dl
004327  aa  6 00044 3701 20	epp4 	pr6|36,*
004330  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
004331  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 442
		a_ec = ec;

004332  aa  6 00254 2361 00	ldq  	pr6|172		ec
004333  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 443
		return;

004334  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 444
	     end;

						STATEMENT 1 ON LINE 445
	     dte.lvx = get_lve ();

004335  aa   002617 3520 04	epp2 	1423,ic		007154 = 000002000000
004336  aa   002333 6700 04	tsp4 	1243,ic		006671
004337  aa  6 00411 2361 00	ldq  	pr6|265
004340  aa   000045 7370 00	lls  	37
004341  aa  6 00322 3735 20	epp7 	pr6|210,*		dtep
004342  aa  7 00002 6751 00	era  	pr7|2		dte.lvx
004343  aa   017776 3750 07	ana  	8190,dl
004344  aa  7 00002 6551 00	ersa 	pr7|2		dte.lvx
						STATEMENT 1 ON LINE 446
	     call hcs_$terminate_noname (vrp, (0));

004345  aa  6 00411 4501 00	stz  	pr6|265
004346  aa  6 00316 3521 00	epp2 	pr6|206		vrp
004347  aa  6 00414 2521 00	spri2	pr6|268
004350  aa  6 00411 3521 00	epp2 	pr6|265
004351  aa  6 00416 2521 00	spri2	pr6|270
004352  aa  6 00412 6211 00	eax1 	pr6|266
004353  aa   010000 4310 07	fld  	4096,dl
004354  aa  6 00044 3701 20	epp4 	pr6|36,*
004355  la  4 00232 3521 20	epp2 	pr4|154,*		hcs_$terminate_noname
004356  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 447
	end;

						STATEMENT 1 ON LINE 448
	lvname = lve.lvname;

004357  aa  6 00324 3735 20	epp7 	pr6|212,*		lvep
004360  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
004361  aa  7 00002 00 0040	desc9a	pr7|2,32		lve.lvname
004362  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
						STATEMENT 1 ON LINE 449
	if verify (lvname, LEGAL) ^= 0 then return;

004363  aa  000 000 164 500	tct  	(pr)
004364  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
004365  aa   002613 0000 04	arg  	1419,ic		007176 = 777777777777
004366  aa  6 00056 0001 00	arg  	pr6|46
004367  aa  6 00056 2361 00	ldq  	pr6|46
004370  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
004371  aa   000002 6070 04	ttf  	2,ic		004373
004372  aa   000001 3360 07	lcq  	1,dl
004373  aa   000001 0760 07	adq  	1,dl
004374  aa  0 00631 6011 00	tnz  	pr0|409		return
						STATEMENT 1 ON LINE 450
	call locate_ (lvname, LV, DONT_INIT);

004375  aa  6 00204 3521 00	epp2 	pr6|132		lvname
004376  aa  6 00424 2521 00	spri2	pr6|276
004377  aa  6 00044 3701 20	epp4 	pr6|36,*
004400  ia  4 00012 3521 00	epp2 	pr4|10		LV
004401  aa  6 00426 2521 00	spri2	pr6|278
004402  ia  4 00014 3521 00	epp2 	pr4|12		DONT_INIT
004403  aa  6 00430 2521 00	spri2	pr6|280
004404  aa   773536 3520 04	epp2 	-2210,ic		000142 = 526000000040
004405  aa  6 00432 2521 00	spri2	pr6|282
004406  aa   773522 3520 04	epp2 	-2222,ic		000130 = 516000000001
004407  aa  6 00434 2521 00	spri2	pr6|284
004410  aa  6 00436 2521 00	spri2	pr6|286
004411  aa  6 00422 3521 00	epp2 	pr6|274
004412  aa   014000 4310 07	fld  	6144,dl
004413  aa  2 00000 7571 00	staq 	pr2|0
004414  aa   002051 6700 04	tsp4 	1065,ic		006465
						STATEMENT 1 ON LINE 451
	call hcs_$initiate (dn, en, "", 0, 1, vrp, ec);

004415  aa  6 00403 4501 00	stz  	pr6|259
004416  aa   000001 2360 07	ldq  	1,dl
004417  aa  6 00553 7561 00	stq  	pr6|363
004420  aa  6 00100 3521 00	epp2 	pr6|64		dn
004421  aa  6 00502 2521 00	spri2	pr6|322
004422  aa  6 00152 3521 00	epp2 	pr6|106		en
004423  aa  6 00504 2521 00	spri2	pr6|324
004424  aa  6 00411 3521 00	epp2 	pr6|265
004425  aa  6 00506 2521 00	spri2	pr6|326
004426  aa  6 00403 3521 00	epp2 	pr6|259
004427  aa  6 00510 2521 00	spri2	pr6|328
004430  aa  6 00553 3521 00	epp2 	pr6|363
004431  aa  6 00512 2521 00	spri2	pr6|330
004432  aa  6 00316 3521 00	epp2 	pr6|206		vrp
004433  aa  6 00514 2521 00	spri2	pr6|332
004434  aa  6 00254 3521 00	epp2 	pr6|172		ec
004435  aa  6 00516 2521 00	spri2	pr6|334
004436  aa   773473 3520 04	epp2 	-2245,ic		000131 = 526000000250
004437  aa  6 00520 2521 00	spri2	pr6|336
004440  aa   773502 3520 04	epp2 	-2238,ic		000142 = 526000000040
004441  aa  6 00522 2521 00	spri2	pr6|338
004442  aa   773465 3520 04	epp2 	-2251,ic		000127 = 524000000000
004443  aa  6 00524 2521 00	spri2	pr6|340
004444  aa   773501 3520 04	epp2 	-2239,ic		000145 = 404000000021
004445  aa  6 00526 2521 00	spri2	pr6|342
004446  aa  6 00530 2521 00	spri2	pr6|344
004447  aa   773470 3520 04	epp2 	-2248,ic		000137 = 464000000000
004450  aa  6 00532 2521 00	spri2	pr6|346
004451  aa   773464 3520 04	epp2 	-2252,ic		000135 = 404000000043
004452  aa  6 00534 2521 00	spri2	pr6|348
004453  aa  6 00500 6211 00	eax1 	pr6|320
004454  aa   034000 4310 07	fld  	14336,dl
004455  aa  6 00044 3701 20	epp4 	pr6|36,*
004456  la  4 00214 3521 20	epp2 	pr4|140,*		hcs_$initiate
004457  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 452
	if vrp = null then do;

004460  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
004461  aa   773477 6770 04	eraq 	-2241,ic		000160 = 077777000043 000001000000
004462  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
004463  aa   000270 6010 04	tnz  	184,ic		004753
						STATEMENT 1 ON LINE 453
	     call hcs_$make_seg (dn, en, "", 1010b, vrp, ec);

004464  aa   000012 2360 07	ldq  	10,dl
004465  aa  6 00403 7561 00	stq  	pr6|259
004466  aa  6 00100 3521 00	epp2 	pr6|64		dn
004467  aa  6 00444 2521 00	spri2	pr6|292
004470  aa  6 00152 3521 00	epp2 	pr6|106		en
004471  aa  6 00446 2521 00	spri2	pr6|294
004472  aa  6 00553 3521 00	epp2 	pr6|363
004473  aa  6 00450 2521 00	spri2	pr6|296
004474  aa  6 00403 3521 00	epp2 	pr6|259
004475  aa  6 00452 2521 00	spri2	pr6|298
004476  aa  6 00316 3521 00	epp2 	pr6|206		vrp
004477  aa  6 00454 2521 00	spri2	pr6|300
004500  aa  6 00254 3521 00	epp2 	pr6|172		ec
004501  aa  6 00456 2521 00	spri2	pr6|302
004502  aa   773427 3520 04	epp2 	-2281,ic		000131 = 526000000250
004503  aa  6 00460 2521 00	spri2	pr6|304
004504  aa   773436 3520 04	epp2 	-2274,ic		000142 = 526000000040
004505  aa  6 00462 2521 00	spri2	pr6|306
004506  aa   773421 3520 04	epp2 	-2287,ic		000127 = 524000000000
004507  aa  6 00464 2521 00	spri2	pr6|308
004510  aa   773422 3520 04	epp2 	-2286,ic		000132 = 404000000005
004511  aa  6 00466 2521 00	spri2	pr6|310
004512  aa   773425 3520 04	epp2 	-2283,ic		000137 = 464000000000
004513  aa  6 00470 2521 00	spri2	pr6|312
004514  aa   773421 3520 04	epp2 	-2287,ic		000135 = 404000000043
004515  aa  6 00472 2521 00	spri2	pr6|314
004516  aa  6 00442 6211 00	eax1 	pr6|290
004517  aa   030000 4310 07	fld  	12288,dl
004520  aa  6 00044 3701 20	epp4 	pr6|36,*
004521  la  4 00216 3521 20	epp2 	pr4|142,*		hcs_$make_seg
004522  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 454
	     if vrp = null then do;

004523  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
004524  aa   773434 6770 04	eraq 	-2276,ic		000160 = 077777000043 000001000000
004525  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
004526  aa   000041 6010 04	tnz  	33,ic		004567
						STATEMENT 1 ON LINE 455
		call com_err_ (ec, "hdx", "cannot reregister lv ^a", lvname);

004527  aa   773371 2350 04	lda  	-2311,ic		000120 = 150144170000
004530  aa  6 00403 7551 00	sta  	pr6|259
004531  aa   773465 2370 04	ldaq 	-2251,ic		000216 = 143141156156 157164040162
004532  aa  6 00412 7571 00	staq 	pr6|266
004533  aa   773465 2370 04	ldaq 	-2251,ic		000220 = 145162145147 151163164145
004534  aa  6 00414 7571 00	staq 	pr6|268
004535  aa   773465 2370 04	ldaq 	-2251,ic		000222 = 162040154166 040136141000
004536  aa  6 00416 7571 00	staq 	pr6|270
004537  aa  6 00254 3521 00	epp2 	pr6|172		ec
004540  aa  6 00444 2521 00	spri2	pr6|292
004541  aa  6 00403 3521 00	epp2 	pr6|259
004542  aa  6 00446 2521 00	spri2	pr6|294
004543  aa  6 00412 3521 00	epp2 	pr6|266
004544  aa  6 00450 2521 00	spri2	pr6|296
004545  aa  6 00204 3521 00	epp2 	pr6|132		lvname
004546  aa  6 00452 2521 00	spri2	pr6|298
004547  aa   773366 3520 04	epp2 	-2314,ic		000135 = 404000000043
004550  aa  6 00454 2521 00	spri2	pr6|300
004551  aa   773346 3520 04	epp2 	-2330,ic		000117 = 524000000003
004552  aa  6 00456 2521 00	spri2	pr6|302
004553  aa   773341 3520 04	epp2 	-2335,ic		000114 = 524000000027
004554  aa  6 00460 2521 00	spri2	pr6|304
004555  aa   773365 3520 04	epp2 	-2315,ic		000142 = 526000000040
004556  aa  6 00462 2521 00	spri2	pr6|306
004557  aa  6 00442 6211 00	eax1 	pr6|290
004560  aa   020000 4310 07	fld  	8192,dl
004561  aa  6 00044 3701 20	epp4 	pr6|36,*
004562  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
004563  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 456
		a_ec = ec;

004564  aa  6 00254 2361 00	ldq  	pr6|172		ec
004565  aa  6 00332 7561 20	stq  	pr6|218,*		a_ec
						STATEMENT 1 ON LINE 457
		return;

004566  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 458
	     end;

						STATEMENT 1 ON LINE 459
remake_lv:     volume_registration.version = 1;

004567  aa   000001 2360 07	ldq  	1,dl
004570  aa  6 00316 7561 20	stq  	pr6|206,*		volume_registration.version
						STATEMENT 1 ON LINE 460
	     volume_registration.hvid = lve.lvid;

004571  aa  6 00324 2351 20	lda  	pr6|212,*		lve.lvid
004572  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
004573  aa  7 00001 7551 00	sta  	pr7|1		volume_registration.hvid
						STATEMENT 1 ON LINE 461
	     volume_registration.hvname = lvname;

004574  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
004575  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
004576  aa  7 00002 00 0040	desc9a	pr7|2,32		volume_registration.hvname
						STATEMENT 1 ON LINE 462
	     owner = get_group_id_ ();

004577  aa  6 00221 3521 00	epp2 	pr6|145		owner
004600  aa  6 00406 2521 00	spri2	pr6|262
004601  aa  6 00404 6211 00	eax1 	pr6|260
004602  aa   004000 4310 07	fld  	2048,dl
004603  aa  6 00044 3701 20	epp4 	pr6|36,*
004604  la  4 00174 3521 20	epp2 	pr4|124,*		get_group_id_
004605  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 463
	     i = length (rtrim (owner));

004606  aa  000 000 165 500	tctr 	(pr)
004607  aa  6 00221 00 0040	desc9a	pr6|145,32	owner
004610  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
004611  aa  6 00056 0001 00	arg  	pr6|46
004612  aa  6 00056 2361 00	ldq  	pr6|46
004613  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
004614  aa  6 00403 7561 00	stq  	pr6|259
004615  aa   000040 2360 07	ldq  	32,dl
004616  aa  6 00403 1761 00	sbq  	pr6|259
004617  aa  6 00217 7561 00	stq  	pr6|143		i
						STATEMENT 1 ON LINE 464
	     volume_registration.volume_owner = substr (owner, 1, i-2);

004620  aa   000002 1760 07	sbq  	2,dl
004621  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
004622  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
004623  aa  6 00221 00 0006	desc9a	pr6|145,ql	owner
004624  aa  7 00016 00 0040	desc9a	pr7|14,32		volume_registration.volume_owner
						STATEMENT 1 ON LINE 465
	     volume_registration.public = lve.public;

004625  aa  6 00324 3715 20	epp5 	pr6|212,*		lvep
004626  aa  5 00001 2351 00	lda  	pr5|1		lve.public
004627  aa   000002 7350 00	als  	2
004630  aa  7 00100 6751 00	era  	pr7|64		volume_registration.public
004631  aa  0 00002 3751 00	ana  	pr0|2		= 400000000000
004632  aa  7 00100 6551 00	ersa 	pr7|64		volume_registration.public
						STATEMENT 1 ON LINE 466
	     volume_registration.min_access_class = lve.min_access_class;

004633  aa  5 00012 2351 00	lda  	pr5|10		lve.min_access_class
004634  aa  5 00013 2361 00	ldq  	pr5|11		lve.min_access_class
004635  aa  7 00014 7551 00	sta  	pr7|12		volume_registration.min_access_class
004636  aa  7 00015 7561 00	stq  	pr7|13		volume_registration.min_access_class
						STATEMENT 1 ON LINE 467
	     volume_registration.max_access_class = lve.max_access_class;

004637  aa  5 00014 2351 00	lda  	pr5|12		lve.max_access_class
004640  aa  5 00015 2361 00	ldq  	pr5|13		lve.max_access_class
004641  aa  7 00012 7551 00	sta  	pr7|10		volume_registration.max_access_class
004642  aa  7 00013 7561 00	stq  	pr7|11		volume_registration.max_access_class
						STATEMENT 1 ON LINE 468
	     volume_registration.acs_path = "";

004643  aa  040 100 100 400	mlr  	(),(pr),fill(040)
004644  aa   000000 00 0000	desc9a	0,0
004645  aa  7 00026 00 0250	desc9a	pr7|22,168	volume_registration.acs_path
						STATEMENT 1 ON LINE 469
	     call com_err_ (0, "hdx", "reregistered ^a lv ^a lvid ^w",
		PRIV (fixed (lve.public, 1)), lvname, lve.lvid);

004646  aa  6 00403 4501 00	stz  	pr6|259
004647  aa   773251 2350 04	lda  	-2391,ic		000120 = 150144170000
004650  aa  6 00553 7551 00	sta  	pr6|363
004651  aa  000 100 100 404	mlr  	(ic),(pr),fill(000)
004652  aa   773376 00 0040	desc9a	-2306,32		000247 = 162145162145
004653  aa  6 00412 00 0040	desc9a	pr6|266,32
004654  aa  5 00001 2351 00	lda  	pr5|1		lve.public
004655  aa   000002 7350 00	als  	2
004656  aa   000107 7730 00	lrl  	71
004657  aa   000001 7360 00	qls  	1
004660  aa  6 00403 3521 00	epp2 	pr6|259
004661  aa  6 00444 2521 00	spri2	pr6|292
004662  aa  6 00553 3521 00	epp2 	pr6|363
004663  aa  6 00446 2521 00	spri2	pr6|294
004664  aa  6 00412 3521 00	epp2 	pr6|266
004665  aa  6 00450 2521 00	spri2	pr6|296
004666  ta   000075 3520 06	epp2 	61,ql
004667  aa  6 00452 2521 00	spri2	pr6|298
004670  aa  6 00204 3521 00	epp2 	pr6|132		lvname
004671  aa  6 00454 2521 00	spri2	pr6|300
004672  aa  5 00000 3521 00	epp2 	pr5|0		lve.lvid
004673  aa  6 00456 2521 00	spri2	pr6|302
004674  aa   773236 3520 04	epp2 	-2402,ic		000132 = 404000000005
004675  aa  6 00460 2521 00	spri2	pr6|304
004676  aa   773221 3520 04	epp2 	-2415,ic		000117 = 524000000003
004677  aa  6 00462 2521 00	spri2	pr6|306
004700  aa   773213 3520 04	epp2 	-2421,ic		000113 = 524000000035
004701  aa  6 00464 2521 00	spri2	pr6|308
004702  aa   773210 3520 04	epp2 	-2424,ic		000112 = 526000000010
004703  aa  6 00466 2521 00	spri2	pr6|310
004704  aa   773236 3520 04	epp2 	-2402,ic		000142 = 526000000040
004705  aa  6 00470 2521 00	spri2	pr6|312
004706  aa   773235 3520 04	epp2 	-2403,ic		000143 = 514000000044
004707  aa  6 00472 2521 00	spri2	pr6|314
004710  aa  6 00442 6211 00	eax1 	pr6|290
004711  aa   030000 4310 07	fld  	12288,dl
004712  aa  6 00044 3701 20	epp4 	pr6|36,*
004713  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
004714  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 471
	     call hcs_$add_acl_entries (dn, en, addr (aa), 1, ec);

004715  aa  6 00256 3735 00	epp7 	pr6|174		aa
004716  aa  6 00556 6535 00	spri7	pr6|366
004717  aa   000001 2360 07	ldq  	1,dl
004720  aa  6 00553 7561 00	stq  	pr6|363
004721  aa  6 00100 3521 00	epp2 	pr6|64		dn
004722  aa  6 00444 2521 00	spri2	pr6|292
004723  aa  6 00152 3521 00	epp2 	pr6|106		en
004724  aa  6 00446 2521 00	spri2	pr6|294
004725  aa  6 00556 3521 00	epp2 	pr6|366
004726  aa  6 00450 2521 00	spri2	pr6|296
004727  aa  6 00553 3521 00	epp2 	pr6|363
004730  aa  6 00452 2521 00	spri2	pr6|298
004731  aa  6 00254 3521 00	epp2 	pr6|172		ec
004732  aa  6 00454 2521 00	spri2	pr6|300
004733  aa   773176 3520 04	epp2 	-2434,ic		000131 = 526000000250
004734  aa  6 00456 2521 00	spri2	pr6|302
004735  aa   773205 3520 04	epp2 	-2427,ic		000142 = 526000000040
004736  aa  6 00460 2521 00	spri2	pr6|304
004737  aa   773200 3520 04	epp2 	-2432,ic		000137 = 464000000000
004740  aa  6 00462 2521 00	spri2	pr6|306
004741  aa   773204 3520 04	epp2 	-2428,ic		000145 = 404000000021
004742  aa  6 00464 2521 00	spri2	pr6|308
004743  aa   773172 3520 04	epp2 	-2438,ic		000135 = 404000000043
004744  aa  6 00466 2521 00	spri2	pr6|310
004745  aa  6 00442 6211 00	eax1 	pr6|290
004746  aa   024000 4310 07	fld  	10240,dl
004747  aa  6 00044 3701 20	epp4 	pr6|36,*
004750  la  4 00176 3521 20	epp2 	pr4|126,*		hcs_$add_acl_entries
004751  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 472
	end;

004752  aa   000160 7100 04	tra  	112,ic		005132
						STATEMENT 1 ON LINE 473
	else do;

						STATEMENT 1 ON LINE 474
	     call hcs_$set_damaged_sw_seg (vrp, "0"b, ec);

004753  aa   000000 2350 07	lda  	0,dl
004754  aa  6 00553 7551 00	sta  	pr6|363
004755  aa  6 00316 3521 00	epp2 	pr6|206		vrp
004756  aa  6 00414 2521 00	spri2	pr6|268
004757  aa  6 00553 3521 00	epp2 	pr6|363
004760  aa  6 00416 2521 00	spri2	pr6|270
004761  aa  6 00254 3521 00	epp2 	pr6|172		ec
004762  aa  6 00420 2521 00	spri2	pr6|272
004763  aa  6 00412 6211 00	eax1 	pr6|266
004764  aa   014000 4310 07	fld  	6144,dl
004765  aa  6 00044 3701 20	epp4 	pr6|36,*
004766  la  4 00224 3521 20	epp2 	pr4|148,*		hcs_$set_damaged_sw_seg
004767  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 475
	     ec = 0;

004770  aa  6 00254 4501 00	stz  	pr6|172		ec
						STATEMENT 1 ON LINE 476
	     if volume_registration.version ^= 1 then ec = 1;

004771  aa  6 00316 2361 20	ldq  	pr6|206,*		volume_registration.version
004772  aa   000001 1160 07	cmpq 	1,dl
004773  aa   000003 6000 04	tze  	3,ic		004776
004774  aa   000001 2360 07	ldq  	1,dl
004775  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 477
	     if volume_registration.hvname ^= lvname then ec = 2;

004776  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
004777  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
005000  aa  7 00002 00 0040	desc9a	pr7|2,32		volume_registration.hvname
005001  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
005002  aa   000003 6000 04	tze  	3,ic		005005
005003  aa   000002 2360 07	ldq  	2,dl
005004  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 478
	     if volume_registration.hvid ^= lve.lvid then ec = 3;

005005  aa  7 00001 2351 00	lda  	pr7|1		volume_registration.hvid
005006  aa  6 00324 1151 20	cmpa 	pr6|212,*		lve.lvid
005007  aa   000003 6000 04	tze  	3,ic		005012
005010  aa   000003 2360 07	ldq  	3,dl
005011  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 479
	     if volume_registration.public ^= lve.public then ec = 4;

005012  aa  6 00324 3715 20	epp5 	pr6|212,*		lvep
005013  aa  5 00001 2351 00	lda  	pr5|1		lve.public
005014  aa   000002 7350 00	als  	2
005015  aa  0 00002 3771 00	anaq 	pr0|2		= 400000000000 000000000000
005016  aa  6 00553 7551 00	sta  	pr6|363		lve.public
005017  aa  7 00100 2351 00	lda  	pr7|64		volume_registration.public
005020  aa  0 00002 3771 00	anaq 	pr0|2		= 400000000000 000000000000
005021  aa  6 00553 1151 00	cmpa 	pr6|363		lve.public
005022  aa   000003 6000 04	tze  	3,ic		005025
005023  aa   000004 2360 07	ldq  	4,dl
005024  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 480
	     if volume_registration.min_access_class ^= lve.min_access_class then ec = 5;

005025  aa  7 00014 2351 00	lda  	pr7|12		volume_registration.min_access_class
005026  aa  7 00015 2361 00	ldq  	pr7|13		volume_registration.min_access_class
005027  aa  5 00012 1151 00	cmpa 	pr5|10		lve.min_access_class
005030  aa   000002 6010 04	tnz  	2,ic		005032
005031  aa  5 00013 1161 00	cmpq 	pr5|11		lve.min_access_class
005032  aa   000003 6000 04	tze  	3,ic		005035
005033  aa   000005 2360 07	ldq  	5,dl
005034  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 481
	     if volume_registration.max_access_class ^= lve.max_access_class then ec = 6;

005035  aa  7 00012 2351 00	lda  	pr7|10		volume_registration.max_access_class
005036  aa  7 00013 2361 00	ldq  	pr7|11		volume_registration.max_access_class
005037  aa  5 00014 1151 00	cmpa 	pr5|12		lve.max_access_class
005040  aa   000002 6010 04	tnz  	2,ic		005042
005041  aa  5 00015 1161 00	cmpq 	pr5|13		lve.max_access_class
005042  aa   000003 6000 04	tze  	3,ic		005045
005043  aa   000006 2360 07	ldq  	6,dl
005044  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 482
	     if verify (volume_registration.volume_owner, LEGAL) ^= 0 then ec = 7;

005045  aa  000 000 164 500	tct  	(pr)
005046  aa  7 00016 00 0040	desc9a	pr7|14,32		volume_registration.volume_owner
005047  aa   002131 0000 04	arg  	1113,ic		007176 = 777777777777
005050  aa  6 00056 0001 00	arg  	pr6|46
005051  aa  6 00056 2361 00	ldq  	pr6|46
005052  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
005053  aa   000002 6070 04	ttf  	2,ic		005055
005054  aa   000001 3360 07	lcq  	1,dl
005055  aa   000001 0760 07	adq  	1,dl
005056  aa   000003 6000 04	tze  	3,ic		005061
005057  aa   000007 2360 07	ldq  	7,dl
005060  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 483
	     if verify (volume_registration.acs_path, LEGAL) ^= 0 then ec = 8;

005061  aa  000 000 164 500	tct  	(pr)
005062  aa  7 00026 00 0250	desc9a	pr7|22,168	volume_registration.acs_path
005063  aa   002115 0000 04	arg  	1101,ic		007176 = 777777777777
005064  aa  6 00056 0001 00	arg  	pr6|46
005065  aa  6 00056 2361 00	ldq  	pr6|46
005066  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
005067  aa   000002 6070 04	ttf  	2,ic		005071
005070  aa   000001 3360 07	lcq  	1,dl
005071  aa   000001 0760 07	adq  	1,dl
005072  aa   000003 6000 04	tze  	3,ic		005075
005073  aa   000010 2360 07	ldq  	8,dl
005074  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 484
	     if ec ^= 0 then do;

005075  aa  6 00254 2361 00	ldq  	pr6|172		ec
005076  aa   000034 6000 04	tze  	28,ic		005132
						STATEMENT 1 ON LINE 485
		call com_err_ (ec, "hdx", "lv.^a disagreed with disk_table. It was rebuilt", lvname);

005077  aa   773021 2350 04	lda  	-2543,ic		000120 = 150144170000
005100  aa  6 00553 7551 00	sta  	pr6|363
005101  aa  000 100 100 404	mlr  	(ic),(pr),fill(000)
005102  aa   773167 00 0060	desc9a	-2441,48		000270 = 154166056136
005103  aa  6 00422 00 0060	desc9a	pr6|274,48
005104  aa  6 00254 3521 00	epp2 	pr6|172		ec
005105  aa  6 00444 2521 00	spri2	pr6|292
005106  aa  6 00553 3521 00	epp2 	pr6|363
005107  aa  6 00446 2521 00	spri2	pr6|294
005110  aa  6 00422 3521 00	epp2 	pr6|274
005111  aa  6 00450 2521 00	spri2	pr6|296
005112  aa  6 00204 3521 00	epp2 	pr6|132		lvname
005113  aa  6 00452 2521 00	spri2	pr6|298
005114  aa   773021 3520 04	epp2 	-2543,ic		000135 = 404000000043
005115  aa  6 00454 2521 00	spri2	pr6|300
005116  aa   773001 3520 04	epp2 	-2559,ic		000117 = 524000000003
005117  aa  6 00456 2521 00	spri2	pr6|302
005120  aa   772771 3520 04	epp2 	-2567,ic		000111 = 524000000057
005121  aa  6 00460 2521 00	spri2	pr6|304
005122  aa   773020 3520 04	epp2 	-2544,ic		000142 = 526000000040
005123  aa  6 00462 2521 00	spri2	pr6|306
005124  aa  6 00442 6211 00	eax1 	pr6|290
005125  aa   020000 4310 07	fld  	8192,dl
005126  aa  6 00044 3701 20	epp4 	pr6|36,*
005127  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
005130  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 486
		go to remake_lv;

005131  aa   777436 7100 04	tra  	-226,ic		004567
						STATEMENT 1 ON LINE 487
	     end;

						STATEMENT 1 ON LINE 488
	end;

						STATEMENT 1 ON LINE 489
	if dn ^= LV_DIR				/* The ROOT lv must be linked to special */
	then call hcs_$append_link (LV_DIR, en, target (en), ec);

005132  aa  6 00044 3701 20	epp4 	pr6|36,*
005133  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
005134  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
005135  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
005136  aa   000031 6000 04	tze  	25,ic		005167
005137  aa   002025 3520 04	epp2 	1045,ic		007164 = 000004000000
005140  aa  2 00000 2351 00	lda  	pr2|0
005141  aa   001676 6700 04	tsp4 	958,ic		007037
005142  aa  6 00044 3701 20	epp4 	pr6|36,*
005143  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
005144  aa  6 00444 2521 00	spri2	pr6|292
005145  aa  6 00152 3521 00	epp2 	pr6|106		en
005146  aa  6 00446 2521 00	spri2	pr6|294
005147  aa  6 00500 3521 00	epp2 	pr6|320
005150  aa  6 00450 2521 00	spri2	pr6|296
005151  aa  6 00254 3521 00	epp2 	pr6|172		ec
005152  aa  6 00452 2521 00	spri2	pr6|298
005153  aa   772756 3520 04	epp2 	-2578,ic		000131 = 526000000250
005154  aa  6 00454 2521 00	spri2	pr6|300
005155  aa   772765 3520 04	epp2 	-2571,ic		000142 = 526000000040
005156  aa  6 00456 2521 00	spri2	pr6|302
005157  aa   772744 3520 04	epp2 	-2588,ic		000123 = 524000000250
005160  aa  6 00460 2521 00	spri2	pr6|304
005161  aa   772754 3520 04	epp2 	-2580,ic		000135 = 404000000043
005162  aa  6 00462 2521 00	spri2	pr6|306
005163  aa  6 00442 6211 00	eax1 	pr6|290
005164  aa   020000 4310 07	fld  	8192,dl
005165  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
005166  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 491
	uname = "lvid." || unique_chars_ (volume_registration.hvid);

005167  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
005170  aa  7 00001 3521 00	epp2 	pr7|1		volume_registration.hvid
005171  aa  6 00424 2521 00	spri2	pr6|276
005172  aa  6 00404 3521 00	epp2 	pr6|260
005173  aa  6 00426 2521 00	spri2	pr6|278
005174  aa   772747 3520 04	epp2 	-2585,ic		000143 = 514000000044
005175  aa  6 00430 2521 00	spri2	pr6|280
005176  aa   772742 3520 04	epp2 	-2590,ic		000140 = 526000000017
005177  aa  6 00432 2521 00	spri2	pr6|282
005200  aa  6 00422 6211 00	eax1 	pr6|274
005201  aa   010000 4310 07	fld  	4096,dl
005202  aa  6 00044 3701 20	epp4 	pr6|36,*
005203  la  4 00246 3521 20	epp2 	pr4|166,*		unique_chars_
005204  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
005205  aa   000024 2360 07	ldq  	20,dl
005206  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
005207  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
005210  aa   772747 00 0005	desc9a	-2585,5		000156 = 154166151144
005211  aa  2 00000 00 0005	desc9a	pr2|0,5
005212  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
005213  aa  6 00404 00 0017	desc9a	pr6|260,15
005214  aa  2 00001 20 0017	desc9a	pr2|1(1),15
005215  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
005216  aa  2 00000 00 0024	desc9a	pr2|0,20
005217  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 492
	call hcs_$chname_seg (vrp, "", uname, ec);

005220  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
005221  aa  6 00316 3521 00	epp2 	pr6|206		vrp
005222  aa  6 00444 2521 00	spri2	pr6|292
005223  aa  6 00553 3521 00	epp2 	pr6|363
005224  aa  6 00446 2521 00	spri2	pr6|294
005225  aa  6 00164 3521 00	epp2 	pr6|116		uname
005226  aa  6 00450 2521 00	spri2	pr6|296
005227  aa  6 00254 3521 00	epp2 	pr6|172		ec
005230  aa  6 00452 2521 00	spri2	pr6|298
005231  aa   772706 3520 04	epp2 	-2618,ic		000137 = 464000000000
005232  aa  6 00454 2521 00	spri2	pr6|300
005233  aa   772674 3520 04	epp2 	-2628,ic		000127 = 524000000000
005234  aa  6 00456 2521 00	spri2	pr6|302
005235  aa   772705 3520 04	epp2 	-2619,ic		000142 = 526000000040
005236  aa  6 00460 2521 00	spri2	pr6|304
005237  aa   772676 3520 04	epp2 	-2626,ic		000135 = 404000000043
005240  aa  6 00462 2521 00	spri2	pr6|306
005241  aa  6 00442 6211 00	eax1 	pr6|290
005242  aa   020000 4310 07	fld  	8192,dl
005243  aa  6 00044 3701 20	epp4 	pr6|36,*
005244  la  4 00202 3521 20	epp2 	pr4|130,*		hcs_$chname_seg
005245  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 493
	if ec ^= 0 then if ec ^= error_table_$segnamedup
	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a", uname, en);

005246  aa  6 00254 2361 00	ldq  	pr6|172		ec
005247  aa   000043 6000 04	tze  	35,ic		005312
005250  aa  6 00044 3701 20	epp4 	pr6|36,*
005251  la  4 00154 1161 20	cmpq 	pr4|108,*		error_table_$segnamedup
005252  aa   000040 6000 04	tze  	32,ic		005312
005253  aa   772645 2350 04	lda  	-2651,ic		000120 = 150144170000
005254  aa  6 00553 7551 00	sta  	pr6|363
005255  aa   772733 2370 04	ldaq 	-2597,ic		000210 = 143141156164 040141144144
005256  aa  6 00412 7571 00	staq 	pr6|266
005257  aa   772733 2370 04	ldaq 	-2597,ic		000212 = 040156141155 145040136141
005260  aa  6 00414 7571 00	staq 	pr6|268
005261  aa   772733 2370 04	ldaq 	-2597,ic		000214 = 040164157040 136141000000
005262  aa  6 00416 7571 00	staq 	pr6|270
005263  aa  6 00254 3521 00	epp2 	pr6|172		ec
005264  aa  6 00444 2521 00	spri2	pr6|292
005265  aa  6 00553 3521 00	epp2 	pr6|363
005266  aa  6 00446 2521 00	spri2	pr6|294
005267  aa  6 00412 3521 00	epp2 	pr6|266
005270  aa  6 00450 2521 00	spri2	pr6|296
005271  aa  6 00164 3521 00	epp2 	pr6|116		uname
005272  aa  6 00452 2521 00	spri2	pr6|298
005273  aa  6 00152 3521 00	epp2 	pr6|106		en
005274  aa  6 00454 2521 00	spri2	pr6|300
005275  aa   772640 3520 04	epp2 	-2656,ic		000135 = 404000000043
005276  aa  6 00456 2521 00	spri2	pr6|302
005277  aa   772620 3520 04	epp2 	-2672,ic		000117 = 524000000003
005300  aa  6 00460 2521 00	spri2	pr6|304
005301  aa   772607 3520 04	epp2 	-2681,ic		000110 = 524000000026
005302  aa  6 00462 2521 00	spri2	pr6|306
005303  aa   772637 3520 04	epp2 	-2657,ic		000142 = 526000000040
005304  aa  6 00464 2521 00	spri2	pr6|308
005305  aa  6 00466 2521 00	spri2	pr6|310
005306  aa  6 00442 6211 00	eax1 	pr6|290
005307  aa   024000 4310 07	fld  	10240,dl
005310  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
005311  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 495
	if dn ^= LV_DIR
	then call hcs_$append_link (LV_DIR, uname, target (uname), ec);

005312  aa  6 00044 3701 20	epp4 	pr6|36,*
005313  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
005314  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
005315  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
005316  aa   000031 6000 04	tze  	25,ic		005347
005317  aa   001623 3520 04	epp2 	915,ic		007142 = 000004000000
005320  aa  2 00000 2351 00	lda  	pr2|0
005321  aa   001516 6700 04	tsp4 	846,ic		007037
005322  aa  6 00044 3701 20	epp4 	pr6|36,*
005323  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
005324  aa  6 00444 2521 00	spri2	pr6|292
005325  aa  6 00164 3521 00	epp2 	pr6|116		uname
005326  aa  6 00446 2521 00	spri2	pr6|294
005327  aa  6 00500 3521 00	epp2 	pr6|320
005330  aa  6 00450 2521 00	spri2	pr6|296
005331  aa  6 00254 3521 00	epp2 	pr6|172		ec
005332  aa  6 00452 2521 00	spri2	pr6|298
005333  aa   772576 3520 04	epp2 	-2690,ic		000131 = 526000000250
005334  aa  6 00454 2521 00	spri2	pr6|300
005335  aa   772605 3520 04	epp2 	-2683,ic		000142 = 526000000040
005336  aa  6 00456 2521 00	spri2	pr6|302
005337  aa   772564 3520 04	epp2 	-2700,ic		000123 = 524000000250
005340  aa  6 00460 2521 00	spri2	pr6|304
005341  aa   772574 3520 04	epp2 	-2692,ic		000135 = 404000000043
005342  aa  6 00462 2521 00	spri2	pr6|306
005343  aa  6 00442 6211 00	eax1 	pr6|290
005344  aa   020000 4310 07	fld  	8192,dl
005345  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
005346  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 497
	if volume_registration.acs_path ^= "" then do;

005347  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
005350  aa  040 004 106 500	cmpc 	(pr),(ic),fill(040)
005351  aa  7 00026 00 0250	desc9a	pr7|22,168	volume_registration.acs_path
005352  aa   002026 00 0000	desc9a	1046,0		007376 = 052000000000
005353  aa   000060 6000 04	tze  	48,ic		005433
						STATEMENT 1 ON LINE 498
	     call hdx$make_link (volume_registration.acs_path, ec);

005354  aa  7 00026 3521 00	epp2 	pr7|22		volume_registration.acs_path
005355  aa  6 00424 2521 00	spri2	pr6|276
005356  aa  6 00254 3521 00	epp2 	pr6|172		ec
005357  aa  6 00426 2521 00	spri2	pr6|278
005360  aa   772543 3520 04	epp2 	-2717,ic		000123 = 524000000250
005361  aa  6 00430 2521 00	spri2	pr6|280
005362  aa   772553 3520 04	epp2 	-2709,ic		000135 = 404000000043
005363  aa  6 00432 2521 00	spri2	pr6|282
005364  aa  6 00422 6211 00	eax1 	pr6|274
005365  aa   010000 4310 07	fld  	4096,dl
005366  aa  6 00044 3701 20	epp4 	pr6|36,*
005367  la  4 00234 3521 20	epp2 	pr4|156,*		hdx$make_link
005370  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 499
	     if ec ^= 0 & ec ^= error_table_$namedup
	     then call com_err_ (ec, "hdx", "Cannot relink acs ^a", volume_registration.acs_path);

005371  aa  6 00254 2361 00	ldq  	pr6|172		ec
005372  aa   000041 6000 04	tze  	33,ic		005433
005373  aa  6 00044 3701 20	epp4 	pr6|36,*
005374  la  4 00156 1161 20	cmpq 	pr4|110,*		error_table_$namedup
005375  aa   000036 6000 04	tze  	30,ic		005433
005376  aa   772522 2350 04	lda  	-2734,ic		000120 = 150144170000
005377  aa  6 00553 7551 00	sta  	pr6|363
005400  aa   772562 2370 04	ldaq 	-2702,ic		000162 = 103141156156 157164040162
005401  aa  6 00412 7571 00	staq 	pr6|266
005402  aa   772562 2370 04	ldaq 	-2702,ic		000164 = 145154151156 153040141143
005403  aa  6 00414 7571 00	staq 	pr6|268
005404  aa   772562 2350 04	lda  	-2702,ic		000166 = 163040136141
005405  aa  6 00416 7551 00	sta  	pr6|270
005406  aa  6 00254 3521 00	epp2 	pr6|172		ec
005407  aa  6 00444 2521 00	spri2	pr6|292
005410  aa  6 00553 3521 00	epp2 	pr6|363
005411  aa  6 00446 2521 00	spri2	pr6|294
005412  aa  6 00412 3521 00	epp2 	pr6|266
005413  aa  6 00450 2521 00	spri2	pr6|296
005414  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
005415  aa  7 00026 3521 00	epp2 	pr7|22		volume_registration.acs_path
005416  aa  6 00452 2521 00	spri2	pr6|298
005417  aa   772516 3520 04	epp2 	-2738,ic		000135 = 404000000043
005420  aa  6 00454 2521 00	spri2	pr6|300
005421  aa   772476 3520 04	epp2 	-2754,ic		000117 = 524000000003
005422  aa  6 00456 2521 00	spri2	pr6|302
005423  aa   772464 3520 04	epp2 	-2764,ic		000107 = 524000000024
005424  aa  6 00460 2521 00	spri2	pr6|304
005425  aa   772476 3520 04	epp2 	-2754,ic		000123 = 524000000250
005426  aa  6 00462 2521 00	spri2	pr6|306
005427  aa  6 00442 6211 00	eax1 	pr6|290
005430  aa   020000 4310 07	fld  	8192,dl
005431  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
005432  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 501
	end;

						STATEMENT 1 ON LINE 502
	uname = rtrim (lvname) || ".mdcs";

005433  aa  000 000 165 500	tctr 	(pr)
005434  aa  6 00204 00 0040	desc9a	pr6|132,32	lvname
005435  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
005436  aa  6 00056 0001 00	arg  	pr6|46
005437  aa  6 00056 2361 00	ldq  	pr6|46
005440  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
005441  aa  6 00553 7561 00	stq  	pr6|363
005442  aa   000040 2360 07	ldq  	32,dl
005443  aa  6 00553 1761 00	sbq  	pr6|363
005444  aa  6 00553 7561 00	stq  	pr6|363
005445  aa   000005 0760 07	adq  	5,dl
005446  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
005447  aa  6 00553 2351 00	lda  	pr6|363
005450  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
005451  aa  6 00204 00 0005	desc9a	pr6|132,al	lvname
005452  aa  2 00000 00 0005	desc9a	pr2|0,al
005453  aa  040 105 100 404	mlr  	(ic),(pr,al),fill(040)
005454  aa   772477 00 0005	desc9a	-2753,5		000152 = 056155144143
005455  aa  2 00000 00 0005	desc9a	pr2|0,5
005456  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
005457  aa  2 00000 00 0006	desc9a	pr2|0,ql
005460  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 503
	if dn ^= LV_DIR
	then call hcs_$append_link (LV_DIR, uname, target (uname), (0));

005461  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
005462  aa  6 00044 3701 20	epp4 	pr6|36,*
005463  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
005464  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
005465  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
005466  aa   000032 6000 04	tze  	26,ic		005520
005467  aa   001453 3520 04	epp2 	811,ic		007142 = 000004000000
005470  aa  2 00000 2351 00	lda  	pr2|0
005471  aa   001346 6700 04	tsp4 	742,ic		007037
005472  aa  6 00553 4501 00	stz  	pr6|363
005473  aa  6 00044 3701 20	epp4 	pr6|36,*
005474  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
005475  aa  6 00444 2521 00	spri2	pr6|292
005476  aa  6 00164 3521 00	epp2 	pr6|116		uname
005477  aa  6 00446 2521 00	spri2	pr6|294
005500  aa  6 00500 3521 00	epp2 	pr6|320
005501  aa  6 00450 2521 00	spri2	pr6|296
005502  aa  6 00553 3521 00	epp2 	pr6|363
005503  aa  6 00452 2521 00	spri2	pr6|298
005504  aa   772425 3520 04	epp2 	-2795,ic		000131 = 526000000250
005505  aa  6 00454 2521 00	spri2	pr6|300
005506  aa   772434 3520 04	epp2 	-2788,ic		000142 = 526000000040
005507  aa  6 00456 2521 00	spri2	pr6|302
005510  aa   772413 3520 04	epp2 	-2805,ic		000123 = 524000000250
005511  aa  6 00460 2521 00	spri2	pr6|304
005512  aa   772423 3520 04	epp2 	-2797,ic		000135 = 404000000043
005513  aa  6 00462 2521 00	spri2	pr6|306
005514  aa  6 00442 6211 00	eax1 	pr6|290
005515  aa   020000 4310 07	fld  	8192,dl
005516  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
005517  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 505
	call hcs_$set_damaged_sw (LV_DIR, uname, "0"b, (0));

005520  aa   000000 2350 07	lda  	0,dl
005521  aa  6 00553 7551 00	sta  	pr6|363
005522  aa  6 00403 4501 00	stz  	pr6|259
005523  aa  6 00044 3701 20	epp4 	pr6|36,*
005524  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
005525  aa  6 00444 2521 00	spri2	pr6|292
005526  aa  6 00164 3521 00	epp2 	pr6|116		uname
005527  aa  6 00446 2521 00	spri2	pr6|294
005530  aa  6 00553 3521 00	epp2 	pr6|363
005531  aa  6 00450 2521 00	spri2	pr6|296
005532  aa  6 00403 3521 00	epp2 	pr6|259
005533  aa  6 00452 2521 00	spri2	pr6|298
005534  aa   772375 3520 04	epp2 	-2819,ic		000131 = 526000000250
005535  aa  6 00454 2521 00	spri2	pr6|300
005536  aa   772404 3520 04	epp2 	-2812,ic		000142 = 526000000040
005537  aa  6 00456 2521 00	spri2	pr6|302
005540  aa   772401 3520 04	epp2 	-2815,ic		000141 = 514000000001
005541  aa  6 00460 2521 00	spri2	pr6|304
005542  aa   772373 3520 04	epp2 	-2821,ic		000135 = 404000000043
005543  aa  6 00462 2521 00	spri2	pr6|306
005544  aa  6 00442 6211 00	eax1 	pr6|290
005545  aa   020000 4310 07	fld  	8192,dl
005546  la  4 00222 3521 20	epp2 	pr4|146,*		hcs_$set_damaged_sw
005547  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 506
	call mdc_repair_$recreate_mdcs (lvname, (volume_registration.hvid), ec);

005550  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
005551  aa  7 00001 2351 00	lda  	pr7|1		volume_registration.hvid
005552  aa  6 00403 7551 00	sta  	pr6|259
005553  aa  6 00204 3521 00	epp2 	pr6|132		lvname
005554  aa  6 00424 2521 00	spri2	pr6|276
005555  aa  6 00403 3521 00	epp2 	pr6|259
005556  aa  6 00426 2521 00	spri2	pr6|278
005557  aa  6 00254 3521 00	epp2 	pr6|172		ec
005560  aa  6 00430 2521 00	spri2	pr6|280
005561  aa   772361 3520 04	epp2 	-2831,ic		000142 = 526000000040
005562  aa  6 00432 2521 00	spri2	pr6|282
005563  aa   772360 3520 04	epp2 	-2832,ic		000143 = 514000000044
005564  aa  6 00434 2521 00	spri2	pr6|284
005565  aa   772350 3520 04	epp2 	-2840,ic		000135 = 404000000043
005566  aa  6 00436 2521 00	spri2	pr6|286
005567  aa  6 00422 6211 00	eax1 	pr6|274
005570  aa   014000 4310 07	fld  	6144,dl
005571  aa  6 00044 3701 20	epp4 	pr6|36,*
005572  la  4 00236 3521 20	epp2 	pr4|158,*		mdc_repair_$recreate_mdcs
005573  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 507
	if ec ^= 0 then if ec ^= error_table_$namedup
	     then call com_err_ (ec, "hdx", "cannot make mdcs for ^a", lvname);

005574  aa  6 00254 2361 00	ldq  	pr6|172		ec
005575  aa   000040 6000 04	tze  	32,ic		005635
005576  aa  6 00044 3701 20	epp4 	pr6|36,*
005577  la  4 00156 1161 20	cmpq 	pr4|110,*		error_table_$namedup
005600  aa   000035 6000 04	tze  	29,ic		005635
005601  aa   772317 2350 04	lda  	-2865,ic		000120 = 150144170000
005602  aa  6 00403 7551 00	sta  	pr6|259
005603  aa   772377 2370 04	ldaq 	-2817,ic		000202 = 143141156156 157164040155
005604  aa  6 00412 7571 00	staq 	pr6|266
005605  aa   772377 2370 04	ldaq 	-2817,ic		000204 = 141153145040 155144143163
005606  aa  6 00414 7571 00	staq 	pr6|268
005607  aa   772377 2370 04	ldaq 	-2817,ic		000206 = 040146157162 040136141000
005610  aa  6 00416 7571 00	staq 	pr6|270
005611  aa  6 00254 3521 00	epp2 	pr6|172		ec
005612  aa  6 00444 2521 00	spri2	pr6|292
005613  aa  6 00403 3521 00	epp2 	pr6|259
005614  aa  6 00446 2521 00	spri2	pr6|294
005615  aa  6 00412 3521 00	epp2 	pr6|266
005616  aa  6 00450 2521 00	spri2	pr6|296
005617  aa  6 00204 3521 00	epp2 	pr6|132		lvname
005620  aa  6 00452 2521 00	spri2	pr6|298
005621  aa   772314 3520 04	epp2 	-2868,ic		000135 = 404000000043
005622  aa  6 00454 2521 00	spri2	pr6|300
005623  aa   772274 3520 04	epp2 	-2884,ic		000117 = 524000000003
005624  aa  6 00456 2521 00	spri2	pr6|302
005625  aa   772267 3520 04	epp2 	-2889,ic		000114 = 524000000027
005626  aa  6 00460 2521 00	spri2	pr6|304
005627  aa   772313 3520 04	epp2 	-2869,ic		000142 = 526000000040
005630  aa  6 00462 2521 00	spri2	pr6|306
005631  aa  6 00442 6211 00	eax1 	pr6|290
005632  aa   020000 4310 07	fld  	8192,dl
005633  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
005634  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 510
	pvname = dte.pvname;

005635  aa  6 00322 3735 20	epp7 	pr6|210,*		dtep
005636  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
005637  aa  7 00004 00 0040	desc9a	pr7|4,32		dte.pvname
005640  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
						STATEMENT 1 ON LINE 511
	en = "pv." || pvname;

005641  aa   000043 2360 07	ldq  	35,dl
005642  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
005643  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
005644  aa   772243 00 0003	desc9a	-2909,3		000106 = 160166056000
005645  aa  2 00000 00 0003	desc9a	pr2|0,3
005646  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
005647  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
005650  aa  2 00000 60 0040	desc9a	pr2|0(3),32
005651  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
005652  aa  2 00000 00 0040	desc9a	pr2|0,32
005653  aa  6 00152 00 0040	desc9a	pr6|106,32	en
						STATEMENT 1 ON LINE 512
	call hcs_$chname_seg (vrp, "", en, ec);

005654  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
005655  aa  6 00316 3521 00	epp2 	pr6|206		vrp
005656  aa  6 00444 2521 00	spri2	pr6|292
005657  aa  6 00403 3521 00	epp2 	pr6|259
005660  aa  6 00446 2521 00	spri2	pr6|294
005661  aa  6 00152 3521 00	epp2 	pr6|106		en
005662  aa  6 00450 2521 00	spri2	pr6|296
005663  aa  6 00254 3521 00	epp2 	pr6|172		ec
005664  aa  6 00452 2521 00	spri2	pr6|298
005665  aa   772252 3520 04	epp2 	-2902,ic		000137 = 464000000000
005666  aa  6 00454 2521 00	spri2	pr6|300
005667  aa   772240 3520 04	epp2 	-2912,ic		000127 = 524000000000
005670  aa  6 00456 2521 00	spri2	pr6|302
005671  aa   772251 3520 04	epp2 	-2903,ic		000142 = 526000000040
005672  aa  6 00460 2521 00	spri2	pr6|304
005673  aa   772242 3520 04	epp2 	-2910,ic		000135 = 404000000043
005674  aa  6 00462 2521 00	spri2	pr6|306
005675  aa  6 00442 6211 00	eax1 	pr6|290
005676  aa   020000 4310 07	fld  	8192,dl
005677  aa  6 00044 3701 20	epp4 	pr6|36,*
005700  la  4 00202 3521 20	epp2 	pr4|130,*		hcs_$chname_seg
005701  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 513
	if ec ^= 0 then if ec ^= error_table_$segnamedup
	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a ", en, lvname);

005702  aa  6 00254 2361 00	ldq  	pr6|172		ec
005703  aa   000043 6000 04	tze  	35,ic		005746
005704  aa  6 00044 3701 20	epp4 	pr6|36,*
005705  la  4 00154 1161 20	cmpq 	pr4|108,*		error_table_$segnamedup
005706  aa   000040 6000 04	tze  	32,ic		005746
005707  aa   772211 2350 04	lda  	-2935,ic		000120 = 150144170000
005710  aa  6 00403 7551 00	sta  	pr6|259
005711  aa   772263 2370 04	ldaq 	-2893,ic		000174 = 143141156164 040141144144
005712  aa  6 00412 7571 00	staq 	pr6|266
005713  aa   772263 2370 04	ldaq 	-2893,ic		000176 = 040156141155 145040136141
005714  aa  6 00414 7571 00	staq 	pr6|268
005715  aa   772263 2370 04	ldaq 	-2893,ic		000200 = 040164157040 136141040000
005716  aa  6 00416 7571 00	staq 	pr6|270
005717  aa  6 00254 3521 00	epp2 	pr6|172		ec
005720  aa  6 00444 2521 00	spri2	pr6|292
005721  aa  6 00403 3521 00	epp2 	pr6|259
005722  aa  6 00446 2521 00	spri2	pr6|294
005723  aa  6 00412 3521 00	epp2 	pr6|266
005724  aa  6 00450 2521 00	spri2	pr6|296
005725  aa  6 00152 3521 00	epp2 	pr6|106		en
005726  aa  6 00452 2521 00	spri2	pr6|298
005727  aa  6 00204 3521 00	epp2 	pr6|132		lvname
005730  aa  6 00454 2521 00	spri2	pr6|300
005731  aa   772204 3520 04	epp2 	-2940,ic		000135 = 404000000043
005732  aa  6 00456 2521 00	spri2	pr6|302
005733  aa   772164 3520 04	epp2 	-2956,ic		000117 = 524000000003
005734  aa  6 00460 2521 00	spri2	pr6|304
005735  aa   772157 3520 04	epp2 	-2961,ic		000114 = 524000000027
005736  aa  6 00462 2521 00	spri2	pr6|306
005737  aa   772203 3520 04	epp2 	-2941,ic		000142 = 526000000040
005740  aa  6 00464 2521 00	spri2	pr6|308
005741  aa  6 00466 2521 00	spri2	pr6|310
005742  aa  6 00442 6211 00	eax1 	pr6|290
005743  aa   024000 4310 07	fld  	10240,dl
005744  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
005745  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 515
	if dn ^= LV_DIR
	then call hcs_$append_link (LV_DIR, en, target (en), ec);

005746  aa  6 00044 3701 20	epp4 	pr6|36,*
005747  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
005750  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
005751  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
005752  aa   000031 6000 04	tze  	25,ic		006003
005753  aa   001211 3520 04	epp2 	649,ic		007164 = 000004000000
005754  aa  2 00000 2351 00	lda  	pr2|0
005755  aa   001062 6700 04	tsp4 	562,ic		007037
005756  aa  6 00044 3701 20	epp4 	pr6|36,*
005757  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
005760  aa  6 00444 2521 00	spri2	pr6|292
005761  aa  6 00152 3521 00	epp2 	pr6|106		en
005762  aa  6 00446 2521 00	spri2	pr6|294
005763  aa  6 00500 3521 00	epp2 	pr6|320
005764  aa  6 00450 2521 00	spri2	pr6|296
005765  aa  6 00254 3521 00	epp2 	pr6|172		ec
005766  aa  6 00452 2521 00	spri2	pr6|298
005767  aa   772142 3520 04	epp2 	-2974,ic		000131 = 526000000250
005770  aa  6 00454 2521 00	spri2	pr6|300
005771  aa   772151 3520 04	epp2 	-2967,ic		000142 = 526000000040
005772  aa  6 00456 2521 00	spri2	pr6|302
005773  aa   772130 3520 04	epp2 	-2984,ic		000123 = 524000000250
005774  aa  6 00460 2521 00	spri2	pr6|304
005775  aa   772140 3520 04	epp2 	-2976,ic		000135 = 404000000043
005776  aa  6 00462 2521 00	spri2	pr6|306
005777  aa  6 00442 6211 00	eax1 	pr6|290
006000  aa   020000 4310 07	fld  	8192,dl
006001  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
006002  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 518
	do i = 1 to volume_registration.npv while (volume_registration.pvname (i) ^= pvname);

006003  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006004  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
006005  aa  6 00350 7561 00	stq  	pr6|232
006006  aa   000001 2360 07	ldq  	1,dl
006007  aa  6 00217 7561 00	stq  	pr6|143		i
006010  aa  6 00217 2361 00	ldq  	pr6|143		i
006011  aa  6 00350 1161 00	cmpq 	pr6|232
006012  aa   000012 6054 04	tpnz 	10,ic		006024
006013  aa   000036 4020 07	mpy  	30,dl
006014  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006015  aa  7 00046 3735 06	epp7 	pr7|38,ql		volume_registration.pvname
006016  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
006017  aa  7 00000 00 0040	desc9a	pr7|0,32		volume_registration.pvname
006020  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
006021  aa   000003 6000 04	tze  	3,ic		006024
						STATEMENT 2 ON LINE 518
 end;

006022  aa  6 00217 0541 00	aos  	pr6|143		i
006023  aa   777765 7100 04	tra  	-11,ic		006010
						STATEMENT 1 ON LINE 519
	if i > volume_registration.npv then do;

006024  aa  6 00217 2361 00	ldq  	pr6|143		i
006025  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006026  aa  7 00101 1161 00	cmpq 	pr7|65		volume_registration.npv
006027  aa   000123 6044 04	tmoz 	83,ic		006152
						STATEMENT 1 ON LINE 520
	     volume_registration.pv (i).pvid = dte.pvid;

006030  aa   000036 4020 07	mpy  	30,dl
006031  aa  6 00322 3715 20	epp5 	pr6|210,*		dtep
006032  aa  5 00003 2351 00	lda  	pr5|3		dte.pvid
006033  aa  7 00044 7551 06	sta  	pr7|36,ql		volume_registration.pvid
						STATEMENT 1 ON LINE 521
	     volume_registration.pv (i).pvname = pvname;

006034  aa  7 00046 3535 06	epp3 	pr7|38,ql		volume_registration.pvname
006035  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
006036  aa  6 00174 00 0040	desc9a	pr6|124,32	pvname
006037  aa  3 00000 00 0040	desc9a	pr3|0,32		volume_registration.pvname
						STATEMENT 1 ON LINE 522
	     volume_registration.pv (i).model = dte.device_type;

006040  aa  5 00002 2351 00	lda  	pr5|2		dte.device_type
006041  aa   000000 6270 06	eax7 	0,ql
006042  aa   000077 7330 00	lrs  	63
006043  aa  7 00045 7561 17	stq  	pr7|37,7		volume_registration.model
						STATEMENT 1 ON LINE 523
	     volume_registration.pv (i).location = "online";

006044  aa  7 00056 3515 17	epp1 	pr7|46,7		volume_registration.location
006045  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
006046  aa   772103 00 0006	desc9a	-3005,6		000150 = 157156154151
006047  aa  1 00000 00 0040	desc9a	pr1|0,32		volume_registration.location
						STATEMENT 1 ON LINE 524
	     volume_registration.pv (i).mfg_serial = "registered by crash recovery";

006050  aa  7 00066 3535 17	epp3 	pr7|54,7		volume_registration.mfg_serial
006051  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
006052  aa   772167 00 0034	desc9a	-2953,28		000240 = 162145147151
006053  aa  3 00000 00 0040	desc9a	pr3|0,32		volume_registration.mfg_serial
						STATEMENT 1 ON LINE 525
	     volume_registration.pv (i).password = "0"b;

006054  aa  7 00100 4501 17	stz  	pr7|64,7		volume_registration.password
						STATEMENT 1 ON LINE 526
	     volume_registration.pv (i).date_registered = clock ();

006055  aa  0 01435 7001 00	tsx0 	pr0|797		clock
006056  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006057  aa  7 00076 7571 17	staq 	pr7|62,7		volume_registration.date_registered
						STATEMENT 1 ON LINE 527
	     volume_registration.npv = volume_registration.npv + 1;

006060  aa  7 00101 0541 00	aos  	pr7|65		volume_registration.npv
						STATEMENT 1 ON LINE 528
	     call com_err_ (0, "hdx", "reregistered pv ^a pvid ^w in lv ^a",
		volume_registration.pv (i).pvname, volume_registration.pv (i).pvid, lvname);

006061  aa   772040 2360 04	ldq  	-3040,ic		000121 = 524000000040
006062  aa  6 00403 7561 00	stq  	pr6|259
006063  aa   772060 2360 04	ldq  	-3024,ic		000143 = 514000000044
006064  aa  6 00553 7561 00	stq  	pr6|363
006065  aa  6 00411 4501 00	stz  	pr6|265
006066  aa   772032 2350 04	lda  	-3046,ic		000120 = 150144170000
006067  aa  6 00410 7551 00	sta  	pr6|264
006070  aa  000 100 100 404	mlr  	(ic),(pr),fill(000)
006071  aa   772167 00 0044	desc9a	-2953,36		000257 = 162145162145
006072  aa  6 00422 00 0044	desc9a	pr6|274,36
006073  aa  6 00411 3521 00	epp2 	pr6|265
006074  aa  6 00444 2521 00	spri2	pr6|292
006075  aa  6 00410 3521 00	epp2 	pr6|264
006076  aa  6 00446 2521 00	spri2	pr6|294
006077  aa  6 00422 3521 00	epp2 	pr6|274
006100  aa  6 00450 2521 00	spri2	pr6|296
006101  aa  7 00046 3521 17	epp2 	pr7|38,7		volume_registration.pvname
006102  aa  6 00452 2521 00	spri2	pr6|298
006103  aa  7 00044 3521 17	epp2 	pr7|36,7		volume_registration.pvid
006104  aa  6 00454 2521 00	spri2	pr6|300
006105  aa  6 00204 3521 00	epp2 	pr6|132		lvname
006106  aa  6 00456 2521 00	spri2	pr6|302
006107  aa   772023 3520 04	epp2 	-3053,ic		000132 = 404000000005
006110  aa  6 00460 2521 00	spri2	pr6|304
006111  aa   772006 3520 04	epp2 	-3066,ic		000117 = 524000000003
006112  aa  6 00462 2521 00	spri2	pr6|306
006113  aa   771772 3520 04	epp2 	-3078,ic		000105 = 524000000043
006114  aa  6 00464 2521 00	spri2	pr6|308
006115  aa  6 00403 3521 00	epp2 	pr6|259
006116  aa  6 00466 2521 00	spri2	pr6|310
006117  aa  6 00553 3521 00	epp2 	pr6|363
006120  aa  6 00470 2521 00	spri2	pr6|312
006121  aa   772021 3520 04	epp2 	-3055,ic		000142 = 526000000040
006122  aa  6 00472 2521 00	spri2	pr6|314
006123  aa  6 00442 6211 00	eax1 	pr6|290
006124  aa   030000 4310 07	fld  	12288,dl
006125  aa  6 00044 3701 20	epp4 	pr6|36,*
006126  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
006127  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 530
	     call hcs_$set_bc_seg (vrp, 36*size (volume_registration), ec);

006130  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006131  aa  7 00101 2361 00	ldq  	pr7|65		volume_registration.npv
006132  aa   000036 4020 07	mpy  	30,dl
006133  aa   000102 0760 07	adq  	66,dl
006134  aa   000044 4020 07	mpy  	36,dl
006135  aa  6 00403 7561 00	stq  	pr6|259
006136  aa  6 00316 3521 00	epp2 	pr6|206		vrp
006137  aa  6 00414 2521 00	spri2	pr6|268
006140  aa  6 00403 3521 00	epp2 	pr6|259
006141  aa  6 00416 2521 00	spri2	pr6|270
006142  aa  6 00254 3521 00	epp2 	pr6|172		ec
006143  aa  6 00420 2521 00	spri2	pr6|272
006144  aa  6 00412 6211 00	eax1 	pr6|266
006145  aa   014000 4310 07	fld  	6144,dl
006146  aa  6 00044 3701 20	epp4 	pr6|36,*
006147  la  4 00220 3521 20	epp2 	pr4|144,*		hcs_$set_bc_seg
006150  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 531
	end;

006151  aa   000057 7100 04	tra  	47,ic		006230
						STATEMENT 1 ON LINE 532
	else do;

						STATEMENT 1 ON LINE 533
	     if volume_registration.pv (i).pvid ^= dte.pvid
	     | volume_registration.pv (i).model ^= dte.device_type
	     then call com_err_ (0, "hdx", "registration for ^a was different from disk_table", pvname);

006152  aa   000036 4020 07	mpy  	30,dl
006153  aa  7 00044 2351 06	lda  	pr7|36,ql		volume_registration.pvid
006154  aa  6 00322 3715 20	epp5 	pr6|210,*		dtep
006155  aa  5 00003 1151 00	cmpa 	pr5|3		dte.pvid
006156  aa  6 00403 7561 00	stq  	pr6|259
006157  aa   000006 6010 04	tnz  	6,ic		006165
006160  aa  5 00002 2351 00	lda  	pr5|2		dte.device_type
006161  aa   000077 7330 00	lrs  	63
006162  aa  6 00403 7271 00	lxl7 	pr6|259
006163  aa  7 00045 1161 17	cmpq 	pr7|37,7		volume_registration.model
006164  aa   000034 6000 04	tze  	28,ic		006220
006165  aa  6 00553 4501 00	stz  	pr6|363
006166  aa   771732 2350 04	lda  	-3110,ic		000120 = 150144170000
006167  aa  6 00410 7551 00	sta  	pr6|264
006170  aa  000 100 100 404	mlr  	(ic),(pr),fill(000)
006171  aa   772114 00 0064	desc9a	-2996,52		000304 = 162145147151
006172  aa  6 00422 00 0064	desc9a	pr6|274,52
006173  aa  6 00553 3521 00	epp2 	pr6|363
006174  aa  6 00444 2521 00	spri2	pr6|292
006175  aa  6 00410 3521 00	epp2 	pr6|264
006176  aa  6 00446 2521 00	spri2	pr6|294
006177  aa  6 00422 3521 00	epp2 	pr6|274
006200  aa  6 00450 2521 00	spri2	pr6|296
006201  aa  6 00174 3521 00	epp2 	pr6|124		pvname
006202  aa  6 00452 2521 00	spri2	pr6|298
006203  aa   771727 3520 04	epp2 	-3113,ic		000132 = 404000000005
006204  aa  6 00454 2521 00	spri2	pr6|300
006205  aa   771712 3520 04	epp2 	-3126,ic		000117 = 524000000003
006206  aa  6 00456 2521 00	spri2	pr6|302
006207  aa   771675 3520 04	epp2 	-3139,ic		000104 = 524000000061
006210  aa  6 00460 2521 00	spri2	pr6|304
006211  aa   771731 3520 04	epp2 	-3111,ic		000142 = 526000000040
006212  aa  6 00462 2521 00	spri2	pr6|306
006213  aa  6 00442 6211 00	eax1 	pr6|290
006214  aa   020000 4310 07	fld  	8192,dl
006215  aa  6 00044 3701 20	epp4 	pr6|36,*
006216  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
006217  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 536
	     volume_registration.pv (i).pvid = dte.pvid;

006220  aa  6 00322 3735 20	epp7 	pr6|210,*		dtep
006221  aa  7 00003 2351 00	lda  	pr7|3		dte.pvid
006222  aa  6 00403 7271 00	lxl7 	pr6|259
006223  aa  6 00316 3715 20	epp5 	pr6|206,*		vrp
006224  aa  5 00044 7551 17	sta  	pr5|36,7		volume_registration.pvid
						STATEMENT 1 ON LINE 537
	     volume_registration.pv (i).model = dte.device_type;

006225  aa  7 00002 2351 00	lda  	pr7|2		dte.device_type
006226  aa   000077 7330 00	lrs  	63
006227  aa  5 00045 7561 17	stq  	pr5|37,7		volume_registration.model
						STATEMENT 1 ON LINE 538
	end;

						STATEMENT 1 ON LINE 539
	uname = "pvid." || unique_chars_ (volume_registration.pv (i).pvid);

006230  aa   771713 2360 04	ldq  	-3125,ic		000143 = 514000000044
006231  aa  6 00403 7561 00	stq  	pr6|259
006232  aa  6 00217 2361 00	ldq  	pr6|143		i
006233  aa   000036 4020 07	mpy  	30,dl
006234  aa  6 00316 3735 20	epp7 	pr6|206,*		vrp
006235  aa  7 00044 3521 06	epp2 	pr7|36,ql		volume_registration.pvid
006236  aa  6 00424 2521 00	spri2	pr6|276
006237  aa  6 00404 3521 00	epp2 	pr6|260
006240  aa  6 00426 2521 00	spri2	pr6|278
006241  aa  6 00403 3521 00	epp2 	pr6|259
006242  aa  6 00430 2521 00	spri2	pr6|280
006243  aa   771675 3520 04	epp2 	-3139,ic		000140 = 526000000017
006244  aa  6 00432 2521 00	spri2	pr6|282
006245  aa  6 00422 6211 00	eax1 	pr6|274
006246  aa   010000 4310 07	fld  	4096,dl
006247  aa  6 00044 3701 20	epp4 	pr6|36,*
006250  la  4 00246 3521 20	epp2 	pr4|166,*		unique_chars_
006251  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
006252  aa   000024 2360 07	ldq  	20,dl
006253  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
006254  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
006255  aa   771700 00 0005	desc9a	-3136,5		000154 = 160166151144
006256  aa  2 00000 00 0005	desc9a	pr2|0,5
006257  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
006260  aa  6 00404 00 0017	desc9a	pr6|260,15
006261  aa  2 00001 20 0017	desc9a	pr2|1(1),15
006262  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
006263  aa  2 00000 00 0024	desc9a	pr2|0,20
006264  aa  6 00164 00 0040	desc9a	pr6|116,32	uname
						STATEMENT 1 ON LINE 540
	call hcs_$chname_seg (vrp, "", uname, ec);

006265  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
006266  aa  6 00316 3521 00	epp2 	pr6|206		vrp
006267  aa  6 00444 2521 00	spri2	pr6|292
006270  aa  6 00403 3521 00	epp2 	pr6|259
006271  aa  6 00446 2521 00	spri2	pr6|294
006272  aa  6 00164 3521 00	epp2 	pr6|116		uname
006273  aa  6 00450 2521 00	spri2	pr6|296
006274  aa  6 00254 3521 00	epp2 	pr6|172		ec
006275  aa  6 00452 2521 00	spri2	pr6|298
006276  aa   771641 3520 04	epp2 	-3167,ic		000137 = 464000000000
006277  aa  6 00454 2521 00	spri2	pr6|300
006300  aa   771627 3520 04	epp2 	-3177,ic		000127 = 524000000000
006301  aa  6 00456 2521 00	spri2	pr6|302
006302  aa   771640 3520 04	epp2 	-3168,ic		000142 = 526000000040
006303  aa  6 00460 2521 00	spri2	pr6|304
006304  aa   771631 3520 04	epp2 	-3175,ic		000135 = 404000000043
006305  aa  6 00462 2521 00	spri2	pr6|306
006306  aa  6 00442 6211 00	eax1 	pr6|290
006307  aa   020000 4310 07	fld  	8192,dl
006310  aa  6 00044 3701 20	epp4 	pr6|36,*
006311  la  4 00202 3521 20	epp2 	pr4|130,*		hcs_$chname_seg
006312  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 541
	if ec ^= 0 then if ec ^= error_table_$segnamedup
	     then call com_err_ (ec, "hdx", "cant add name ^a to ^a", uname, lvname);

006313  aa  6 00254 2361 00	ldq  	pr6|172		ec
006314  aa   000043 6000 04	tze  	35,ic		006357
006315  aa  6 00044 3701 20	epp4 	pr6|36,*
006316  la  4 00154 1161 20	cmpq 	pr4|108,*		error_table_$segnamedup
006317  aa   000040 6000 04	tze  	32,ic		006357
006320  aa   771600 2350 04	lda  	-3200,ic		000120 = 150144170000
006321  aa  6 00403 7551 00	sta  	pr6|259
006322  aa   771666 2370 04	ldaq 	-3146,ic		000210 = 143141156164 040141144144
006323  aa  6 00412 7571 00	staq 	pr6|266
006324  aa   771666 2370 04	ldaq 	-3146,ic		000212 = 040156141155 145040136141
006325  aa  6 00414 7571 00	staq 	pr6|268
006326  aa   771666 2370 04	ldaq 	-3146,ic		000214 = 040164157040 136141000000
006327  aa  6 00416 7571 00	staq 	pr6|270
006330  aa  6 00254 3521 00	epp2 	pr6|172		ec
006331  aa  6 00444 2521 00	spri2	pr6|292
006332  aa  6 00403 3521 00	epp2 	pr6|259
006333  aa  6 00446 2521 00	spri2	pr6|294
006334  aa  6 00412 3521 00	epp2 	pr6|266
006335  aa  6 00450 2521 00	spri2	pr6|296
006336  aa  6 00164 3521 00	epp2 	pr6|116		uname
006337  aa  6 00452 2521 00	spri2	pr6|298
006340  aa  6 00204 3521 00	epp2 	pr6|132		lvname
006341  aa  6 00454 2521 00	spri2	pr6|300
006342  aa   771573 3520 04	epp2 	-3205,ic		000135 = 404000000043
006343  aa  6 00456 2521 00	spri2	pr6|302
006344  aa   771553 3520 04	epp2 	-3221,ic		000117 = 524000000003
006345  aa  6 00460 2521 00	spri2	pr6|304
006346  aa   771542 3520 04	epp2 	-3230,ic		000110 = 524000000026
006347  aa  6 00462 2521 00	spri2	pr6|306
006350  aa   771572 3520 04	epp2 	-3206,ic		000142 = 526000000040
006351  aa  6 00464 2521 00	spri2	pr6|308
006352  aa  6 00466 2521 00	spri2	pr6|310
006353  aa  6 00442 6211 00	eax1 	pr6|290
006354  aa   024000 4310 07	fld  	10240,dl
006355  la  4 00164 3521 20	epp2 	pr4|116,*		com_err_
006356  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 543
	if dn ^= LV_DIR				/* Hard case */
	then call hcs_$append_link (LV_DIR, uname, target (uname), ec);

006357  aa  6 00044 3701 20	epp4 	pr6|36,*
006360  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
006361  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
006362  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
006363  aa   000031 6000 04	tze  	25,ic		006414
006364  aa   000556 3520 04	epp2 	366,ic		007142 = 000004000000
006365  aa  2 00000 2351 00	lda  	pr2|0
006366  aa   000451 6700 04	tsp4 	297,ic		007037
006367  aa  6 00044 3701 20	epp4 	pr6|36,*
006370  ia  4 00067 3521 00	epp2 	pr4|55		LV_DIR
006371  aa  6 00444 2521 00	spri2	pr6|292
006372  aa  6 00164 3521 00	epp2 	pr6|116		uname
006373  aa  6 00446 2521 00	spri2	pr6|294
006374  aa  6 00500 3521 00	epp2 	pr6|320
006375  aa  6 00450 2521 00	spri2	pr6|296
006376  aa  6 00254 3521 00	epp2 	pr6|172		ec
006377  aa  6 00452 2521 00	spri2	pr6|298
006400  aa   771531 3520 04	epp2 	-3239,ic		000131 = 526000000250
006401  aa  6 00454 2521 00	spri2	pr6|300
006402  aa   771540 3520 04	epp2 	-3232,ic		000142 = 526000000040
006403  aa  6 00456 2521 00	spri2	pr6|302
006404  aa   771517 3520 04	epp2 	-3249,ic		000123 = 524000000250
006405  aa  6 00460 2521 00	spri2	pr6|304
006406  aa   771527 3520 04	epp2 	-3241,ic		000135 = 404000000043
006407  aa  6 00462 2521 00	spri2	pr6|306
006410  aa  6 00442 6211 00	eax1 	pr6|290
006411  aa   020000 4310 07	fld  	8192,dl
006412  la  4 00200 3521 20	epp2 	pr4|128,*		hcs_$append_link
006413  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 546
	call hcs_$terminate_noname (vrp, ec);

006414  aa  6 00316 3521 00	epp2 	pr6|206		vrp
006415  aa  6 00414 2521 00	spri2	pr6|268
006416  aa  6 00254 3521 00	epp2 	pr6|172		ec
006417  aa  6 00416 2521 00	spri2	pr6|270
006420  aa  6 00412 6211 00	eax1 	pr6|266
006421  aa   010000 4310 07	fld  	4096,dl
006422  aa  6 00044 3701 20	epp4 	pr6|36,*
006423  la  4 00232 3521 20	epp2 	pr4|154,*		hcs_$terminate_noname
006424  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 547
	return;

006425  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO test                                               STATEMENT 1 ON LINE 616
test:	entry (a_dn);

006426  at     000001000136
006427  ta     006426000000
006430  da     000540300000
006431  aa   000640 6270 00	eax7 	416
006432  aa  7 00034 3521 20	epp2 	pr7|28,*
006433  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
006434  aa     000002000000
006435  aa     000000000000
006436  aa  6 00042 3735 20	epp7 	pr6|34,*
006437  aa  7 00000 2361 20	ldq  	pr7|0,*
006440  aa   000002 6040 04	tmi  	2,ic		006442
006441  aa   777777 3760 07	anq  	262143,dl
006442  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
006443  aa  6 00552 7561 00	stq  	pr6|362
006444  aa   771655 7000 04	tsx0 	-3155,ic		000321
						STATEMENT 1 ON LINE 620
	ROOT, LV_DIR = a_dn;

006445  aa  6 00552 2361 00	ldq  	pr6|362
006446  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
006447  aa  6 00032 3735 20	epp7 	pr6|26,*
006450  aa  7 00002 3715 20	epp5 	pr7|2,*
006451  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
006452  aa  5 00000 00 0006	desc9a	pr5|0,ql		a_dn
006453  aa  2 00000 00 0006	desc9a	pr2|0,ql
006454  aa  6 00044 3701 20	epp4 	pr6|36,*
006455  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
006456  aa  2 00000 00 0006	desc9a	pr2|0,ql
006457  ia  4 00015 00 0250	desc9a	pr4|13,168	ROOT
006460  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
006461  aa  2 00000 00 0006	desc9a	pr2|0,ql
006462  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
						STATEMENT 1 ON LINE 621
	return;

006463  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
006464  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 891
     end hdx;

BEGIN PROCEDURE locate_
ENTRY TO locate_                                            STATEMENT 1 ON LINE 551
locate_:	proc (name, lvflag, dont_init_it);

006465  aa  6 00352 6501 00	spri4	pr6|234
006466  aa  6 00354 2521 00	spri2	pr6|236
006467  aa  2 00002 3521 01	epp2 	pr2|2,au
006470  aa  6 00356 2521 00	spri2	pr6|238
006471  aa  2 00000 2361 20	ldq  	pr2|0,*
006472  aa   000002 6040 04	tmi  	2,ic		006474
006473  aa   777777 3760 07	anq  	262143,dl
006474  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
006475  aa  6 00560 7561 00	stq  	pr6|368
						STATEMENT 1 ON LINE 555
	     call cu_$level_set (1);

006476  aa   000001 2360 07	ldq  	1,dl
006477  aa  6 00561 7561 00	stq  	pr6|369
006500  aa  6 00561 3521 00	epp2 	pr6|369
006501  aa  6 00564 2521 00	spri2	pr6|372
006502  aa  6 00562 6211 00	eax1 	pr6|370
006503  aa   004000 4310 07	fld  	2048,dl
006504  aa  6 00044 3701 20	epp4 	pr6|36,*
006505  la  4 00162 3521 20	epp2 	pr4|114,*		cu_$level_set
006506  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 556
	     if lvflag then do;

006507  aa  6 00354 3735 20	epp7 	pr6|236,*
006510  aa  7 00004 3715 20	epp5 	pr7|4,*
006511  aa  000 000 066 500	cmpb 	(pr),(),fill(0)
006512  aa  5 00000 00 0001	descb	pr5|0,1		lvflag
006513  aa   000000 00 0000	descb	0,0
006514  aa   000037 6000 04	tze  	31,ic		006553
						STATEMENT 1 ON LINE 557
		if name = "root" then
		     dn = ROOT;

006515  aa  7 00002 3535 20	epp3 	pr7|2,*
006516  aa  6 00560 2351 00	lda  	pr6|368
006517  aa  040 004 106 540	cmpc 	(pr,rl),(ic),fill(040)
006520  aa  3 00000 00 0005	desc9a	pr3|0,al		name
006521  aa   771364 00 0004	desc9a	-3340,4		000103 = 162157157164
006522  aa   000006 6010 04	tnz  	6,ic		006530
006523  aa  6 00044 3701 20	epp4 	pr6|36,*
006524  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
006525  ia  4 00015 00 0250	desc9a	pr4|13,168	ROOT
006526  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
006527  aa   000005 7100 04	tra  	5,ic		006534
						STATEMENT 1 ON LINE 559
		else dn = LV_DIR;

006530  aa  6 00044 3701 20	epp4 	pr6|36,*
006531  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
006532  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
006533  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
						STATEMENT 1 ON LINE 560
		en = "lv." || name;

006534  aa   000003 2360 07	ldq  	3,dl
006535  aa  6 00560 0761 00	adq  	pr6|368
006536  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
006537  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
006540  aa   771343 00 0003	desc9a	-3357,3		000102 = 154166056000
006541  aa  2 00000 00 0003	desc9a	pr2|0,3
006542  aa  6 00560 2351 00	lda  	pr6|368
006543  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
006544  aa  3 00000 00 0005	desc9a	pr3|0,al		name
006545  aa  2 00000 60 0005	desc9a	pr2|0(3),al
006546  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
006547  aa  2 00000 00 0006	desc9a	pr2|0,ql
006550  aa  6 00152 00 0040	desc9a	pr6|106,32	en
						STATEMENT 1 ON LINE 561
	     end;

006551  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
006552  aa   000036 7100 04	tra  	30,ic		006610
						STATEMENT 1 ON LINE 562
	     else do;

						STATEMENT 1 ON LINE 563
		if name = "rpv" then
		     dn = ROOT;

006553  aa  7 00002 3535 20	epp3 	pr7|2,*
006554  aa  6 00560 2351 00	lda  	pr6|368
006555  aa  040 004 106 540	cmpc 	(pr,rl),(ic),fill(040)
006556  aa  3 00000 00 0005	desc9a	pr3|0,al		name
006557  aa   771324 00 0003	desc9a	-3372,3		000101 = 162160166000
006560  aa   000006 6010 04	tnz  	6,ic		006566
006561  aa  6 00044 3701 20	epp4 	pr6|36,*
006562  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
006563  ia  4 00015 00 0250	desc9a	pr4|13,168	ROOT
006564  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
006565  aa   000005 7100 04	tra  	5,ic		006572
						STATEMENT 1 ON LINE 565
		else dn = LV_DIR;

006566  aa  6 00044 3701 20	epp4 	pr6|36,*
006567  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
006570  ia  4 00067 00 0250	desc9a	pr4|55,168	LV_DIR
006571  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
						STATEMENT 1 ON LINE 566
		en = "pv." || name;

006572  aa   000003 2360 07	ldq  	3,dl
006573  aa  6 00560 0761 00	adq  	pr6|368
006574  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
006575  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
006576  aa   771311 00 0003	desc9a	-3383,3		000106 = 160166056000
006577  aa  2 00000 00 0003	desc9a	pr2|0,3
006600  aa  6 00560 2351 00	lda  	pr6|368
006601  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
006602  aa  3 00000 00 0005	desc9a	pr3|0,al		name
006603  aa  2 00000 60 0005	desc9a	pr2|0(3),al
006604  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
006605  aa  2 00000 00 0006	desc9a	pr2|0,ql
006606  aa  6 00152 00 0040	desc9a	pr6|106,32	en
						STATEMENT 1 ON LINE 567
	     end;

006607  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
						STATEMENT 1 ON LINE 568
	     if ^dont_init_it then do;

006610  aa  7 00006 3515 20	epp1 	pr7|6,*
006611  aa  000 000 066 500	cmpb 	(pr),(),fill(0)
006612  aa  1 00000 00 0001	descb	pr1|0,1		dont_init_it
006613  aa   000000 00 0000	descb	0,0
006614  aa   000054 6010 04	tnz  	44,ic		006670
						STATEMENT 1 ON LINE 569
		call hcs_$initiate (dn, en, "", 0, 1, vrp, ec);

006615  aa  6 00566 4501 00	stz  	pr6|374
006616  aa   000001 2360 07	ldq  	1,dl
006617  aa  6 00567 7561 00	stq  	pr6|375
006620  aa  6 00100 3521 00	epp2 	pr6|64		dn
006621  aa  6 00572 2521 00	spri2	pr6|378
006622  aa  6 00152 3521 00	epp2 	pr6|106		en
006623  aa  6 00574 2521 00	spri2	pr6|380
006624  aa  6 00561 3521 00	epp2 	pr6|369
006625  aa  6 00576 2521 00	spri2	pr6|382
006626  aa  6 00566 3521 00	epp2 	pr6|374
006627  aa  6 00600 2521 00	spri2	pr6|384
006630  aa  6 00567 3521 00	epp2 	pr6|375
006631  aa  6 00602 2521 00	spri2	pr6|386
006632  aa  6 00316 3521 00	epp2 	pr6|206		vrp
006633  aa  6 00604 2521 00	spri2	pr6|388
006634  aa  6 00254 3521 00	epp2 	pr6|172		ec
006635  aa  6 00606 2521 00	spri2	pr6|390
006636  aa   771273 3520 04	epp2 	-3397,ic		000131 = 526000000250
006637  aa  6 00610 2521 00	spri2	pr6|392
006640  aa   771302 3520 04	epp2 	-3390,ic		000142 = 526000000040
006641  aa  6 00612 2521 00	spri2	pr6|394
006642  aa   771265 3520 04	epp2 	-3403,ic		000127 = 524000000000
006643  aa  6 00614 2521 00	spri2	pr6|396
006644  aa   771301 3520 04	epp2 	-3391,ic		000145 = 404000000021
006645  aa  6 00616 2521 00	spri2	pr6|398
006646  aa  6 00620 2521 00	spri2	pr6|400
006647  aa   771270 3520 04	epp2 	-3400,ic		000137 = 464000000000
006650  aa  6 00622 2521 00	spri2	pr6|402
006651  aa   771264 3520 04	epp2 	-3404,ic		000135 = 404000000043
006652  aa  6 00624 2521 00	spri2	pr6|404
006653  aa  6 00570 6211 00	eax1 	pr6|376
006654  aa   034000 4310 07	fld  	14336,dl
006655  la  4 00214 3521 20	epp2 	pr4|140,*		hcs_$initiate
006656  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 570
		if ec ^= 0 then ec = error_table_$unregistered_volume;

006657  aa  6 00254 2361 00	ldq  	pr6|172		ec
006660  aa   000004 6000 04	tze  	4,ic		006664
006661  aa  6 00044 3701 20	epp4 	pr6|36,*
006662  la  4 00146 2361 20	ldq  	pr4|102,*		error_table_$unregistered_volume
006663  aa  6 00254 7561 00	stq  	pr6|172		ec
						STATEMENT 1 ON LINE 571
		if vrp = null then go to exit1;

006664  aa  6 00316 2371 00	ldaq 	pr6|206		vrp
006665  aa   771273 6770 04	eraq 	-3397,ic		000160 = 077777000043 000001000000
006666  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
006667  aa   771623 6000 04	tze  	-3181,ic		000512
						STATEMENT 1 ON LINE 572
	     end;

						STATEMENT 1 ON LINE 574
	end locate_;

006670  aa  6 00352 6101 00	rtcd 	pr6|234
  END PROCEDURE locate_
BEGIN PROCEDURE get_lve
ENTRY TO get_lve                                            STATEMENT 1 ON LINE 576
get_lve:	proc () returns (fixed bin);

006671  aa  6 00360 6501 00	spri4	pr6|240
006672  aa  6 00362 2521 00	spri2	pr6|242
						STATEMENT 1 ON LINE 578
006673  aa  6 00366 4501 00	stz  	pr6|246		freex
006674  aa  6 00367 4501 00	stz  	pr6|247		j
						STATEMENT 1 ON LINE 579
006675  aa  6 00370 4501 00	stz  	pr6|248		found
						STATEMENT 1 ON LINE 582
	     do j = 1 to dt.n_lv_entries while (^found);

006676  aa  6 00320 3735 20	epp7 	pr6|208,*		dtp
006677  aa  7 00005 2361 00	ldq  	pr7|5		dt.n_lv_entries
006700  aa  6 00372 7561 00	stq  	pr6|250
006701  aa   000001 2360 07	ldq  	1,dl
006702  aa  6 00367 7561 00	stq  	pr6|247		j
006703  aa   000000 0110 03	nop  	0,du
006704  aa  6 00367 2361 00	ldq  	pr6|247		j
006705  aa  6 00372 1161 00	cmpq 	pr6|250
006706  aa   000037 6054 04	tpnz 	31,ic		006745
006707  aa  6 00370 2351 00	lda  	pr6|248		found
006710  aa   000035 6010 04	tnz  	29,ic		006745
						STATEMENT 1 ON LINE 583
		lvep = addr (dt.lv_array (j));

006711  aa   000016 4020 07	mpy  	14,dl
006712  aa  6 00626 7561 00	stq  	pr6|406
006713  aa  6 00320 3735 20	epp7 	pr6|208,*		dtp
006714  aa  7 00001 2361 00	ldq  	pr7|1		dt.max_n_entries
006715  aa   000014 4020 07	mpy  	12,dl
006716  aa   000010 0760 07	adq  	8,dl
006717  aa  6 00626 0761 00	adq  	pr6|406
006720  aa  7 77762 3715 06	epp5 	pr7|-14,ql	dt.lv_array
006721  aa  6 00324 6515 00	spri5	pr6|212		lvep
						STATEMENT 1 ON LINE 584
		if ^lve.used
		then if freex = 0
		     then freex = j;

006722  aa  5 00001 2351 00	lda  	pr5|1		lve.used
006723  aa   400000 3150 03	cana 	131072,du
006724  aa   000006 6010 04	tnz  	6,ic		006732
006725  aa  6 00366 2361 00	ldq  	pr6|246		freex
006726  aa   000015 6010 04	tnz  	13,ic		006743
006727  aa  6 00367 2361 00	ldq  	pr6|247		j
006730  aa  6 00366 7561 00	stq  	pr6|246		freex
						STATEMENT 1 ON LINE 587
		     else;

006731  aa   000012 7100 04	tra  	10,ic		006743
						STATEMENT 1 ON LINE 588
		else if lve.lvname = volume_registration.hvname then do;

006732  aa  6 00316 3535 20	epp3 	pr6|206,*		vrp
006733  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
006734  aa  5 00002 00 0040	desc9a	pr5|2,32		lve.lvname
006735  aa  3 00002 00 0040	desc9a	pr3|2,32		volume_registration.hvname
006736  aa   000005 6010 04	tnz  	5,ic		006743
						STATEMENT 1 ON LINE 589
		     lvx = j;

006737  aa  6 00367 2361 00	ldq  	pr6|247		j
006740  aa  6 00371 7561 00	stq  	pr6|249		lvx
						STATEMENT 1 ON LINE 590
		     found = "1"b;

006741  aa   400000 2350 03	lda  	131072,du
006742  aa  6 00370 7551 00	sta  	pr6|248		found
						STATEMENT 1 ON LINE 591
		end;

						STATEMENT 1 ON LINE 592
	     end;

006743  aa  6 00367 0541 00	aos  	pr6|247		j
006744  aa   777740 7100 04	tra  	-32,ic		006704
						STATEMENT 1 ON LINE 593
	     if ^found then do;

006745  aa  6 00370 2351 00	lda  	pr6|248		found
006746  aa   000030 6010 04	tnz  	24,ic		006776
						STATEMENT 1 ON LINE 594
		if freex = 0 then freex, dt.n_lv_entries = dt.n_lv_entries + 1;

006747  aa  6 00366 2361 00	ldq  	pr6|246		freex
006750  aa   000006 6010 04	tnz  	6,ic		006756
006751  aa  6 00320 3735 20	epp7 	pr6|208,*		dtp
006752  aa  7 00005 2361 00	ldq  	pr7|5		dt.n_lv_entries
006753  aa   000001 0760 07	adq  	1,dl
006754  aa  6 00366 7561 00	stq  	pr6|246		freex
006755  aa  7 00005 7561 00	stq  	pr7|5		dt.n_lv_entries
						STATEMENT 1 ON LINE 595
		lvx = freex;

006756  aa  6 00371 7561 00	stq  	pr6|249		lvx
						STATEMENT 1 ON LINE 596
		lvep = addr (dt.lv_array (freex));

006757  aa   000016 4020 07	mpy  	14,dl
006760  aa  6 00626 7561 00	stq  	pr6|406
006761  aa  6 00320 3735 20	epp7 	pr6|208,*		dtp
006762  aa  7 00001 2361 00	ldq  	pr7|1		dt.max_n_entries
006763  aa   000014 4020 07	mpy  	12,dl
006764  aa   000010 0760 07	adq  	8,dl
006765  aa  6 00626 0761 00	adq  	pr6|406
006766  aa  7 77762 3715 06	epp5 	pr7|-14,ql	dt.lv_array
006767  aa  6 00324 6515 00	spri5	pr6|212		lvep
						STATEMENT 1 ON LINE 597
		unspec (lve) = ""b;

006770  aa  000 100 100 400	mlr  	(),(pr),fill(000)
006771  aa   000000 00 0000	desc9a	0,0
006772  aa  5 00000 00 0070	desc9a	pr5|0,56
						STATEMENT 1 ON LINE 598
		lve.used = "1"b;

006773  aa   400000 2350 03	lda  	131072,du
006774  aa  5 00001 2551 00	orsa 	pr5|1		lve.used
						STATEMENT 1 ON LINE 599
	     end;

006775  aa   000013 7100 04	tra  	11,ic		007010
						STATEMENT 1 ON LINE 600
	     else lvep = addr (dt.lv_array (lvx));

006776  aa  6 00371 2361 00	ldq  	pr6|249		lvx
006777  aa   000016 4020 07	mpy  	14,dl
007000  aa  6 00626 7561 00	stq  	pr6|406
007001  aa  6 00320 3735 20	epp7 	pr6|208,*		dtp
007002  aa  7 00001 2361 00	ldq  	pr7|1		dt.max_n_entries
007003  aa   000014 4020 07	mpy  	12,dl
007004  aa   000010 0760 07	adq  	8,dl
007005  aa  6 00626 0761 00	adq  	pr6|406
007006  aa  7 77762 3715 06	epp5 	pr7|-14,ql	dt.lv_array
007007  aa  6 00324 6515 00	spri5	pr6|212		lvep
						STATEMENT 1 ON LINE 604
	     lve.public = volume_registration.public;

007010  aa  6 00316 3535 20	epp3 	pr6|206,*		vrp
007011  aa  3 00100 2351 00	lda  	pr3|64		volume_registration.public
007012  aa   000002 7710 00	arl  	2
007013  aa  5 00001 6751 00	era  	pr5|1		lve.public
007014  aa   100000 3750 03	ana  	32768,du
007015  aa  5 00001 6551 00	ersa 	pr5|1		lve.public
						STATEMENT 1 ON LINE 605
	     lve.lvid = volume_registration.hvid;

007016  aa  3 00001 2351 00	lda  	pr3|1		volume_registration.hvid
007017  aa  5 00000 7551 00	sta  	pr5|0		lve.lvid
						STATEMENT 1 ON LINE 606
	     lve.lvname = volume_registration.hvname;

007020  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
007021  aa  3 00002 00 0040	desc9a	pr3|2,32		volume_registration.hvname
007022  aa  5 00002 00 0040	desc9a	pr5|2,32		lve.lvname
						STATEMENT 1 ON LINE 607
	     lve.min_access_class = volume_registration.min_access_class;

007023  aa  3 00014 2351 00	lda  	pr3|12		volume_registration.min_access_class
007024  aa  3 00015 2361 00	ldq  	pr3|13		volume_registration.min_access_class
007025  aa  5 00012 7551 00	sta  	pr5|10		lve.min_access_class
007026  aa  5 00013 7561 00	stq  	pr5|11		lve.min_access_class
						STATEMENT 1 ON LINE 608
	     lve.max_access_class = volume_registration.max_access_class;

007027  aa  3 00012 2351 00	lda  	pr3|10		volume_registration.max_access_class
007030  aa  3 00013 2361 00	ldq  	pr3|11		volume_registration.max_access_class
007031  aa  5 00014 7551 00	sta  	pr5|12		lve.max_access_class
007032  aa  5 00015 7561 00	stq  	pr5|13		lve.max_access_class
						STATEMENT 1 ON LINE 610
	     return (lvx);

007033  aa  6 00371 2361 00	ldq  	pr6|249		lvx
007034  aa  6 00362 3515 20	epp1 	pr6|242,*
007035  aa  1 00002 7561 20	stq  	pr1|2,*
007036  aa  6 00360 6101 00	rtcd 	pr6|240
						STATEMENT 1 ON LINE 612
	end get_lve;

  END PROCEDURE get_lve
BEGIN PROCEDURE target
ENTRY TO target                                             STATEMENT 1 ON LINE 623
target:	proc (x) returns (char (168));

007037  aa  6 00374 6501 00	spri4	pr6|252
007040  aa  6 00376 2521 00	spri2	pr6|254
007041  aa  2 00002 3521 01	epp2 	pr2|2,au
007042  aa  6 00400 2521 00	spri2	pr6|256
007043  aa  2 00000 2361 20	ldq  	pr2|0,*
007044  aa   000002 6040 04	tmi  	2,ic		007046
007045  aa   777777 3760 07	anq  	262143,dl
007046  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
007047  aa  6 00627 7561 00	stq  	pr6|407
						STATEMENT 1 ON LINE 627
	     if dn = ">" then return (">" || x);

007050  aa  040 004 106 500	cmpc 	(pr),(ic),fill(040)
007051  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
007052  aa   000327 00 0001	desc9a	215,1		007377 = 076000000000
007053  aa   000022 6010 04	tnz  	18,ic		007075
007054  aa   000001 0760 07	adq  	1,dl
007055  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
007056  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
007057  aa   000321 00 0001	desc9a	209,1		007377 = 076000000000
007060  aa  2 00000 00 0001	desc9a	pr2|0,1
007061  aa  6 00376 3735 20	epp7 	pr6|254,*
007062  aa  7 00002 3715 20	epp5 	pr7|2,*
007063  aa  6 00627 2351 00	lda  	pr6|407
007064  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
007065  aa  5 00000 00 0005	desc9a	pr5|0,al		x
007066  aa  2 00000 20 0005	desc9a	pr2|0(1),al
007067  aa  7 00004 3535 20	epp3 	pr7|4,*
007070  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
007071  aa  2 00000 00 0006	desc9a	pr2|0,ql
007072  aa  3 00000 00 0250	desc9a	pr3|0,168
007073  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
007074  aa  6 00374 6101 00	rtcd 	pr6|252
						STATEMENT 1 ON LINE 628
	     else return (rtrim (dn) || ">" || x);

007075  aa  000 000 165 500	tctr 	(pr)
007076  aa  6 00100 00 0250	desc9a	pr6|64,168	dn
007077  aa  0 76605 0001 00	arg  	pr0|-635		= 777777777777
007100  aa  6 00056 0001 00	arg  	pr6|46
007101  aa  6 00056 2361 00	ldq  	pr6|46
007102  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
007103  aa  6 00630 7561 00	stq  	pr6|408
007104  aa   000250 2360 07	ldq  	168,dl
007105  aa  6 00630 1761 00	sbq  	pr6|408
007106  aa  6 00630 7561 00	stq  	pr6|408
007107  aa   000001 0760 07	adq  	1,dl
007110  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
007111  aa  6 00630 2351 00	lda  	pr6|408
007112  aa  040 140 100 540	mlr  	(pr,rl),(pr,rl),fill(040)
007113  aa  6 00100 00 0005	desc9a	pr6|64,al		dn
007114  aa  2 00000 00 0005	desc9a	pr2|0,al
007115  aa  040 105 100 404	mlr  	(ic),(pr,al),fill(040)
007116  aa   000262 00 0001	desc9a	178,1		007377 = 076000000000
007117  aa  2 00000 00 0001	desc9a	pr2|0,1
007120  aa  6 00630 7561 00	stq  	pr6|408
007121  aa  6 00627 0761 00	adq  	pr6|407
007122  aa  6 00631 7561 00	stq  	pr6|409
007123  aa  0 00606 7001 00	tsx0 	pr0|390		cat_realloc_cs
007124  aa  6 00630 2351 00	lda  	pr6|408
007125  aa  6 00376 3735 20	epp7 	pr6|254,*
007126  aa  7 00002 3715 20	epp5 	pr7|2,*
007127  aa  6 00627 2361 00	ldq  	pr6|407
007130  aa  040 145 100 540	mlr  	(pr,rl),(pr,rl,al),fill(040)
007131  aa  5 00000 00 0006	desc9a	pr5|0,ql		x
007132  aa  2 00000 00 0006	desc9a	pr2|0,ql
007133  aa  7 00004 3535 20	epp3 	pr7|4,*
007134  aa  6 00631 2351 00	lda  	pr6|409
007135  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
007136  aa  2 00000 00 0005	desc9a	pr2|0,al
007137  aa  3 00000 00 0250	desc9a	pr3|0,168
007140  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
007141  aa  6 00374 6101 00	rtcd 	pr6|252
						STATEMENT 1 ON LINE 630
	end target;

  END PROCEDURE target
  END PROCEDURE hdx


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
